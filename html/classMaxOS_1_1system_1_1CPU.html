<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Max OS: MaxOS::system::CPU Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Max OS<span id="projectnumber">&#160;0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classMaxOS_1_1system_1_1CPU.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classMaxOS_1_1system_1_1CPU-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MaxOS::system::CPU Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> and its cores.  
 <a href="classMaxOS_1_1system_1_1CPU.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cpu_8h_source.html">cpu.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a204bdeba5377411c3d04a02fb19c6719" id="r_a204bdeba5377411c3d04a02fb19c6719"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a204bdeba5377411c3d04a02fb19c6719">CPU</a> (<a class="el" href="classMaxOS_1_1system_1_1GlobalDescriptorTable.html">GlobalDescriptorTable</a> *gdt, <a class="el" href="classMaxOS_1_1system_1_1Multiboot.html">Multiboot</a> *<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">multiboot</a>)</td></tr>
<tr class="memdesc:a204bdeba5377411c3d04a02fb19c6719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> class.  <br /></td></tr>
<tr class="separator:a204bdeba5377411c3d04a02fb19c6719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794ab2a2883fab58ce204299a3ec556f" id="r_a794ab2a2883fab58ce204299a3ec556f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a794ab2a2883fab58ce204299a3ec556f">find_cores</a> ()</td></tr>
<tr class="memdesc:a794ab2a2883fab58ce204299a3ec556f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search the madt for cores and store them.  <br /></td></tr>
<tr class="separator:a794ab2a2883fab58ce204299a3ec556f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599edada5a85faa0bcd689b8cff3f2ba" id="r_a599edada5a85faa0bcd689b8cff3f2ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a599edada5a85faa0bcd689b8cff3f2ba">init_cores</a> ()</td></tr>
<tr class="memdesc:a599edada5a85faa0bcd689b8cff3f2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up all the cores.  <br /></td></tr>
<tr class="separator:a599edada5a85faa0bcd689b8cff3f2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa008d61f4821a2e69fa636965fd5911b" id="r_aa008d61f4821a2e69fa636965fd5911b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#aa008d61f4821a2e69fa636965fd5911b">prepare_for_panic</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *status=<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">nullptr</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">const</a> <a class="el" href="string_8h.html#a4a6e5834af96b66d8015f5a24c09e1b3">string</a> &amp;<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">msg</a>=&quot;&quot;)</td></tr>
<tr class="memdesc:aa008d61f4821a2e69fa636965fd5911b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> must panic and prepare for it if so.  <br /></td></tr>
<tr class="separator:aa008d61f4821a2e69fa636965fd5911b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d33c5755fcbfd08c75ae68f3d62577a" id="r_a0d33c5755fcbfd08c75ae68f3d62577a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a0d33c5755fcbfd08c75ae68f3d62577a">PANIC</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">const</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">char</a> *<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">message</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *status=<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">nullptr</a>)</td></tr>
<tr class="memdesc:a0d33c5755fcbfd08c75ae68f3d62577a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> into a panic state and halts it. Dumps the stack trace and registers.  <br /></td></tr>
<tr class="separator:a0d33c5755fcbfd08c75ae68f3d62577a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189729f4ca240ff52004a34b9057d448" id="r_a189729f4ca240ff52004a34b9057d448"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a189729f4ca240ff52004a34b9057d448">halt</a> ()</td></tr>
<tr class="memdesc:a189729f4ca240ff52004a34b9057d448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Halts the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> indefinitely.  <br /></td></tr>
<tr class="separator:a189729f4ca240ff52004a34b9057d448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf91af6b880b57ae580a0a91ed4b71f7" id="r_adf91af6b880b57ae580a0a91ed4b71f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1system_1_1Core.html">Core</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#adf91af6b880b57ae580a0a91ed4b71f7">executing_core</a> ()</td></tr>
<tr class="memdesc:adf91af6b880b57ae580a0a91ed4b71f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the core that is currently executing.  <br /></td></tr>
<tr class="separator:adf91af6b880b57ae580a0a91ed4b71f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbbc3348fa73228ef924e54a5dffcd5e" id="r_afbbc3348fa73228ef924e54a5dffcd5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#afbbc3348fa73228ef924e54a5dffcd5e">check_nx</a> ()</td></tr>
<tr class="memdesc:afbbc3348fa73228ef924e54a5dffcd5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the No Execute page flag is supported.  <br /></td></tr>
<tr class="separator:afbbc3348fa73228ef924e54a5dffcd5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9fe68995cb7e1e9943d7a3b3565c19" id="r_a2e9fe68995cb7e1e9943d7a3b3565c19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a2e9fe68995cb7e1e9943d7a3b3565c19">get_status</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *status)</td></tr>
<tr class="memdesc:a2e9fe68995cb7e1e9943d7a3b3565c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status into the provided structure.  <br /></td></tr>
<tr class="separator:a2e9fe68995cb7e1e9943d7a3b3565c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2744288c9f3b196502d4ae0f6b49b8b" id="r_ab2744288c9f3b196502d4ae0f6b49b8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#ab2744288c9f3b196502d4ae0f6b49b8b">set_status</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *status)</td></tr>
<tr class="memdesc:ab2744288c9f3b196502d4ae0f6b49b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> registers from the provided structure.  <br /></td></tr>
<tr class="separator:ab2744288c9f3b196502d4ae0f6b49b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c84fcc01f83f35d50295b7828a54c3" id="r_a07c84fcc01f83f35d50295b7828a54c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a07c84fcc01f83f35d50295b7828a54c3">print_registers</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *status)</td></tr>
<tr class="memdesc:a07c84fcc01f83f35d50295b7828a54c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> registers from the provided structure.  <br /></td></tr>
<tr class="separator:a07c84fcc01f83f35d50295b7828a54c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eb28384db21eb3075768c17302fff4" id="r_ac2eb28384db21eb3075768c17302fff4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#ac2eb28384db21eb3075768c17302fff4">read_msr</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">msr</a>)</td></tr>
<tr class="memdesc:ac2eb28384db21eb3075768c17302fff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the value of the specified MSR.  <br /></td></tr>
<tr class="separator:ac2eb28384db21eb3075768c17302fff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37f29176f1bd55eb7401d1d34e7c69b" id="r_ae37f29176f1bd55eb7401d1d34e7c69b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#ae37f29176f1bd55eb7401d1d34e7c69b">write_msr</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">msr</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">value</a>)</td></tr>
<tr class="memdesc:ae37f29176f1bd55eb7401d1d34e7c69b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the specified value to the specified MSR.  <br /></td></tr>
<tr class="separator:ae37f29176f1bd55eb7401d1d34e7c69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ff943a994f211939c9f1a907e73b0e1" id="r_a9ff943a994f211939c9f1a907e73b0e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a9ff943a994f211939c9f1a907e73b0e1">cpuid</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">leaf</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>)</td></tr>
<tr class="memdesc:a9ff943a994f211939c9f1a907e73b0e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the CPUID instruction with the specified leaf and returns the results in the provided pointers.  <br /></td></tr>
<tr class="separator:a9ff943a994f211939c9f1a907e73b0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b778d7ddb80332c33d4f2a14432230" id="r_a77b778d7ddb80332c33d4f2a14432230"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a77b778d7ddb80332c33d4f2a14432230">check_cpu_feature</a> (<a class="el" href="cpu_8h.html#a955509bd4aa295b6038a6812bf689200">CPU_FEATURE_ECX</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">feature</a>)</td></tr>
<tr class="memdesc:a77b778d7ddb80332c33d4f2a14432230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> feature is supported (ECX Register)  <br /></td></tr>
<tr class="separator:a77b778d7ddb80332c33d4f2a14432230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67ea55c8cb2583f4033f832f72a98fa" id="r_ae67ea55c8cb2583f4033f832f72a98fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#ae67ea55c8cb2583f4033f832f72a98fa">check_cpu_feature</a> (<a class="el" href="cpu_8h.html#aabd92958148e45d498450aaf57c8d6ab">CPU_FEATURE_EDX</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">feature</a>)</td></tr>
<tr class="memdesc:ae67ea55c8cb2583f4033f832f72a98fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> feature is supported (EDX Register)  <br /></td></tr>
<tr class="separator:ae67ea55c8cb2583f4033f832f72a98fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67e18fdfbb6fcd51d0f2509c9c43ff2" id="r_ae67e18fdfbb6fcd51d0f2509c9c43ff2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">static</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#ae67e18fdfbb6fcd51d0f2509c9c43ff2">stack_trace</a> (<a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">size_t</a>)</td></tr>
<tr class="memdesc:ae67e18fdfbb6fcd51d0f2509c9c43ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a stack trace up to the specified level.  <br /></td></tr>
<tr class="separator:ae67e18fdfbb6fcd51d0f2509c9c43ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a13d3b45c5ca62bf96e425e40ca113663" id="r_a13d3b45c5ca62bf96e425e40ca113663"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1hardwarecommunication_1_1AdvancedConfigurationAndPowerInterface.html">hardwarecommunication::AdvancedConfigurationAndPowerInterface</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a13d3b45c5ca62bf96e425e40ca113663">acpi</a></td></tr>
<tr class="memdesc:a13d3b45c5ca62bf96e425e40ca113663"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ACPI interface for the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a>.  <br /></td></tr>
<tr class="separator:a13d3b45c5ca62bf96e425e40ca113663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fef57a79ba623497c26b04e34cfedf6" id="r_a7fef57a79ba623497c26b04e34cfedf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController.html">hardwarecommunication::AdvancedProgrammableInterruptController</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#a7fef57a79ba623497c26b04e34cfedf6">apic</a></td></tr>
<tr class="memdesc:a7fef57a79ba623497c26b04e34cfedf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The APIC interface for the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a>.  <br /></td></tr>
<tr class="separator:a7fef57a79ba623497c26b04e34cfedf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ae48969a59a3ae850353360f366166ca8" id="r_ae48969a59a3ae850353360f366166ca8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMaxOS_1_1system_1_1Core.html">Core</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#ae48969a59a3ae850353360f366166ca8">panic_core</a> = nullptr</td></tr>
<tr class="memdesc:ae48969a59a3ae850353360f366166ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The core that triggered the panic.  <br /></td></tr>
<tr class="separator:ae48969a59a3ae850353360f366166ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c9f38c5738cdaa2b57251577eea6d5" id="r_af7c9f38c5738cdaa2b57251577eea6d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMaxOS_1_1common_1_1Spinlock.html">common::Spinlock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#af7c9f38c5738cdaa2b57251577eea6d5">panic_lock</a></td></tr>
<tr class="memdesc:af7c9f38c5738cdaa2b57251577eea6d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock to prevent multiple panics at once.  <br /></td></tr>
<tr class="separator:af7c9f38c5738cdaa2b57251577eea6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbed3e383ef08559099051d9c7e9d57b" id="r_acbed3e383ef08559099051d9c7e9d57b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMaxOS_1_1common_1_1Vector.html">common::Vector</a>&lt; <a class="el" href="classMaxOS_1_1system_1_1Core.html">Core</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a></td></tr>
<tr class="memdesc:acbed3e383ef08559099051d9c7e9d57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> cores in the system (populated during initialization, includes the BSP and cores that failed to start)  <br /></td></tr>
<tr class="separator:acbed3e383ef08559099051d9c7e9d57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> and its cores. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8h_source.html#l00228">228</a> of file <a class="el" href="cpu_8h_source.html">cpu.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a204bdeba5377411c3d04a02fb19c6719" name="a204bdeba5377411c3d04a02fb19c6719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a204bdeba5377411c3d04a02fb19c6719">&#9670;&#160;</a></span>CPU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CPU::CPU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1system_1_1GlobalDescriptorTable.html">GlobalDescriptorTable</a> *&#160;</td>
          <td class="paramname"><em>gdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1system_1_1Multiboot.html">Multiboot</a> *&#160;</td>
          <td class="paramname"><em>multiboot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> class. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00249">249</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  250</span>: <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#a13d3b45c5ca62bf96e425e40ca113663">acpi</a>(<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">multiboot</a>),</div>
<div class="line"><span class="lineno">  251</span>  <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#a7fef57a79ba623497c26b04e34cfedf6">apic</a>(&amp;<a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#a13d3b45c5ca62bf96e425e40ca113663">acpi</a>)</div>
<div class="line"><span class="lineno">  252</span>{</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_function" href="classLogger.html#a6fa276d92dbf0dd22dcab146f5c99da6">Logger::INFO</a>() &lt;&lt; <span class="stringliteral">&quot;Setting up CPU \n&quot;</span>;</div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a794ab2a2883fab58ce204299a3ec556f">find_cores</a>();</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// Manually set up the BSP</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="keyword">auto</span> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> = <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a>[0];</div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> -&gt; m_bsp = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> -&gt; active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> -&gt; gdt = gdt;</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> -&gt; local_apic = <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#a7fef57a79ba623497c26b04e34cfedf6">apic</a>.<a class="code hl_function" href="classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController.html#af632f7fe1f4a8d9716ec845628946eef">local_apic</a>();</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> -&gt; init_tss();</div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">bsp</a> -&gt; init_sse();</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>}</div>
<div class="ttc" id="aclassLogger_html_a6fa276d92dbf0dd22dcab146f5c99da6"><div class="ttname"><a href="classLogger.html#a6fa276d92dbf0dd22dcab146f5c99da6">Logger::INFO</a></div><div class="ttdeci">static Logger INFO()</div><div class="ttdoc">Gets active logger set to info level.</div><div class="ttdef"><b>Definition</b> <a href="logger_8cpp_source.html#l00167">logger.cpp:167</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1common_1_1Rectangle_html"><div class="ttname"><a href="classMaxOS_1_1common_1_1Rectangle.html">MaxOS::common::Rectangle</a></div><div class="ttdoc">Stores the left, top, width and height of a rectangle.</div><div class="ttdef"><b>Definition</b> <a href="rectangle_8h_source.html#l00024">rectangle.h:24</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController_html_af632f7fe1f4a8d9716ec845628946eef"><div class="ttname"><a href="classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController.html#af632f7fe1f4a8d9716ec845628946eef">MaxOS::hardwarecommunication::AdvancedProgrammableInterruptController::local_apic</a></div><div class="ttdeci">LocalAPIC * local_apic() const</div><div class="ttdoc">Get the local apic.</div><div class="ttdef"><b>Definition</b> <a href="apic_8cpp_source.html#l00474">apic.cpp:474</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a13d3b45c5ca62bf96e425e40ca113663"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a13d3b45c5ca62bf96e425e40ca113663">MaxOS::system::CPU::acpi</a></div><div class="ttdeci">hardwarecommunication::AdvancedConfigurationAndPowerInterface acpi</div><div class="ttdoc">The ACPI interface for the CPU.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00235">cpu.h:235</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a794ab2a2883fab58ce204299a3ec556f"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a794ab2a2883fab58ce204299a3ec556f">MaxOS::system::CPU::find_cores</a></div><div class="ttdeci">void find_cores()</div><div class="ttdoc">Search the madt for cores and store them.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00524">cpu.cpp:524</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a7fef57a79ba623497c26b04e34cfedf6"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a7fef57a79ba623497c26b04e34cfedf6">MaxOS::system::CPU::apic</a></div><div class="ttdeci">hardwarecommunication::AdvancedProgrammableInterruptController apic</div><div class="ttdoc">The APIC interface for the CPU.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00236">cpu.h:236</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_acbed3e383ef08559099051d9c7e9d57b"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">MaxOS::system::CPU::cores</a></div><div class="ttdeci">static common::Vector&lt; Core * &gt; cores</div><div class="ttdoc">The list of CPU cores in the system (populated during initialization, includes the BSP and cores that...</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00245">cpu.h:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cpu_8h_source.html#l00236">apic</a>, <a class="el" href="cpu_8h_source.html#l00245">cores</a>, <a class="el" href="cpu_8cpp_source.html#l00524">find_cores()</a>, <a class="el" href="logger_8cpp_source.html#l00167">Logger::INFO()</a>, and <a class="el" href="apic_8cpp_source.html#l00474">MaxOS::hardwarecommunication::AdvancedProgrammableInterruptController::local_apic()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a77b778d7ddb80332c33d4f2a14432230" name="a77b778d7ddb80332c33d4f2a14432230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b778d7ddb80332c33d4f2a14432230">&#9670;&#160;</a></span>check_cpu_feature() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">bool</a> CPU::check_cpu_feature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cpu_8h.html#a955509bd4aa295b6038a6812bf689200">CPU_FEATURE_ECX</a>&#160;</td>
          <td class="paramname"><em>feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> feature is supported (ECX Register) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td>The feature to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the feature is supported </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00572">572</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  572</span>                                                   {</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <span class="comment">// Get the CPUID</span></div>
<div class="line"><span class="lineno">  575</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>;</div>
<div class="line"><span class="lineno">  576</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a9ff943a994f211939c9f1a907e73b0e1">cpuid</a>(0x1, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>);</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>    <span class="comment">// Check the feature</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a> &amp; (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">feature</a>;</div>
<div class="line"><span class="lineno">  580</span>}</div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a9ff943a994f211939c9f1a907e73b0e1"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a9ff943a994f211939c9f1a907e73b0e1">MaxOS::system::CPU::cpuid</a></div><div class="ttdeci">static void cpuid(uint32_t leaf, uint32_t *eax, uint32_t *ebx, uint32_t *ecx, uint32_t *edx)</div><div class="ttdoc">Executes the CPUID instruction with the specified leaf and returns the results in the provided pointe...</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00400">cpu.cpp:400</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cpu_8cpp_source.html#l00400">cpuid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00167">MaxOS::system::Core::init_sse()</a>.</p>

</div>
</div>
<a id="ae67ea55c8cb2583f4033f832f72a98fa" name="ae67ea55c8cb2583f4033f832f72a98fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67ea55c8cb2583f4033f832f72a98fa">&#9670;&#160;</a></span>check_cpu_feature() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">bool</a> CPU::check_cpu_feature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cpu_8h.html#aabd92958148e45d498450aaf57c8d6ab">CPU_FEATURE_EDX</a>&#160;</td>
          <td class="paramname"><em>feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> feature is supported (EDX Register) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">feature</td><td>The feature to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the feature is supported </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00588">588</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  588</span>                                                   {</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    <span class="comment">// Get the CPUID</span></div>
<div class="line"><span class="lineno">  591</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>;</div>
<div class="line"><span class="lineno">  592</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a9ff943a994f211939c9f1a907e73b0e1">cpuid</a>(0x1, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>);</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    <span class="comment">// Check the feature</span></div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a> &amp; (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">feature</a>;</div>
<div class="line"><span class="lineno">  596</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cpu_8cpp_source.html#l00400">cpuid()</a>.</p>

</div>
</div>
<a id="afbbc3348fa73228ef924e54a5dffcd5e" name="afbbc3348fa73228ef924e54a5dffcd5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbbc3348fa73228ef924e54a5dffcd5e">&#9670;&#160;</a></span>check_nx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">bool</a> CPU::check_nx </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the No Execute page flag is supported. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the NX flag is supported </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00602">602</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  602</span>                   {</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    <span class="comment">// Get the EFER MSR</span></div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">efer</a> = <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#ac2eb28384db21eb3075768c17302fff4">read_msr</a>(0xC0000080);</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="comment">// Check if the NX flag is supported (bit 11)</span></div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordtype">bool</span> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">supported</a> = <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">efer</a> &amp; (1 &lt;&lt; 11);</div>
<div class="line"><span class="lineno">  609</span>    <a class="code hl_function" href="classLogger.html#a1df434c9cd82457b6830c0500731a601">Logger::DEBUG</a>() &lt;&lt; <span class="stringliteral">&quot;NX: &quot;</span> &lt;&lt; (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">supported</a> ? <span class="stringliteral">&quot;Supported&quot;</span> : <span class="stringliteral">&quot;Not Supported&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    <span class="comment">// Return if the NX flag is supported</span></div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">supported</a>;</div>
<div class="line"><span class="lineno">  613</span>}</div>
<div class="ttc" id="aclassLogger_html_a1df434c9cd82457b6830c0500731a601"><div class="ttname"><a href="classLogger.html#a1df434c9cd82457b6830c0500731a601">Logger::DEBUG</a></div><div class="ttdeci">static Logger DEBUG()</div><div class="ttdoc">Gets active logger set to DEBUG level.</div><div class="ttdef"><b>Definition</b> <a href="logger_8cpp_source.html#l00178">logger.cpp:178</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_ac2eb28384db21eb3075768c17302fff4"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#ac2eb28384db21eb3075768c17302fff4">MaxOS::system::CPU::read_msr</a></div><div class="ttdeci">static uint64_t read_msr(uint32_t msr)</div><div class="ttdoc">Reads the value of the specified MSR.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00369">cpu.cpp:369</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="logger_8cpp_source.html#l00178">Logger::DEBUG()</a>, and <a class="el" href="cpu_8cpp_source.html#l00369">read_msr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="physical_8cpp_source.html#l00031">MaxOS::memory::PhysicalMemoryManager::PhysicalMemoryManager()</a>.</p>

</div>
</div>
<a id="a9ff943a994f211939c9f1a907e73b0e1" name="a9ff943a994f211939c9f1a907e73b0e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ff943a994f211939c9f1a907e73b0e1">&#9670;&#160;</a></span>cpuid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::cpuid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>leaf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>eax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>ebx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>ecx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>edx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the CPUID instruction with the specified leaf and returns the results in the provided pointers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leaf</td><td>The CPUID leaf to query </td></tr>
    <tr><td class="paramname">eax</td><td>The pointer to store the EAX result </td></tr>
    <tr><td class="paramname">ebx</td><td>The pointer to store the EBX result </td></tr>
    <tr><td class="paramname">ecx</td><td>The pointer to store the ECX result </td></tr>
    <tr><td class="paramname">edx</td><td>The pointer to store the EDX result </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00400">400</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  400</span>                                                                                         {</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment">// Call the cpuid instruction</span></div>
<div class="line"><span class="lineno">  403</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">__get_cpuid</a>(<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">leaf</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>);</div>
<div class="line"><span class="lineno">  404</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00572">check_cpu_feature()</a>, <a class="el" href="cpu_8cpp_source.html#l00588">check_cpu_feature()</a>, and <a class="el" href="cpu_8cpp_source.html#l00620">executing_core()</a>.</p>

</div>
</div>
<a id="adf91af6b880b57ae580a0a91ed4b71f7" name="adf91af6b880b57ae580a0a91ed4b71f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf91af6b880b57ae580a0a91ed4b71f7">&#9670;&#160;</a></span>executing_core()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1system_1_1Core.html">Core</a> * CPU::executing_core </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the core that is currently executing. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently executing core </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00620">620</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  620</span>                          {</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <span class="comment">// No cores?</span></div>
<div class="line"><span class="lineno">  623</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a>.empty())</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    <span class="comment">// Get the id of this core</span></div>
<div class="line"><span class="lineno">  627</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>;</div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a9ff943a994f211939c9f1a907e73b0e1">CPU::cpuid</a>(1, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">eax</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ecx</a>, &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">edx</a>);</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">core_id</a> = (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">ebx</a> &gt;&gt; 24) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a>[<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">core_id</a>];</div>
<div class="line"><span class="lineno">  632</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cpu_8h_source.html#l00245">cores</a>, and <a class="el" href="cpu_8cpp_source.html#l00400">cpuid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_8cpp_source.html#l00046">core_main()</a>, <a class="el" href="scheduler_8cpp_source.html#l00346">MaxOS::processes::GlobalScheduler::core_scheduler()</a>, <a class="el" href="interrupts_8cpp_source.html#l00277">MaxOS::hardwarecommunication::InterruptManager::handle_interrupt_request()</a>, <a class="el" href="cpu_8cpp_source.html#l00492">prepare_for_panic()</a>, <a class="el" href="scheduler_8cpp_source.html#l00165">MaxOS::processes::GlobalScheduler::print_running_header()</a>, <a class="el" href="process_8cpp_source.html#l00100">MaxOS::processes::Thread::restore_sse_state()</a>, <a class="el" href="process_8cpp_source.html#l00087">MaxOS::processes::Thread::save_sse_state()</a>, and <a class="el" href="process_8cpp_source.html#l00021">MaxOS::processes::Thread::Thread()</a>.</p>

</div>
</div>
<a id="a794ab2a2883fab58ce204299a3ec556f" name="a794ab2a2883fab58ce204299a3ec556f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794ab2a2883fab58ce204299a3ec556f">&#9670;&#160;</a></span>find_cores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::find_cores </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search the madt for cores and store them. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000077">Todo:</a></b></dt><dd>Support for x2apic </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00524">524</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  524</span>                     {</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="comment">// Now that memory is set up the vector can be used</span></div>
<div class="line"><span class="lineno">  527</span>    <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a>.reserve(1);</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>    <span class="comment">// Search and setup each core</span></div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">while</span> (<span class="keyword">true</span>){</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        <span class="comment">// Try to find a processor</span></div>
<div class="line"><span class="lineno">  534</span>        <a class="code hl_struct" href="structMaxOS_1_1hardwarecommunication_1_1MADTEntry.html">MADTEntry</a>* <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">processor_madt</a> = <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#a7fef57a79ba623497c26b04e34cfedf6">apic</a>.<a class="code hl_function" href="classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController.html#a466e10dea95ada62df527bf033a33deb">io_apic</a>()-&gt;<a class="code hl_function" href="classMaxOS_1_1hardwarecommunication_1_1IOAPIC.html#a755e766f9ea8a3d90b9d9ffa8c4bec3e">get_madt_item</a>(MADT_TYPE::PROCESSOR_APIC, index);</div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">if</span>(!<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">processor_madt</a>)</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>        <span class="comment">// Create a cpu</span></div>
<div class="line"><span class="lineno">  539</span>        <span class="keyword">auto</span>* <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">processor_apic</a> = (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">madt_processor_apic_t</a>*) ((<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a>) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">processor_madt</a> + <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structMaxOS_1_1hardwarecommunication_1_1MADTEntry.html">MADTEntry</a>));</div>
<div class="line"><span class="lineno">  540</span>        <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a>.push_back(<span class="keyword">new</span> <a class="code hl_class" href="classMaxOS_1_1system_1_1Core.html">Core</a>(<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">processor_apic</a>));</div>
<div class="line"><span class="lineno">  541</span>        index++;</div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span>}</div>
<div class="ttc" id="aclassMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController_html_a466e10dea95ada62df527bf033a33deb"><div class="ttname"><a href="classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController.html#a466e10dea95ada62df527bf033a33deb">MaxOS::hardwarecommunication::AdvancedProgrammableInterruptController::io_apic</a></div><div class="ttdeci">IOAPIC * io_apic() const</div><div class="ttdoc">Get the io apic.</div><div class="ttdef"><b>Definition</b> <a href="apic_8cpp_source.html#l00484">apic.cpp:484</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1hardwarecommunication_1_1IOAPIC_html_a755e766f9ea8a3d90b9d9ffa8c4bec3e"><div class="ttname"><a href="classMaxOS_1_1hardwarecommunication_1_1IOAPIC.html#a755e766f9ea8a3d90b9d9ffa8c4bec3e">MaxOS::hardwarecommunication::IOAPIC::get_madt_item</a></div><div class="ttdeci">MADTEntry * get_madt_item(MADT_TYPE type, uint8_t index)</div><div class="ttdoc">Get an item in the MADT.</div><div class="ttdef"><b>Definition</b> <a href="apic_8cpp_source.html#l00258">apic.cpp:258</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1Core_html"><div class="ttname"><a href="classMaxOS_1_1system_1_1Core.html">MaxOS::system::Core</a></div><div class="ttdoc">Represents a CPU core in the system.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00188">cpu.h:188</a></div></div>
<div class="ttc" id="astructMaxOS_1_1hardwarecommunication_1_1MADTEntry_html"><div class="ttname"><a href="structMaxOS_1_1hardwarecommunication_1_1MADTEntry.html">MaxOS::hardwarecommunication::MADTEntry</a></div><div class="ttdoc">An item in the MADT table.</div><div class="ttdef"><b>Definition</b> <a href="apic_8h_source.html#l00061">apic.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cpu_8h_source.html#l00236">apic</a>, <a class="el" href="cpu_8h_source.html#l00245">cores</a>, <a class="el" href="apic_8cpp_source.html#l00258">MaxOS::hardwarecommunication::IOAPIC::get_madt_item()</a>, and <a class="el" href="apic_8cpp_source.html#l00484">MaxOS::hardwarecommunication::AdvancedProgrammableInterruptController::io_apic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00249">CPU()</a>.</p>

</div>
</div>
<a id="a2e9fe68995cb7e1e9943d7a3b3565c19" name="a2e9fe68995cb7e1e9943d7a3b3565c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9fe68995cb7e1e9943d7a3b3565c19">&#9670;&#160;</a></span>get_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::get_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status into the provided structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The structure to fill with the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00284">284</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  284</span>                                         {</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>    <span class="comment">// Get the registers</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r15, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r15));</div>
<div class="line"><span class="lineno">  288</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r14, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r14));</div>
<div class="line"><span class="lineno">  289</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r13, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r13));</div>
<div class="line"><span class="lineno">  290</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r12, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r12));</div>
<div class="line"><span class="lineno">  291</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r11, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r11));</div>
<div class="line"><span class="lineno">  292</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r10, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r10));</div>
<div class="line"><span class="lineno">  293</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r9, %0&quot;</span>  : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r9));</div>
<div class="line"><span class="lineno">  294</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%r8, %0&quot;</span>  : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;r8));</div>
<div class="line"><span class="lineno">  295</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rdi, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rdi));</div>
<div class="line"><span class="lineno">  296</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rsi, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rsi));</div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rbp, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rbp));</div>
<div class="line"><span class="lineno">  298</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rdx, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rdx));</div>
<div class="line"><span class="lineno">  299</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rcx, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rcx));</div>
<div class="line"><span class="lineno">  300</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rbx, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rbx));</div>
<div class="line"><span class="lineno">  301</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %%rax, %0&quot;</span> : <span class="stringliteral">&quot;=r&quot;</span> (status-&gt;rax));</div>
<div class="line"><span class="lineno">  302</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>.</p>

</div>
</div>
<a id="a189729f4ca240ff52004a34b9057d448" name="a189729f4ca240ff52004a34b9057d448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189729f4ca240ff52004a34b9057d448">&#9670;&#160;</a></span>halt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::halt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Halts the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> indefinitely. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00273">273</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  273</span>                            {</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  276</span>        <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;hlt&quot;</span>);</div>
<div class="line"><span class="lineno">  277</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>.</p>

</div>
</div>
<a id="a599edada5a85faa0bcd689b8cff3f2ba" name="a599edada5a85faa0bcd689b8cff3f2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599edada5a85faa0bcd689b8cff3f2ba">&#9670;&#160;</a></span>init_cores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::init_cores </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up all the cores. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00548">548</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  548</span>                     {</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>    <a class="code hl_function" href="classLogger.html#a6fa276d92dbf0dd22dcab146f5c99da6">Logger::INFO</a>() &lt;&lt; <span class="stringliteral">&quot;Waking up cores: \n&quot;</span>;</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    <span class="comment">// Make sure core_start is accessible</span></div>
<div class="line"><span class="lineno">  553</span>    <a class="code hl_define" href="logger_8h.html#adf7b5d69e4c25995b3211b91b27f33b6">ASSERT</a>((<span class="keywordtype">void</span>*)&amp;core_start == (<span class="keywordtype">void</span>*)0x8000, <span class="stringliteral">&quot;Core start not at expected address&quot;</span>);</div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_variable" href="classMaxOS_1_1memory_1_1PhysicalMemoryManager.html#aac616421554f724ac8810d5bff76c3f1">PhysicalMemoryManager::s_current_manager</a>-&gt;identity_map((<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">physical_address_t</a>*)0x8000, PRESENT | WRITE);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    <span class="comment">// Set up the boot info</span></div>
<div class="line"><span class="lineno">  557</span>    <span class="keyword">auto</span> info = (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">core_boot_info_t</a>*)(<a class="code hl_variable" href="kernel_8cpp.html#a32bfa49e87f9c5c8e4b07eb74f8fcca9">core_boot_info</a>);</div>
<div class="line"><span class="lineno">  558</span>    info-&gt;p4_table = (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a>)<a class="code hl_function" href="classMaxOS_1_1memory_1_1PhysicalMemoryManager.html#a92723ea076c394a848f7f95bca9a86b6">PhysicalMemoryManager::to_lower_region</a>((<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uintptr_t</a>)<a class="code hl_variable" href="cpu_8h.html#a9fc1d0f743f4314f0b9083fa0b755e07">p4_table</a>);</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <span class="comment">// Start each core</span></div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">core</a> : <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#acbed3e383ef08559099051d9c7e9d57b">cores</a>)</div>
<div class="line"><span class="lineno">  562</span>        <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">core</a>-&gt;wake_up(<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">this</a>);</div>
<div class="line"><span class="lineno">  563</span>}</div>
<div class="ttc" id="aclassMaxOS_1_1memory_1_1PhysicalMemoryManager_html_a92723ea076c394a848f7f95bca9a86b6"><div class="ttname"><a href="classMaxOS_1_1memory_1_1PhysicalMemoryManager.html#a92723ea076c394a848f7f95bca9a86b6">MaxOS::memory::PhysicalMemoryManager::to_lower_region</a></div><div class="ttdeci">static void * to_lower_region(uintptr_t virtual_address)</div><div class="ttdoc">Converts a virtual address to a lower region address if it is in the higher region using the higher h...</div><div class="ttdef"><b>Definition</b> <a href="physical_8cpp_source.html#l00877">physical.cpp:877</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1memory_1_1PhysicalMemoryManager_html_aac616421554f724ac8810d5bff76c3f1"><div class="ttname"><a href="classMaxOS_1_1memory_1_1PhysicalMemoryManager.html#aac616421554f724ac8810d5bff76c3f1">MaxOS::memory::PhysicalMemoryManager::s_current_manager</a></div><div class="ttdeci">static PhysicalMemoryManager * s_current_manager</div><div class="ttdoc">The current physical memory manager in use.</div><div class="ttdef"><b>Definition</b> <a href="physical_8h_source.html#l00175">physical.h:175</a></div></div>
<div class="ttc" id="acpu_8h_html_a9fc1d0f743f4314f0b9083fa0b755e07"><div class="ttname"><a href="cpu_8h.html#a9fc1d0f743f4314f0b9083fa0b755e07">p4_table</a></div><div class="ttdeci">uint64_t p4_table</div><div class="ttdoc">The physical address of the P4 page table.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00001">cpu.h:1</a></div></div>
<div class="ttc" id="akernel_8cpp_html_a32bfa49e87f9c5c8e4b07eb74f8fcca9"><div class="ttname"><a href="kernel_8cpp.html#a32bfa49e87f9c5c8e4b07eb74f8fcca9">core_boot_info</a></div><div class="ttdeci">uint8_t core_boot_info[]</div><div class="ttdoc">The boot info structure for the core being started.</div><div class="ttdef"><b>Definition</b> <a href="kernel_8cpp_source.html#l00041">kernel.cpp:41</a></div></div>
<div class="ttc" id="alogger_8h_html_adf7b5d69e4c25995b3211b91b27f33b6"><div class="ttname"><a href="logger_8h.html#adf7b5d69e4c25995b3211b91b27f33b6">ASSERT</a></div><div class="ttdeci">#define ASSERT(condition, format,...)</div><div class="ttdoc">If the specified condition is not met then the kernel will crash with the specified message.</div><div class="ttdef"><b>Definition</b> <a href="logger_8h_source.html#l00095">logger.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="logger_8h_source.html#l00095">ASSERT</a>, <a class="el" href="kernel_8cpp_source.html#l00041">core_boot_info</a>, <a class="el" href="cpu_8h_source.html#l00245">cores</a>, <a class="el" href="logger_8cpp_source.html#l00167">Logger::INFO()</a>, <a class="el" href="cpu_8h_source.html#l00001">p4_table</a>, <a class="el" href="physical_8h_source.html#l00042">MaxOS::memory::PRESENT</a>, <a class="el" href="physical_8h_source.html#l00175">MaxOS::memory::PhysicalMemoryManager::s_current_manager</a>, <a class="el" href="physical_8cpp_source.html#l00877">MaxOS::memory::PhysicalMemoryManager::to_lower_region()</a>, and <a class="el" href="physical_8h_source.html#l00043">MaxOS::memory::WRITE</a>.</p>

</div>
</div>
<a id="a0d33c5755fcbfd08c75ae68f3d62577a" name="a0d33c5755fcbfd08c75ae68f3d62577a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d33c5755fcbfd08c75ae68f3d62577a">&#9670;&#160;</a></span>PANIC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::PANIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">const</a> <a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">char</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *&#160;</td>
          <td class="paramname"><em>status</em> = <code><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">nullptr</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Puts the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> into a panic state and halts it. Dumps the stack trace and registers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The panic message </td></tr>
    <tr><td class="paramname">status</td><td>The <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status at the time of the panic (if available, otherwise will be fetched) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00436">436</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  436</span>                                                         {</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    <span class="comment">// Ensure ready to panic  - At this point it is not an issue if it is possible can avoid the panic as it is most</span></div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// likely called by a place that cant switch to the avoidable state</span></div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#aa008d61f4821a2e69fa636965fd5911b">prepare_for_panic</a>();</div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#af7c9f38c5738cdaa2b57251577eea6d5">panic_lock</a>.lock();</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>    <span class="comment">// Get the current process</span></div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_class" href="classMaxOS_1_1processes_1_1Process.html">Process</a>* <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a> = <a class="code hl_function" href="classMaxOS_1_1processes_1_1GlobalScheduler.html#aa070d442d88c4e6adee1c57772c5be34">GlobalScheduler::current_process</a>();</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="comment">// Print using the backend</span></div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n&quot;</span>;</div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;Kernel Panic: &quot;</span> &lt;&lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">message</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  449</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;On Core: &quot;</span> &lt;&lt; (<a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#ae48969a59a3ae850353360f366166ca8">panic_core</a> ? <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#ae48969a59a3ae850353360f366166ca8">panic_core</a>-&gt;id : 0) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="comment">// Info about the running process</span></div>
<div class="line"><span class="lineno">  452</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;Process: &quot;</span> &lt;&lt; (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a> ? <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a>-&gt;name.c_str() : <span class="stringliteral">&quot;Kernel&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a>)</div>
<div class="line"><span class="lineno">  454</span>        <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;After running for &quot;</span> &lt;&lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a>-&gt;total_ticks() &lt;&lt; <span class="stringliteral">&quot; ticks (system uptime: &quot;</span> &lt;&lt; <a class="code hl_function" href="classMaxOS_1_1processes_1_1GlobalScheduler.html#a0eb017023c57324c9f92bce011aaf3c9">GlobalScheduler::core_scheduler</a>()-&gt;ticks() &lt;&lt; <span class="stringliteral">&quot; ticks)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="comment">// Stack trace</span></div>
<div class="line"><span class="lineno">  457</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;Stack Trace:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#ae67e18fdfbb6fcd51d0f2509c9c43ff2">stack_trace</a>(10);</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    <span class="comment">// Register dump</span></div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  463</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;Register Dump:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>    <span class="comment">// Log the regs</span></div>
<div class="line"><span class="lineno">  466</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">new_status</a>{};</div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (!status) {</div>
<div class="line"><span class="lineno">  468</span>        <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a2e9fe68995cb7e1e9943d7a3b3565c19">get_status</a>(&amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">new_status</a>);</div>
<div class="line"><span class="lineno">  469</span>        status = &amp;<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">new_status</a>;</div>
<div class="line"><span class="lineno">  470</span>    }</div>
<div class="line"><span class="lineno">  471</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a07c84fcc01f83f35d50295b7828a54c3">print_registers</a>(status);</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <span class="comment">// Print some text to the user</span></div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  475</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;There has been a fatal error in MaxOS and the system has been halted.\n&quot;</span>;</div>
<div class="line"><span class="lineno">  476</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;Please restart the system.\n&quot;</span>;</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <span class="comment">// Print the logo</span></div>
<div class="line"><span class="lineno">  479</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">// Halt</span></div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#a189729f4ca240ff52004a34b9057d448">halt</a>();</div>
<div class="line"><span class="lineno">  483</span>}</div>
<div class="ttc" id="aclassLogger_html_a9d5741991cc756d6abb2ca80b019e137"><div class="ttname"><a href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a></div><div class="ttdeci">static Logger ERROR()</div><div class="ttdoc">Gets active logger set to ERROR level.</div><div class="ttdef"><b>Definition</b> <a href="logger_8cpp_source.html#l00201">logger.cpp:201</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1processes_1_1GlobalScheduler_html_a0eb017023c57324c9f92bce011aaf3c9"><div class="ttname"><a href="classMaxOS_1_1processes_1_1GlobalScheduler.html#a0eb017023c57324c9f92bce011aaf3c9">MaxOS::processes::GlobalScheduler::core_scheduler</a></div><div class="ttdeci">static Scheduler * core_scheduler()</div><div class="ttdoc">Gets the scheduler for the currently executing core.</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8cpp_source.html#l00346">scheduler.cpp:346</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1processes_1_1GlobalScheduler_html_aa070d442d88c4e6adee1c57772c5be34"><div class="ttname"><a href="classMaxOS_1_1processes_1_1GlobalScheduler.html#aa070d442d88c4e6adee1c57772c5be34">MaxOS::processes::GlobalScheduler::current_process</a></div><div class="ttdeci">static Process * current_process()</div><div class="ttdoc">Gets the process on the currently executing core.</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8cpp_source.html#l00277">scheduler.cpp:277</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1processes_1_1Process_html"><div class="ttname"><a href="classMaxOS_1_1processes_1_1Process.html">MaxOS::processes::Process</a></div><div class="ttdoc">A process that can be scheduled by the Scheduler, wraps &amp; manages threads as well as its own address ...</div><div class="ttdef"><b>Definition</b> <a href="process_8h_source.html#l00083">process.h:84</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a07c84fcc01f83f35d50295b7828a54c3"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a07c84fcc01f83f35d50295b7828a54c3">MaxOS::system::CPU::print_registers</a></div><div class="ttdeci">static void print_registers(cpu_status_t *status)</div><div class="ttdoc">Prints the CPU registers from the provided structure.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00335">cpu.cpp:335</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a189729f4ca240ff52004a34b9057d448"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a189729f4ca240ff52004a34b9057d448">MaxOS::system::CPU::halt</a></div><div class="ttdeci">static void halt()</div><div class="ttdoc">Halts the CPU indefinitely.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00273">cpu.cpp:273</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_a2e9fe68995cb7e1e9943d7a3b3565c19"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#a2e9fe68995cb7e1e9943d7a3b3565c19">MaxOS::system::CPU::get_status</a></div><div class="ttdeci">static void get_status(cpu_status_t *status)</div><div class="ttdoc">Gets the current CPU status into the provided structure.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00284">cpu.cpp:284</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_aa008d61f4821a2e69fa636965fd5911b"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#aa008d61f4821a2e69fa636965fd5911b">MaxOS::system::CPU::prepare_for_panic</a></div><div class="ttdeci">static cpu_status_t * prepare_for_panic(cpu_status_t *status=nullptr, const string &amp;msg=&quot;&quot;)</div><div class="ttdoc">Ensure the CPU must panic and prepare for it if so.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00492">cpu.cpp:492</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_ae48969a59a3ae850353360f366166ca8"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#ae48969a59a3ae850353360f366166ca8">MaxOS::system::CPU::panic_core</a></div><div class="ttdeci">static Core * panic_core</div><div class="ttdoc">The core that triggered the panic.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00238">cpu.h:238</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_ae67e18fdfbb6fcd51d0f2509c9c43ff2"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#ae67e18fdfbb6fcd51d0f2509c9c43ff2">MaxOS::system::CPU::stack_trace</a></div><div class="ttdeci">static void stack_trace(size_t)</div><div class="ttdoc">Prints a stack trace up to the specified level.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00411">cpu.cpp:411</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_af7c9f38c5738cdaa2b57251577eea6d5"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#af7c9f38c5738cdaa2b57251577eea6d5">MaxOS::system::CPU::panic_lock</a></div><div class="ttdeci">static common::Spinlock panic_lock</div><div class="ttdoc">Lock to prevent multiple panics at once.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8h_source.html#l00239">cpu.h:239</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="scheduler_8cpp_source.html#l00346">MaxOS::processes::GlobalScheduler::core_scheduler()</a>, <a class="el" href="scheduler_8cpp_source.html#l00277">MaxOS::processes::GlobalScheduler::current_process()</a>, <a class="el" href="logger_8cpp_source.html#l00201">Logger::ERROR()</a>, <a class="el" href="cpu_8cpp_source.html#l00284">get_status()</a>, <a class="el" href="cpu_8cpp_source.html#l00273">halt()</a>, <a class="el" href="cpu_8h_source.html#l00238">panic_core</a>, <a class="el" href="cpu_8h_source.html#l00239">panic_lock</a>, <a class="el" href="cpu_8cpp_source.html#l00492">prepare_for_panic()</a>, <a class="el" href="cpu_8cpp_source.html#l00335">print_registers()</a>, and <a class="el" href="cpu_8cpp_source.html#l00411">stack_trace()</a>.</p>

<p class="reference">Referenced by <a class="el" href="logger_8cpp_source.html#l00238">Logger::ASSERT()</a>, and <a class="el" href="interrupts_8cpp_source.html#l00226">MaxOS::hardwarecommunication::InterruptManager::HandleInterrupt()</a>.</p>

</div>
</div>
<a id="aa008d61f4821a2e69fa636965fd5911b" name="aa008d61f4821a2e69fa636965fd5911b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa008d61f4821a2e69fa636965fd5911b">&#9670;&#160;</a></span>prepare_for_panic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> * CPU::prepare_for_panic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *&#160;</td>
          <td class="paramname"><em>status</em> = <code><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">const</a> <a class="el" href="string_8h.html#a4a6e5834af96b66d8015f5a24c09e1b3">string</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensure the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> must panic and prepare for it if so. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The status of the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> (if available) </td></tr>
    <tr><td class="paramname">msg</td><td>The message to print to diagnose the cause of the panic (prints when close program) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status to avoid having to panic or a nullptr if the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> must panic </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00492">492</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  492</span>                                                                            {</div>
<div class="line"><span class="lineno">  493</span>    <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#af7c9f38c5738cdaa2b57251577eea6d5">panic_lock</a>.lock();</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">// If it may have occurred in a process, switch to the avoidable state</span></div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classMaxOS_1_1processes_1_1GlobalScheduler.html#a92932d6664340c61e8174c93168d7932">GlobalScheduler::system_scheduler</a>() != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="classMaxOS_1_1processes_1_1GlobalScheduler.html#aa070d442d88c4e6adee1c57772c5be34">GlobalScheduler::current_process</a>() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>        <span class="comment">// Get the current process</span></div>
<div class="line"><span class="lineno">  499</span>        <a class="code hl_class" href="classMaxOS_1_1processes_1_1Process.html">Process</a>* <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a> = <a class="code hl_function" href="classMaxOS_1_1processes_1_1GlobalScheduler.html#aa070d442d88c4e6adee1c57772c5be34">GlobalScheduler::current_process</a>();</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>        <span class="comment">// If the faulting address is in lower half just kill the process and move on</span></div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">if</span> (status &amp;&amp; !<a class="code hl_function" href="classMaxOS_1_1memory_1_1PhysicalMemoryManager.html#ad7a8f72845dfb8fce31dab5639835d2e">memory::PhysicalMemoryManager::in_higher_region</a>(status-&gt;rip)) {</div>
<div class="line"><span class="lineno">  503</span>            <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;CPU Panicked (i &quot;</span> &lt;&lt; (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">int</a>)status-&gt;interrupt_number &lt;&lt; <span class="stringliteral">&quot;) in process &quot;</span> &lt;&lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a>-&gt;name.c_str() &lt;&lt; <span class="stringliteral">&quot; at 0x&quot;</span> &lt;&lt; status-&gt;rip &lt;&lt; <span class="stringliteral">&quot; - killing process\n&quot;</span>;</div>
<div class="line"><span class="lineno">  504</span>            <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">msg</a>;</div>
<div class="line"><span class="lineno">  505</span>            <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#af7c9f38c5738cdaa2b57251577eea6d5">panic_lock</a>.unlock();</div>
<div class="line"><span class="lineno">  506</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classMaxOS_1_1processes_1_1GlobalScheduler.html#a92932d6664340c61e8174c93168d7932">GlobalScheduler::system_scheduler</a>()-&gt;force_remove_process(<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">process</a>);</div>
<div class="line"><span class="lineno">  507</span>        }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>        <span class="comment">// Otherwise occurred whilst the kernel was doing something for the process</span></div>
<div class="line"><span class="lineno">  510</span>    }</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    <span class="comment">// We are panicking</span></div>
<div class="line"><span class="lineno">  513</span>    <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#ae48969a59a3ae850353360f366166ca8">panic_core</a> = <a class="code hl_function" href="classMaxOS_1_1system_1_1CPU.html#adf91af6b880b57ae580a0a91ed4b71f7">executing_core</a>();</div>
<div class="line"><span class="lineno">  514</span>    <a class="code hl_function" href="classMaxOS_1_1drivers_1_1console_1_1VESABootConsole.html#ac6633b03d30c0914c4a53262019ab6b0">console::VESABootConsole::print_logo</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  515</span>    <a class="code hl_variable" href="classMaxOS_1_1system_1_1CPU.html#af7c9f38c5738cdaa2b57251577eea6d5">panic_lock</a>.unlock();</div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  517</span>}</div>
<div class="ttc" id="aclassMaxOS_1_1drivers_1_1console_1_1VESABootConsole_html_ac6633b03d30c0914c4a53262019ab6b0"><div class="ttname"><a href="classMaxOS_1_1drivers_1_1console_1_1VESABootConsole.html#ac6633b03d30c0914c4a53262019ab6b0">MaxOS::drivers::console::VESABootConsole::print_logo</a></div><div class="ttdeci">static void print_logo(bool is_panic=false)</div><div class="ttdoc">Prints the logo to the center of the screen.</div><div class="ttdef"><b>Definition</b> <a href="vesaboot_8cpp_source.html#l00249">vesaboot.cpp:249</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1memory_1_1PhysicalMemoryManager_html_ad7a8f72845dfb8fce31dab5639835d2e"><div class="ttname"><a href="classMaxOS_1_1memory_1_1PhysicalMemoryManager.html#ad7a8f72845dfb8fce31dab5639835d2e">MaxOS::memory::PhysicalMemoryManager::in_higher_region</a></div><div class="ttdeci">static bool in_higher_region(uintptr_t virtual_address)</div><div class="ttdoc">Checks if a virtual address is in the higher region.</div><div class="ttdef"><b>Definition</b> <a href="physical_8cpp_source.html#l00939">physical.cpp:939</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1processes_1_1GlobalScheduler_html_a92932d6664340c61e8174c93168d7932"><div class="ttname"><a href="classMaxOS_1_1processes_1_1GlobalScheduler.html#a92932d6664340c61e8174c93168d7932">MaxOS::processes::GlobalScheduler::system_scheduler</a></div><div class="ttdeci">static GlobalScheduler * system_scheduler()</div><div class="ttdoc">Gets the system scheduler.</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8cpp_source.html#l00050">scheduler.cpp:50</a></div></div>
<div class="ttc" id="aclassMaxOS_1_1system_1_1CPU_html_adf91af6b880b57ae580a0a91ed4b71f7"><div class="ttname"><a href="classMaxOS_1_1system_1_1CPU.html#adf91af6b880b57ae580a0a91ed4b71f7">MaxOS::system::CPU::executing_core</a></div><div class="ttdeci">static Core * executing_core()</div><div class="ttdoc">Gets the core that is currently executing.</div><div class="ttdef"><b>Definition</b> <a href="cpu_8cpp_source.html#l00620">cpu.cpp:620</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="scheduler_8cpp_source.html#l00277">MaxOS::processes::GlobalScheduler::current_process()</a>, <a class="el" href="logger_8cpp_source.html#l00201">Logger::ERROR()</a>, <a class="el" href="cpu_8cpp_source.html#l00620">executing_core()</a>, <a class="el" href="physical_8cpp_source.html#l00939">MaxOS::memory::PhysicalMemoryManager::in_higher_region()</a>, <a class="el" href="cpu_8h_source.html#l00238">panic_core</a>, <a class="el" href="cpu_8h_source.html#l00239">panic_lock</a>, <a class="el" href="vesaboot_8cpp_source.html#l00249">MaxOS::drivers::console::VESABootConsole::print_logo()</a>, and <a class="el" href="scheduler_8cpp_source.html#l00050">MaxOS::processes::GlobalScheduler::system_scheduler()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>.</p>

</div>
</div>
<a id="a07c84fcc01f83f35d50295b7828a54c3" name="a07c84fcc01f83f35d50295b7828a54c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c84fcc01f83f35d50295b7828a54c3">&#9670;&#160;</a></span>print_registers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::print_registers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> registers from the provided structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The structure containing the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00335">335</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  335</span>                                              {</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">// Print the registers</span></div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R15: \t0x&quot;</span> &lt;&lt; status-&gt;r15 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  339</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R14: \t0x&quot;</span> &lt;&lt; status-&gt;r14 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R13: \t0x&quot;</span> &lt;&lt; status-&gt;r13 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  341</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R12: \t0x&quot;</span> &lt;&lt; status-&gt;r12 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  342</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R11: \t0x&quot;</span> &lt;&lt; status-&gt;r11 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R10: \t0x&quot;</span> &lt;&lt; status-&gt;r10 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R9: \t0x&quot;</span> &lt;&lt; status-&gt;r9 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  345</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;R8: \t0x&quot;</span> &lt;&lt; status-&gt;r8 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  346</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RDI: \t0x&quot;</span> &lt;&lt; status-&gt;rdi &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  347</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RSI: \t0x&quot;</span> &lt;&lt; status-&gt;rsi &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  348</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RBP: \t0x&quot;</span> &lt;&lt; status-&gt;rbp &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RDX: \t0x&quot;</span> &lt;&lt; status-&gt;rdx &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  350</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RCX: \t0x&quot;</span> &lt;&lt; status-&gt;rcx &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  351</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RBX: \t0x&quot;</span> &lt;&lt; status-&gt;rbx &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RAX: \t0x&quot;</span> &lt;&lt; status-&gt;rax &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  353</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;INT: \t0x&quot;</span> &lt;&lt; status-&gt;interrupt_number &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  354</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;ERRCD: \t0x&quot;</span> &lt;&lt; status-&gt;error_code &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  355</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RIP: \t0x&quot;</span> &lt;&lt; status-&gt;rip &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  356</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;CS: \t0x&quot;</span> &lt;&lt; status-&gt;cs &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  357</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RFlGS: \t0x&quot;</span> &lt;&lt; status-&gt;rflags &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  358</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;RSP: \t0x&quot;</span> &lt;&lt; status-&gt;rsp &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  359</span>    <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;SS: \t0x&quot;</span> &lt;&lt; status-&gt;ss &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="logger_8cpp_source.html#l00201">Logger::ERROR()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>.</p>

</div>
</div>
<a id="ac2eb28384db21eb3075768c17302fff4" name="ac2eb28384db21eb3075768c17302fff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2eb28384db21eb3075768c17302fff4">&#9670;&#160;</a></span>read_msr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a> CPU::read_msr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the value of the specified MSR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msr</td><td>The MSR to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the MSR </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00369">369</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  369</span>                                   {</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">// Read the MSR</span></div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">low</a>, <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">high</a>;</div>
<div class="line"><span class="lineno">  373</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;rdmsr&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">low</a>), <span class="stringliteral">&quot;=d&quot;</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">high</a>) : <span class="stringliteral">&quot;c&quot;</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">msr</a>));</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    <span class="comment">// Return the value</span></div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">return</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a>) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">low</a> | ((<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a>) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">high</a> &lt;&lt; 32);</div>
<div class="line"><span class="lineno">  377</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00602">check_nx()</a>, and <a class="el" href="apic_8cpp_source.html#l00073">MaxOS::hardwarecommunication::LocalAPIC::read()</a>.</p>

</div>
</div>
<a id="ab2744288c9f3b196502d4ae0f6b49b8b" name="ab2744288c9f3b196502d4ae0f6b49b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2744288c9f3b196502d4ae0f6b49b8b">&#9670;&#160;</a></span>set_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::set_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">cpu_status_t</a> *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> registers from the provided structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The structure containing the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> status </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00309">309</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  309</span>                                         {</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="comment">// Set the registers</span></div>
<div class="line"><span class="lineno">  312</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r15&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r15));</div>
<div class="line"><span class="lineno">  313</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r14&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r14));</div>
<div class="line"><span class="lineno">  314</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r13&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r13));</div>
<div class="line"><span class="lineno">  315</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r12&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r12));</div>
<div class="line"><span class="lineno">  316</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r11&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r11));</div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r10&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r10));</div>
<div class="line"><span class="lineno">  318</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r9&quot;</span>  : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r9));</div>
<div class="line"><span class="lineno">  319</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%r8&quot;</span>  : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;r8));</div>
<div class="line"><span class="lineno">  320</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rdi&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rdi));</div>
<div class="line"><span class="lineno">  321</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rsi&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rsi));</div>
<div class="line"><span class="lineno">  322</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rbp&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rbp));</div>
<div class="line"><span class="lineno">  323</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rdx&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rdx));</div>
<div class="line"><span class="lineno">  324</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rcx&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rcx));</div>
<div class="line"><span class="lineno">  325</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rbx&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rbx));</div>
<div class="line"><span class="lineno">  326</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;mov %0, %%rax&quot;</span> : : <span class="stringliteral">&quot;r&quot;</span> (status-&gt;rax));</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae67e18fdfbb6fcd51d0f2509c9c43ff2" name="ae67e18fdfbb6fcd51d0f2509c9c43ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67e18fdfbb6fcd51d0f2509c9c43ff2">&#9670;&#160;</a></span>stack_trace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::stack_trace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">size_t</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints a stack trace up to the specified level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The number of stack frames to print </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00411">411</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  411</span>                                  {</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="keyword">auto</span>* <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">frame</a> = (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">stack_frame_t</a>*) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">__builtin_frame_address</a>(0);</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="comment">// Loop through the frames logging</span></div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">current_level</a> = 0; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">current_level</a> &lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">level</a>; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">current_level</a>++) {</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        <span class="comment">// Print the frame</span></div>
<div class="line"><span class="lineno">  419</span>        <span class="keyword">auto</span> function = <a class="code hl_function" href="symbols_8cpp.html#a4bfba91a61cfa3c1878b5c9861bbf05c">resolve_symbol</a>(<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">frame</a>-&gt;rip);</div>
<div class="line"><span class="lineno">  420</span>        <a class="code hl_function" href="classLogger.html#a9d5741991cc756d6abb2ca80b019e137">Logger::ERROR</a>() &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">current_level</a> &lt;&lt; <span class="stringliteral">&quot;): &quot;</span> &lt;&lt; (function ? function : <span class="stringliteral">&quot;Unknown()&quot;</span>)  &lt;&lt; <span class="stringliteral">&quot; at 0x&quot;</span> &lt;&lt; <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">frame</a>-&gt;rip &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>        <span class="comment">// Next frame</span></div>
<div class="line"><span class="lineno">  423</span>        <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">frame</a> = <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">frame</a>-&gt;next;</div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">frame</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    }</div>
<div class="line"><span class="lineno">  428</span>}</div>
<div class="ttc" id="asymbols_8cpp_html_a4bfba91a61cfa3c1878b5c9861bbf05c"><div class="ttname"><a href="symbols_8cpp.html#a4bfba91a61cfa3c1878b5c9861bbf05c">MaxOS::common::resolve_symbol</a></div><div class="ttdeci">const char * resolve_symbol(uintptr_t rip, uintptr_t link_base, uintptr_t load_base)</div><div class="ttdoc">Resolve an instruction pointer (rip) to a symbol name and optional offset.</div><div class="ttdef"><b>Definition</b> <a href="symbols_8cpp_source.html#l00024">symbols.cpp:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="logger_8cpp_source.html#l00201">Logger::ERROR()</a>, and <a class="el" href="symbols_8cpp_source.html#l00024">MaxOS::common::resolve_symbol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>.</p>

</div>
</div>
<a id="ae37f29176f1bd55eb7401d1d34e7c69b" name="ae37f29176f1bd55eb7401d1d34e7c69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae37f29176f1bd55eb7401d1d34e7c69b">&#9670;&#160;</a></span>write_msr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">void</a> CPU::write_msr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMaxOS_1_1common_1_1Rectangle.html">uint64_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes the specified value to the specified MSR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msr</td><td>The MSR to write to </td></tr>
    <tr><td class="paramname">value</td><td>The value to write </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cpu_8cpp_source.html#l00385">385</a> of file <a class="el" href="cpu_8cpp_source.html">cpu.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  385</span>                                                {</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    <span class="comment">// Write the MSR</span></div>
<div class="line"><span class="lineno">  388</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;wrmsr&quot;</span> : : <span class="stringliteral">&quot;a&quot;</span> ((<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>) <a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">value</a>), <span class="stringliteral">&quot;d&quot;</span> ((<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">uint32_t</a>) (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">value</a> &gt;&gt; 32)), <span class="stringliteral">&quot;c&quot;</span> (<a class="code hl_class" href="classMaxOS_1_1common_1_1Rectangle.html">msr</a>));</div>
<div class="line"><span class="lineno">  389</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="apic_8cpp_source.html#l00128">MaxOS::hardwarecommunication::LocalAPIC::send_init()</a>, <a class="el" href="apic_8cpp_source.html#l00167">MaxOS::hardwarecommunication::LocalAPIC::send_startup()</a>, and <a class="el" href="apic_8cpp_source.html#l00088">MaxOS::hardwarecommunication::LocalAPIC::write()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a13d3b45c5ca62bf96e425e40ca113663" name="a13d3b45c5ca62bf96e425e40ca113663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d3b45c5ca62bf96e425e40ca113663">&#9670;&#160;</a></span>acpi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1hardwarecommunication_1_1AdvancedConfigurationAndPowerInterface.html">hardwarecommunication::AdvancedConfigurationAndPowerInterface</a> MaxOS::system::CPU::acpi</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ACPI interface for the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a>. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8h_source.html#l00235">235</a> of file <a class="el" href="cpu_8h_source.html">cpu.h</a>.</p>

</div>
</div>
<a id="a7fef57a79ba623497c26b04e34cfedf6" name="a7fef57a79ba623497c26b04e34cfedf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fef57a79ba623497c26b04e34cfedf6">&#9670;&#160;</a></span>apic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController.html">hardwarecommunication::AdvancedProgrammableInterruptController</a> MaxOS::system::CPU::apic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The APIC interface for the <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a>. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8h_source.html#l00236">236</a> of file <a class="el" href="cpu_8h_source.html">cpu.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00249">CPU()</a>, and <a class="el" href="cpu_8cpp_source.html#l00524">find_cores()</a>.</p>

</div>
</div>
<a id="acbed3e383ef08559099051d9c7e9d57b" name="acbed3e383ef08559099051d9c7e9d57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbed3e383ef08559099051d9c7e9d57b">&#9670;&#160;</a></span>cores</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Vector.html">common::Vector</a>&lt;<a class="el" href="classMaxOS_1_1system_1_1Core.html">Core</a>*&gt; MaxOS::system::CPU::cores</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of <a class="el" href="classMaxOS_1_1system_1_1CPU.html" title="Manages the CPU and its cores.">CPU</a> cores in the system (populated during initialization, includes the BSP and cores that failed to start) </p>

<p class="definition">Definition at line <a class="el" href="cpu_8h_source.html#l00245">245</a> of file <a class="el" href="cpu_8h_source.html">cpu.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="scheduler_8cpp_source.html#l00098">MaxOS::processes::GlobalScheduler::activate()</a>, <a class="el" href="scheduler_8cpp_source.html#l00183">MaxOS::processes::GlobalScheduler::add_process()</a>, <a class="el" href="scheduler_8cpp_source.html#l00214">MaxOS::processes::GlobalScheduler::add_thread()</a>, <a class="el" href="cpu_8cpp_source.html#l00249">CPU()</a>, <a class="el" href="scheduler_8cpp_source.html#l00109">MaxOS::processes::GlobalScheduler::deactivate()</a>, <a class="el" href="cpu_8cpp_source.html#l00620">executing_core()</a>, <a class="el" href="cpu_8cpp_source.html#l00524">find_cores()</a>, <a class="el" href="scheduler_8cpp_source.html#l00261">MaxOS::processes::GlobalScheduler::force_remove_process()</a>, <a class="el" href="scheduler_8cpp_source.html#l00290">MaxOS::processes::GlobalScheduler::get_process()</a>, <a class="el" href="scheduler_8cpp_source.html#l00323">MaxOS::processes::GlobalScheduler::get_thread()</a>, <a class="el" href="scheduler_8cpp_source.html#l00024">MaxOS::processes::GlobalScheduler::GlobalScheduler()</a>, <a class="el" href="cpu_8cpp_source.html#l00548">init_cores()</a>, and <a class="el" href="scheduler_8cpp_source.html#l00245">MaxOS::processes::GlobalScheduler::remove_process()</a>.</p>

</div>
</div>
<a id="ae48969a59a3ae850353360f366166ca8" name="ae48969a59a3ae850353360f366166ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae48969a59a3ae850353360f366166ca8">&#9670;&#160;</a></span>panic_core</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1system_1_1Core.html">Core</a>* MaxOS::system::CPU::panic_core = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The core that triggered the panic. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8h_source.html#l00238">238</a> of file <a class="el" href="cpu_8h_source.html">cpu.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>, and <a class="el" href="cpu_8cpp_source.html#l00492">prepare_for_panic()</a>.</p>

</div>
</div>
<a id="af7c9f38c5738cdaa2b57251577eea6d5" name="af7c9f38c5738cdaa2b57251577eea6d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c9f38c5738cdaa2b57251577eea6d5">&#9670;&#160;</a></span>panic_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMaxOS_1_1common_1_1Spinlock.html">common::Spinlock</a> MaxOS::system::CPU::panic_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock to prevent multiple panics at once. </p>

<p class="definition">Definition at line <a class="el" href="cpu_8h_source.html#l00239">239</a> of file <a class="el" href="cpu_8h_source.html">cpu.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="vesaboot_8cpp_source.html#l00230">MaxOS::drivers::console::VESABootConsole::get_background_color()</a>, <a class="el" href="vesaboot_8cpp_source.html#l00207">MaxOS::drivers::console::VESABootConsole::get_foreground_color()</a>, <a class="el" href="cpu_8cpp_source.html#l00436">PANIC()</a>, and <a class="el" href="cpu_8cpp_source.html#l00492">prepare_for_panic()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/MaxOS/MaxOS/kernel/include/system/<a class="el" href="cpu_8h_source.html">cpu.h</a></li>
<li>/home/runner/work/MaxOS/MaxOS/kernel/src/system/<a class="el" href="cpu_8cpp_source.html">cpu.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>MaxOS</b></li><li class="navelem"><b>system</b></li><li class="navelem"><a class="el" href="classMaxOS_1_1system_1_1CPU.html">CPU</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
