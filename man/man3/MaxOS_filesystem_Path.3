.TH "MaxOS::filesystem::Path" 3 "Version 0.3" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::filesystem::Path \- Handles file & directory paths\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <path\&.h>\fP
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "\fBstatic\fP \fBbool\fP \fBvalid\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Check if a path is valid\&. "
.ti -1c
.RI "\fBstatic\fP \fBbool\fP \fBis_file\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Check if a path is a file\&. "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBfile_name\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Get the file name component of a path if it exists or an empty string\&. "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBfile_extension\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Try to get the file extension from a path (assumes split by '\&.') "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBfile_path\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Finds the path to the directory the file is in\&. "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBtop_directory\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Get the top directory of a path\&. "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBparent_directory\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Get the parent directory of the path\&. "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBabsolute_path\fP (\fBconst\fP \fBstring\fP &\fBpath\fP)"
.br
.RI "Calculates path with out any '\&.\&./' or '\&./'\&. "
.ti -1c
.RI "\fBstatic\fP \fBstring\fP \fBjoin_path\fP (\fBconst\fP \fBstring\fP &base, \fBconst\fP \fBstring\fP &\fBextended\fP)"
.br
.RI "Joins two paths together\&. "
.in -1c
.SH "Detailed Description"
.PP 
Handles file & directory paths\&. 
.PP
Definition at line \fB21\fP of file \fBpath\&.h\fP\&.
.SH "Member Function Documentation"
.PP 
.SS "\fBstring\fP Path::absolute_path (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Calculates path with out any '\&.\&./' or '\&./'\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path 
.RE
.PP
\fBReturns\fP
.RS 4
The new path, direct from root 
.RE
.PP

.PP
Definition at line \fB170\fP of file \fBpath\&.cpp\fP\&..PP
.nf
170                                              {
171 
172     // Split the path into components
173     auto components = path\&.split("/");
174     common::Vector<string> absolute_components;
175     for (auto &component: components) {
176 
177         // Skip empty or self references
178         if (component == "" || component == "\&.")
179             continue;
180 
181         // Handle parent directory references
182         if (component == "\&.\&.") {
183             if (!absolute_components\&.empty())
184                 absolute_components\&.pop_back();
185         } else
186             absolute_components\&.push_back(component);
187     }
188 
189     // Join the components back into a path
190     string absolute_path = "/";
191     for(const auto& component : absolute_components)
192         absolute_path += component + "/";
193 
194     // Remove trailing slash if file
195     if(Path::is_file(absolute_path) && absolute_path\&.length() > 1)
196         absolute_path = absolute_path\&.substring(0, absolute_path\&.length() \- 1);
197 
198     return absolute_path;
199 }
.fi

.PP
References \fBabsolute_path()\fP, and \fBis_file()\fP\&.
.PP
Referenced by \fBabsolute_path()\fP, \fBMaxOS::filesystem::VFSResourceRegistry::create_resource()\fP, and \fBMaxOS::filesystem::VFSResourceRegistry::get_resource()\fP\&.
.SS "\fBstring\fP Path::file_extension (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Try to get the file extension from a path (assumes split by '\&.') 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to get the file extension from 
.RE
.PP
\fBReturns\fP
.RS 4
The file extension or the original path if it does not exist 
.RE
.PP

.PP
Definition at line \fB77\fP of file \fBpath\&.cpp\fP\&..PP
.nf
77                                               {
78 
79     // Find the last \&.
80     int last_dot = \-1;
81     for (size_t i = 0; i < path\&.length(); i++)
82         if (path[i] == '\&.')
83             last_dot = i;
84 
85     // Make sure there was a dot to split
86     if (last_dot == \-1)
87         return "";
88 
89     // Get the file extension (what is after the "\&.")
90     string file_extension = path\&.substring(last_dot + 1, path\&.length() \- last_dot \- 1);
91     return file_extension;
92 
93 }
.fi

.PP
References \fBfile_extension()\fP\&.
.PP
Referenced by \fBfile_extension()\fP, and \fBis_file()\fP\&.
.SS "\fBstring\fP Path::file_name (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Get the file name component of a path if it exists or an empty string\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to get the file name from 
.RE
.PP
\fBReturns\fP
.RS 4
The file name or the original path if it does not exist 
.RE
.PP

.PP
Definition at line \fB54\fP of file \fBpath\&.cpp\fP\&..PP
.nf
54                                          {
55 
56     // Find the last /
57     int last_slash = \-1;
58     for (size_t i = 0; i < path\&.length(); i++)
59         if (path[i] == '/')
60             last_slash = i;
61 
62     // Make sure there was a slash to split
63     if (last_slash == \-1)
64         return path;
65 
66     // Get the file name
67     string file_name = path\&.substring(last_slash + 1, path\&.length() \- last_slash \- 1);
68     return file_name;
69 }
.fi

.PP
References \fBfile_name()\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::VirtualFileSystem::create_directory()\fP, \fBMaxOS::filesystem::VirtualFileSystem::create_file()\fP, \fBMaxOS::filesystem::VirtualFileSystem::delete_directory()\fP, \fBMaxOS::filesystem::VirtualFileSystem::delete_file()\fP, \fBMaxOS::filesystem::FileSystem::exists()\fP, \fBfile_name()\fP, \fBis_file()\fP, and \fBMaxOS::filesystem::VirtualFileSystem::open_file()\fP\&.
.SS "\fBstring\fP Path::file_path (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Finds the path to the directory the file is in\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to get the file path from 
.RE
.PP
\fBReturns\fP
.RS 4
The file path or the original path if it does not exist 
.RE
.PP

.PP
Definition at line \fB101\fP of file \fBpath\&.cpp\fP\&..PP
.nf
101                                          {
102 
103     // Try to find the last /
104     int last_slash = \-1;
105     for (size_t i = 0; i < path\&.length(); i++)
106         if (path[i] == '/')
107             last_slash = i;
108 
109     // Make sure there was a slash to split
110     if (last_slash == \-1)
111         return path;
112 
113     // Get the file path
114     string file_path = path\&.substring(0, last_slash);
115     return file_path;
116 
117 }
.fi

.PP
References \fBfile_path()\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::FileSystem::exists()\fP, \fBfile_path()\fP, and \fBMaxOS::filesystem::VirtualFileSystem::open_directory()\fP\&.
.SS "\fBbool\fP Path::is_file (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Check if a path is a file\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to check 
.RE
.PP
\fBReturns\fP
.RS 4
True if the path is a file, false otherwise 
.RE
.PP

.PP
Definition at line \fB42\fP of file \fBpath\&.cpp\fP\&..PP
.nf
42                                      {
43 
44     return file_name(path)\&.length() > 0 && file_extension(path)\&.length() > 0;
45 }
.fi

.PP
References \fBfile_extension()\fP, and \fBfile_name()\fP\&.
.PP
Referenced by \fBabsolute_path()\fP, \fBMaxOS::filesystem::VFSResourceRegistry::create_resource()\fP, and \fBMaxOS::filesystem::VFSResourceRegistry::get_resource()\fP\&.
.SS "\fBstring\fP Path::join_path (\fBconst\fP \fBstring\fP & base, \fBconst\fP \fBstring\fP & extended)\fC [static]\fP"

.PP
Joins two paths together\&. 
.PP
\fBParameters\fP
.RS 4
\fIbase\fP The base path 
.br
\fIextended\fP What to add to the base path (if its from root, '/', then it will just return this) 
.RE
.PP
\fBReturns\fP
.RS 4
The joint path 
.RE
.PP

.PP
Definition at line \fB208\fP of file \fBpath\&.cpp\fP\&..PP
.nf
208                                                                  {
209 
210     // The new path is from root
211     if(extended[0] == '/')
212         return extended;
213 
214     return base + extended;
215 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::VFSResourceRegistry::create_resource()\fP, and \fBMaxOS::filesystem::VFSResourceRegistry::get_resource()\fP\&.
.SS "\fBstring\fP Path::parent_directory (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Get the parent directory of the path\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to either the file or the directory 
.RE
.PP
\fBReturns\fP
.RS 4
.RE
.PP

.PP
Definition at line \fB148\fP of file \fBpath\&.cpp\fP\&..PP
.nf
148                                                 {
149 
150     // Find the last /
151     int last_slash = \-1;
152     for (size_t i = 0; i < path\&.length(); i++)
153         if (path[i] == '/')
154             last_slash = i;
155 
156     // If no slash or only root, return empty string
157     if (last_slash <= 0)
158         return "/";
159 
160     // Return substring up to last slash
161     return path\&.substring(0, last_slash);
162 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::FileResource::write()\fP, and \fBMaxOS::filesystem::DirectoryResource::write()\fP\&.
.SS "\fBstring\fP Path::top_directory (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Get the top directory of a path\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to get the top directory from 
.RE
.PP
\fBReturns\fP
.RS 4
The top directory or the original path if it does not exist 
.RE
.PP

.PP
Definition at line \fB125\fP of file \fBpath\&.cpp\fP\&..PP
.nf
125                                              {
126 
127     // Find the first /
128     int first_slash = \-1;
129     for (size_t i = 0; i < path\&.length(); i++)
130         if (path[i] == '/')
131             first_slash = i;
132 
133     // Make sure there was a slash to split
134     if (first_slash == \-1)
135         return path;
136 
137     // Get the top directory
138     string top_directory = path\&.substring(0, first_slash);
139     return top_directory;
140 }
.fi

.PP
References \fBtop_directory()\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::FileSystem::get_directory()\fP, and \fBtop_directory()\fP\&.
.SS "\fBbool\fP Path::valid (\fBconst\fP \fBstring\fP & path)\fC [static]\fP"

.PP
Check if a path is valid\&. 
.PP
\fBParameters\fP
.RS 4
\fIpath\fP The path to check 
.RE
.PP
\fBReturns\fP
.RS 4
True if the path is valid, false otherwise 
.RE
.PP

.PP
Definition at line \fB21\fP of file \fBpath\&.cpp\fP\&..PP
.nf
21                                    {
22 
23     // Must not be empty
24     if (path\&.length() == 0)
25         return false;
26 
27     // Must start with a /
28     if (path[0] != '/')
29         return false;
30 
31     // Valid
32     return true;
33 
34 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::VirtualFileSystem::create_directory()\fP, \fBMaxOS::filesystem::VirtualFileSystem::create_file()\fP, \fBMaxOS::filesystem::VirtualFileSystem::delete_directory()\fP, \fBMaxOS::filesystem::VirtualFileSystem::delete_file()\fP, \fBMaxOS::filesystem::VirtualFileSystem::open_directory()\fP, and \fBMaxOS::filesystem::VirtualFileSystem::open_file()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
