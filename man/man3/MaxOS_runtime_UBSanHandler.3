.TH "MaxOS::runtime::UBSanHandler" 3 "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::runtime::UBSanHandler \- Handles undefined behaviour sanitizer runtime errors\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <ubsan\&.h>\fP
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static void \fBhandle\fP (\fBsource_location_t\fP location, const char *msg)"
.br
.RI "Handles the UBSan error (currently only printing the location and panicking) "
.ti -1c
.RI "static void \fBprint_type_mismatch\fP (\fBtype_mismatch_info_t\fP *info, uintptr_t ptr)"
.br
.RI "Prints the type mismatch error for UBSan\&. "
.ti -1c
.RI "static void \fBprint_type_mismatch_v1\fP (\fBtype_mismatch_info_v1_t\fP *info, uintptr_t ptr)"
.br
.RI "Prints the type mismatch error for UBSan v1\&. "
.in -1c
.SH "Detailed Description"
.PP 
Handles undefined behaviour sanitizer runtime errors\&. 
.PP
Definition at line \fB134\fP of file \fBubsan\&.h\fP\&.
.SH "Member Function Documentation"
.PP 
.SS "void UBSanHandler::handle (\fBsource_location_t\fP location, const char * msg)\fC [static]\fP"

.PP
Handles the UBSan error (currently only printing the location and panicking) 
.PP
\fBParameters\fP
.RS 4
\fIlocation\fP The location of the error 
.br
\fImsg\fP The message that informs about the error 
.RE
.PP

.PP
Definition at line \fB25\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
25                                                                      {
26 
27     // Print the location
28     ASSERT(false, "UBSAN ERROR AT %s:%d:%d \- %s", location\&.file, location\&.line, location\&.column, msg);
29 }
.fi

.PP
References \fBASSERT\fP, \fBMaxOS::runtime::SourceLocation::column\fP, \fBMaxOS::runtime::SourceLocation::file\fP, and \fBMaxOS::runtime::SourceLocation::line\fP\&.
.PP
Referenced by \fBprint_type_mismatch()\fP, and \fBprint_type_mismatch_v1()\fP\&.
.SS "void UBSanHandler::print_type_mismatch (\fBtype_mismatch_info_t\fP * info, uintptr_t ptr)\fC [static]\fP"

.PP
Prints the type mismatch error for UBSan\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The type mismatch info 
.br
\fIptr\fP The pointer to the object 
.RE
.PP

.PP
Definition at line \fB37\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
37                                                                                 {
38 
39     // Print the error
40     string msg;
41     if (info\->alignment != 0 && ubsan_aligned(ptr, info\->alignment))
42         msg = "misaligned memory access";
43     else
44         msg = (StringBuilder)TYPE_CHECK_KINDS[info\->type_check_kind] << " address 0x" << ptr << " with insufficient space for an object of type " << info\->type\->name;
45 
46     // Print the location
47     handle(info\->location, msg\&.c_str());
48 }
.fi

.PP
References \fBMaxOS::runtime::TypeMismatchInfo::alignment\fP, \fBhandle()\fP, \fBMaxOS::runtime::TypeMismatchInfo::location\fP, \fBMaxOS::runtime::TypeDescriptor::name\fP, \fBMaxOS::runtime::TypeMismatchInfo::type\fP, \fBMaxOS::runtime::TypeMismatchInfo::type_check_kind\fP, and \fBMaxOS::runtime::TYPE_CHECK_KINDS\fP\&.
.SS "void UBSanHandler::print_type_mismatch_v1 (\fBtype_mismatch_info_v1_t\fP * info, uintptr_t ptr)\fC [static]\fP"

.PP
Prints the type mismatch error for UBSan v1\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The type mismatch info 
.br
\fIptr\fP The pointer to the object 
.RE
.PP

.PP
Definition at line \fB56\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
56                                                                                       {
57 
58     // Print the error
59     string msg;
60     if (info\->log_alignment != 0 && ubsan_aligned(ptr, (1 << (info\->log_alignment))))
61         msg = "misaligned memory access";
62     else
63         msg= StringBuilder() << TYPE_CHECK_KINDS[info\->type_check_kind] << " address 0x" << ptr << " with insufficient space for an object of type " << info\->type\->name;
64 
65     // Print the location
66     handle(info\->location, msg\&.c_str());
67 }
.fi

.PP
References \fBhandle()\fP, \fBMaxOS::runtime::TypeMismatchInfoV1::location\fP, \fBMaxOS::runtime::TypeMismatchInfoV1::log_alignment\fP, \fBMaxOS::runtime::TypeDescriptor::name\fP, \fBMaxOS::runtime::TypeMismatchInfoV1::type\fP, \fBMaxOS::runtime::TypeMismatchInfoV1::type_check_kind\fP, and \fBMaxOS::runtime::TYPE_CHECK_KINDS\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
