.TH "MaxOS::system::UBSanHandler" 3 "Sat Mar 29 2025" "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::system::UBSanHandler \- Handles undefined behaviour sanitizer\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <ubsan\&.h>\fP
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBUBSanHandler\fP ()"
.br
.ti -1c
.RI "\fB~UBSanHandler\fP ()"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static void \fBhandle\fP (\fBsource_location_t\fP location)"
.br
.ti -1c
.RI "static void \fBprint_type_mismatch\fP (\fBtype_mismatch_info_t\fP *info, uintptr_t ptr)"
.br
.RI "Prints the type mismatch error for UBSan\&. "
.ti -1c
.RI "static void \fBprint_type_mismatch_v1\fP (\fBtype_mismatch_info_v1_t\fP *info, uintptr_t ptr)"
.br
.RI "Prints the type mismatch error for UBSan v1\&. "
.in -1c
.SH "Detailed Description"
.PP 
Handles undefined behaviour sanitizer\&. 
.PP
Definition at line 84 of file ubsan\&.h\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "UBSanHandler::UBSanHandler ()"

.PP
Definition at line 12 of file ubsan\&.cpp\&.
.PP
.nf
12                            {
13 
14 }
.fi
.SS "UBSanHandler::~UBSanHandler ()"

.PP
Definition at line 16 of file ubsan\&.cpp\&.
.PP
.nf
16                             {
17 
18 }
.fi
.SH "Member Function Documentation"
.PP 
.SS "void UBSanHandler::handle (\fBsource_location_t\fP location)\fC [static]\fP"

.PP
Definition at line 20 of file ubsan\&.cpp\&.
.PP
.nf
20                                                     {
21 
22   // Print the location
23   ASSERT(false, "UBSAN ERROR AT %s:%d:%d\n", location\&.file, location\&.line, location\&.column);
24 
25 
26 }
.fi
.PP
References ASSERT, MaxOS::system::source_location::column, MaxOS::system::source_location::file, and MaxOS::system::source_location::line\&.
.PP
Referenced by __ubsan_handle_add_overflow(), __ubsan_handle_builtin_unreachable(), __ubsan_handle_divrem_overflow(), __ubsan_handle_load_invalid_value(), __ubsan_handle_missing_return(), __ubsan_handle_mul_overflow(), __ubsan_handle_negate_overflow(), __ubsan_handle_out_of_bounds(), __ubsan_handle_pointer_overflow(), __ubsan_handle_shift_out_of_bounds(), __ubsan_handle_sub_overflow(), __ubsan_handle_type_mismatch(), __ubsan_handle_type_mismatch_v1(), print_type_mismatch(), and print_type_mismatch_v1()\&.
.SS "void UBSanHandler::print_type_mismatch (\fBtype_mismatch_info_t\fP * info, uintptr_t ptr)\fC [static]\fP"

.PP
Prints the type mismatch error for UBSan\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The type mismatch info 
.br
\fIptr\fP The pointer to the object 
.RE
.PP

.PP
Definition at line 33 of file ubsan\&.cpp\&.
.PP
.nf
33                                                                                 {
34 
35   // Print the error
36   _kprintf("UBSan: ");
37   if(info -> alignment != 0 && ubsan_aligned(ptr, info -> alignment))
38     _kprintf("%h misaligned memory access\n");
39   else
40     _kprintf("%h %s address 0x%x with insufficient space for an object of type %s\n", Type_Check_Kinds[info -> type_check_kind], ptr, info -> type -> name);
41 
42   // Print the location
43   handle(info -> location);
44 }
.fi
.PP
References _kprintf, handle(), name, type, MaxOS::system::Type_Check_Kinds, and ubsan_aligned\&.
.PP
Referenced by __ubsan_handle_type_mismatch()\&.
.SS "void UBSanHandler::print_type_mismatch_v1 (\fBtype_mismatch_info_v1_t\fP * info, uintptr_t ptr)\fC [static]\fP"

.PP
Prints the type mismatch error for UBSan v1\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The type mismatch info 
.br
\fIptr\fP The pointer to the object 
.RE
.PP

.PP
Definition at line 51 of file ubsan\&.cpp\&.
.PP
.nf
51                                                                                       {
52 
53   // Print the error
54   _kprintf("UBSan: ");
55   if(info -> log_alignment != 0 && ubsan_aligned(ptr, (1 << (info -> log_alignment))))
56     _kprintf("%h misaligned memory access\n");
57   else
58     _kprintf("%h %s address 0x%x with insufficient space for an object of type %s\n", Type_Check_Kinds[info -> type_check_kind], ptr, info -> type -> name);
59 
60   // Print the location
61   handle(info -> location);
62 
63 
64 }
.fi
.PP
References _kprintf, handle(), name, type, MaxOS::system::Type_Check_Kinds, and ubsan_aligned\&.
.PP
Referenced by __ubsan_handle_type_mismatch_v1()\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
