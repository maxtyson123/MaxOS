.TH "MaxOS::drivers::peripherals::KeyboardInterpreter" 3 "Version 0.3" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::drivers::peripherals::KeyboardInterpreter \- Interprets the scan codes from the keyboard\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <keyboard\&.h>\fP
.PP
Inherits \fBMaxOS::common::InputStreamEventHandler< uint8_t >\fP, and \fBMaxOS::common::EventManager< KeyboardEvents >\fP\&.
.PP
Inherited by \fBMaxOS::drivers::peripherals::KeyboardInterpreterEN_US\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBKeyboardInterpreter\fP ()"
.br
.RI "Construct a new Keyboard Interpreter object\&. "
.ti -1c
.RI "\fBvoid\fP \fBon_key_read\fP (\fBbool\fP, \fBconst\fP \fBKeyboardState\fP &, \fBKeyCode\fP)"
.br
.RI "Handle the key event\&. "
.in -1c

Public Member Functions inherited from \fBMaxOS::common::InputStreamEventHandler< uint8_t >\fP
.in +1c
.ti -1c
.RI "\fBInputStreamEventHandler\fP ()"
.br
.RI "_______________________________________________TEMPLATES_________________________________________________________________/// "
.ti -1c
.RI "\fB~InputStreamEventHandler\fP ()"
.br
.RI "Destroys the \fBInputStreamProcessor\fP and disconnects it from all streams\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBon_stream_read\fP (\fBuint8_t\fP)"
.br
.RI "Called when data is read from a stream (overridden by subclasses) "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBon_end_of_stream\fP (\fBGenericInputStream\fP< \fBuint8_t\fP > *)"
.br
.RI "Called when a stream has finished\&. Removes the stream from the array of streams\&. "
.in -1c

Public Member Functions inherited from \fBMaxOS::common::EventManager< KeyboardEvents >\fP
.in +1c
.ti -1c
.RI "\fBvoid\fP \fBconnect_event_handler\fP (\fBEventHandler\fP< KeyboardEvents > *\fBhandler\fP)"
.br
.RI "connect an event handler to the event manager if it is not already connected "
.ti -1c
.RI "\fBvoid\fP \fBdisconnect_event_handler\fP (\fBEventHandler\fP< KeyboardEvents > *\fBhandler\fP)"
.br
.RI "disconnect an event handler from the event manager if it is connected "
.ti -1c
.RI "\fBVector\fP< \fBEvent\fP< KeyboardEvents > * > \fBraise_event\fP (\fBEvent\fP< KeyboardEvents > *\fBevent\fP)"
.br
.RI "Calls the on_event function of all the event m_handlers connected to the event manager and returns a list of the results\&. "
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "\fBKeyboardState\fP \fBm_keyboard_state\fP"
.br
.RI "The current state of what special keys are pressed on the keyboard\&. "
.ti -1c
.RI "bool \fBm_next_is_first_extended_code\fP = false"
.br
.RI "If true, the next code should be interpreted as an extended code (set when receiving 0xE0) "
.ti -1c
.RI "uint8_t \fBm_extended_scan_code_bytes\fP = 0"
.br
.RI "How many bytes are left to read for the current extended scan code\&. "
.ti -1c
.RI "uint16_t \fBm_extended_code_buffer\fP = 0"
.br
.RI "The storage for scan codes that take more than one byte\&. "
.in -1c

Protected Attributes inherited from \fBMaxOS::common::InputStreamEventHandler< uint8_t >\fP
.in +1c
.ti -1c
.RI "\fBcommon::Vector\fP< \fBGenericInputStream\fP< \fBuint8_t\fP > * > \fBm_generic_input_streams\fP"
.br
.RI "List of streams being observed by this handler\&. "
.in -1c

Protected Attributes inherited from \fBMaxOS::common::EventManager< KeyboardEvents >\fP
.in +1c
.ti -1c
.RI "\fBVector\fP< \fBEventHandler\fP< KeyboardEvents > * > \fBm_handlers\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
Interprets the scan codes from the keyboard\&. 
.PP
Definition at line \fB289\fP of file \fBkeyboard\&.h\fP\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "KeyboardInterpreter::KeyboardInterpreter ()"

.PP
Construct a new Keyboard Interpreter object\&. 
.PP
Definition at line \fB128\fP of file \fBkeyboard\&.cpp\fP\&..PP
.nf
129 : InputStreamEventHandler<uint8_t>()
130 {
131 
132 }
.fi

.SH "Member Function Documentation"
.PP 
.SS "\fBvoid\fP KeyboardInterpreter::on_key_read (\fBbool\fP released, \fBconst\fP \fBKeyboardState\fP & state, \fBKeyCode\fP key_code)"

.PP
Handle the key event\&. 
.PP
\fBParameters\fP
.RS 4
\fIreleased\fP True if the key was released, false if it was pressed 
.br
\fIstate\fP The state of the keyboard 
.br
\fIkey_code\fP The key code of the key 
.RE
.PP

.PP
Definition at line \fB143\fP of file \fBkeyboard\&.cpp\fP\&..PP
.nf
143                                                                                                  {
144 
145     // Pass the key event to the handlers
146     if (released)
147         raise_event(new KeyUpEvent(key_code, state));
148     else
149         raise_event(new KeyDownEvent(key_code, state));
150 
151 }
.fi

.PP
References \fBMaxOS::common::EventManager< KeyboardEvents >::raise_event()\fP\&.
.PP
Referenced by \fBMaxOS::drivers::peripherals::KeyboardInterpreterEN_US::on_stream_read()\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "uint16_t MaxOS::drivers::peripherals::KeyboardInterpreter::m_extended_code_buffer = 0\fC [protected]\fP"

.PP
The storage for scan codes that take more than one byte\&. 
.PP
Definition at line \fB296\fP of file \fBkeyboard\&.h\fP\&.
.PP
Referenced by \fBMaxOS::drivers::peripherals::KeyboardInterpreterEN_US::on_stream_read()\fP\&.
.SS "uint8_t MaxOS::drivers::peripherals::KeyboardInterpreter::m_extended_scan_code_bytes = 0\fC [protected]\fP"

.PP
How many bytes are left to read for the current extended scan code\&. 
.PP
Definition at line \fB295\fP of file \fBkeyboard\&.h\fP\&.
.PP
Referenced by \fBMaxOS::drivers::peripherals::KeyboardInterpreterEN_US::on_stream_read()\fP\&.
.SS "\fBKeyboardState\fP MaxOS::drivers::peripherals::KeyboardInterpreter::m_keyboard_state\fC [protected]\fP"

.PP
The current state of what special keys are pressed on the keyboard\&. 
.PP
Definition at line \fB292\fP of file \fBkeyboard\&.h\fP\&.
.PP
Referenced by \fBMaxOS::drivers::peripherals::KeyboardInterpreterEN_US::on_stream_read()\fP\&.
.SS "bool MaxOS::drivers::peripherals::KeyboardInterpreter::m_next_is_first_extended_code = false\fC [protected]\fP"

.PP
If true, the next code should be interpreted as an extended code (set when receiving 0xE0) 
.PP
Definition at line \fB294\fP of file \fBkeyboard\&.h\fP\&.
.PP
Referenced by \fBMaxOS::drivers::peripherals::KeyboardInterpreterEN_US::on_stream_read()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
