.TH "/home/runner/work/MaxOS/MaxOS/kernel/src/runtime/ubsan.cpp" 3 "Version 0.3" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
/home/runner/work/MaxOS/MaxOS/kernel/src/runtime/ubsan.cpp \- Implementation of the Undefined Behavior Sanitizer (UBSan) handler\&.  

.SH SYNOPSIS
.br
.PP
\fC#include <runtime/ubsan\&.h>\fP
.br
\fC#include <common/logger\&.h>\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "void \fB__ubsan_handle_type_mismatch\fP (\fBtype_mismatch_info_t\fP *info, uintptr_t ptr)"
.br
.RI "Triggered when memory is accessed with an unexpected type\&. "
.ti -1c
.RI "void \fB__ubsan_handle_type_mismatch_v1\fP (\fBtype_mismatch_info_v1_t\fP *info, uintptr_t ptr)"
.br
.RI "Triggered when memory is accessed with an unexpected type (UBSan v1 - includes more metadata) "
.ti -1c
.RI "void \fB__ubsan_handle_pointer_overflow\fP (\fBoverflow_info_t\fP *info)"
.br
.RI "Triggered when adding/subbing to a memory address is outside the expected bounds\&. "
.ti -1c
.RI "void \fB__ubsan_handle_sub_overflow\fP (\fBoverflow_info_t\fP *info)"
.br
.RI "Triggered when subtracting below the minimum value for the type\&. "
.ti -1c
.RI "void \fB__ubsan_handle_shift_out_of_bounds\fP (\fBshift_out_of_bounds_info_t\fP *info)"
.br
.RI "Triggered when shifting beyond the capacity of the type\&. "
.ti -1c
.RI "void \fB__ubsan_handle_out_of_bounds\fP (\fBout_of_bounds_info_t\fP *info)"
.br
.RI "Triggered when accessing an array at an index larger than its size (or negative) "
.ti -1c
.RI "void \fB__ubsan_handle_add_overflow\fP (\fBoverflow_info_t\fP *info)"
.br
.RI "Triggered when adding beyond the maximum value for the type\&. "
.ti -1c
.RI "void \fB__ubsan_handle_divrem_overflow\fP (\fBoverflow_info_t\fP *info)"
.br
.RI "Triggered when dividing or taking the remainder results in an overflow (eg dividing INT_MIN by -1) "
.ti -1c
.RI "void \fB__ubsan_handle_negate_overflow\fP (\fBoverflow_info_t\fP *info)"
.br
.RI "Triggered when negating (taking -x) when there is no corresponding positive/negative value\&. "
.ti -1c
.RI "void \fB__ubsan_handle_builtin_unreachable\fP (\fBlocation_only_info_t\fP *info)"
.br
.RI "Triggered when reaching code that should be unreachable\&. "
.ti -1c
.RI "void \fB__ubsan_handle_mul_overflow\fP (\fBoverflow_info_t\fP *info)"
.br
.RI "Triggered when multiplying beyond the maximum value for the type\&. "
.ti -1c
.RI "void \fB__ubsan_handle_load_invalid_value\fP (\fBinvalid_value_info_t\fP *info)"
.br
.RI "Triggered when loading a value that is invalid for its type (eg corrupted or uninitialised) "
.ti -1c
.RI "void \fB__ubsan_handle_missing_return\fP (\fBlocation_only_info_t\fP *info)"
.br
.RI "Triggered when a function that is expected to return a value does not\&. "
.ti -1c
.RI "void \fB__ubsan_handle_vla_bound_not_positive\fP (\fBvla_bound_not_positive_info_t\fP *info)"
.br
.RI "Triggered when a variable length array (VLA) is declared with a non-positive bound\&. "
.in -1c
.SH "Detailed Description"
.PP 
Implementation of the Undefined Behavior Sanitizer (UBSan) handler\&. 


.PP
\fBDate\fP
.RS 4
30th December 2024 
.RE
.PP
\fBAuthor\fP
.RS 4
Max Tyson 
.RE
.PP

.PP
Definition in file \fBubsan\&.cpp\fP\&.
.SH "Function Documentation"
.PP 
.SS "void __ubsan_handle_add_overflow (\fBoverflow_info_t\fP * info)"

.PP
Triggered when adding beyond the maximum value for the type\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the overflow 
.RE
.PP

.PP
Definition at line \fB139\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
139                                                                    {
140 
141     UBSanHandler::handle(info\->location, "Addition overflow");
142 
143 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OverflowInfo::location\fP\&.
.SS "void __ubsan_handle_builtin_unreachable (\fBlocation_only_info_t\fP * info)"

.PP
Triggered when reaching code that should be unreachable\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location of the unreachable code 
.RE
.PP

.PP
Definition at line \fB172\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
172                                                                                {
173 
174     UBSanHandler::handle(info\->location, "Unreachable code");
175 
176 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::LocationOnlyInfo::location\fP\&.
.SS "void __ubsan_handle_divrem_overflow (\fBoverflow_info_t\fP * info)"

.PP
Triggered when dividing or taking the remainder results in an overflow (eg dividing INT_MIN by -1) 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the overflow 
.RE
.PP

.PP
Definition at line \fB150\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
150                                                                       {
151 
152     UBSanHandler::handle(info\->location, "Division overflow");
153 
154 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OverflowInfo::location\fP\&.
.SS "void __ubsan_handle_load_invalid_value (\fBinvalid_value_info_t\fP * info)"

.PP
Triggered when loading a value that is invalid for its type (eg corrupted or uninitialised) 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the invalid value 
.RE
.PP

.PP
Definition at line \fB194\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
194                                                                               {
195 
196     UBSanHandler::handle(info\->location, "Load of invalid value");
197 
198 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::InvaildValueInfo::location\fP\&.
.SS "void __ubsan_handle_missing_return (\fBlocation_only_info_t\fP * info)"

.PP
Triggered when a function that is expected to return a value does not\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location of the missing return 
.RE
.PP

.PP
Definition at line \fB205\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
205                                                                           {
206 
207     UBSanHandler::handle(info\->location, "Missing return");
208 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::LocationOnlyInfo::location\fP\&.
.SS "void __ubsan_handle_mul_overflow (\fBoverflow_info_t\fP * info)"

.PP
Triggered when multiplying beyond the maximum value for the type\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the overflow 
.RE
.PP

.PP
Definition at line \fB183\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
183                                                                    {
184 
185     UBSanHandler::handle(info\->location, "Multiplication overflow");
186 
187 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OverflowInfo::location\fP\&.
.SS "void __ubsan_handle_negate_overflow (\fBoverflow_info_t\fP * info)"

.PP
Triggered when negating (taking -x) when there is no corresponding positive/negative value\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the overflow 
.RE
.PP

.PP
Definition at line \fB161\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
161                                                                       {
162 
163     UBSanHandler::handle(info\->location, "Negation overflow");
164 
165 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OverflowInfo::location\fP\&.
.SS "void __ubsan_handle_out_of_bounds (\fBout_of_bounds_info_t\fP * info)"

.PP
Triggered when accessing an array at an index larger than its size (or negative) 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the out of bounds access 
.RE
.PP

.PP
Definition at line \fB128\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
128                                                                          {
129 
130     UBSanHandler::handle(info\->location, "Array out of bounds");
131 
132 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OutOfBoundsInfo::location\fP\&.
.SS "void __ubsan_handle_pointer_overflow (\fBoverflow_info_t\fP * info)"

.PP
Triggered when adding/subbing to a memory address is outside the expected bounds\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The overflow information 
.RE
.PP

.PP
Definition at line \fB96\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
96                                                                        {
97 
98     UBSanHandler::handle(info\->location, "Pointer overflow");
99 
100 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OverflowInfo::location\fP\&.
.SS "void __ubsan_handle_shift_out_of_bounds (\fBshift_out_of_bounds_info_t\fP * info)"

.PP
Triggered when shifting beyond the capacity of the type\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The shift out of bounds information 
.RE
.PP

.PP
Definition at line \fB118\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
118                                                                                      {
119 
120     UBSanHandler::handle(info\->location, "Shift out of bounds");
121 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::ShiftOutOfBoundsInfo::location\fP\&.
.SS "void __ubsan_handle_sub_overflow (\fBoverflow_info_t\fP * info)"

.PP
Triggered when subtracting below the minimum value for the type\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the overflow 
.RE
.PP

.PP
Definition at line \fB107\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
107                                                                    {
108 
109     UBSanHandler::handle(info\->location, "Subtraction overflow");
110 
111 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::OverflowInfo::location\fP\&.
.SS "void __ubsan_handle_type_mismatch (\fBtype_mismatch_info_t\fP * info, uintptr_t ptr)"

.PP
Triggered when memory is accessed with an unexpected type\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The mismatch between the two types 
.br
\fIptr\fP The pointer to where the type mismatch occurred 
.RE
.PP

.PP
Definition at line \fB75\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
75                                                                                         {
76 
77     UBSanHandler::print_type_mismatch(info, ptr);
78 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::print_type_mismatch()\fP\&.
.SS "void __ubsan_handle_type_mismatch_v1 (\fBtype_mismatch_info_v1_t\fP * info, uintptr_t ptr)"

.PP
Triggered when memory is accessed with an unexpected type (UBSan v1 - includes more metadata) 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The mismatch between the two types 
.br
\fIptr\fP The pointer to where the type mismatch occurred 
.RE
.PP

.PP
Definition at line \fB86\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
86                                                                                               {
87 
88     UBSanHandler::print_type_mismatch_v1(info, ptr);
89 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::print_type_mismatch_v1()\fP\&.
.SS "void __ubsan_handle_vla_bound_not_positive (\fBvla_bound_not_positive_info_t\fP * info)"

.PP
Triggered when a variable length array (VLA) is declared with a non-positive bound\&. 
.PP
\fBParameters\fP
.RS 4
\fIinfo\fP The location and type of the VLA bound 
.RE
.PP

.PP
Definition at line \fB215\fP of file \fBubsan\&.cpp\fP\&..PP
.nf
215                                                                                            {
216 
217     UBSanHandler::handle(info\->location,  "VLA bound not positive");
218 }
.fi

.PP
References \fBMaxOS::runtime::UBSanHandler::handle()\fP, and \fBMaxOS::runtime::VLABoundNotPositiveInfo::location\fP\&.
.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
