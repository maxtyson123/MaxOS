.TH "MaxOS::drivers::ethernet::EthernetDriver" 3 "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::drivers::ethernet::EthernetDriver \- \fBDriver\fP for the Ethernet Controller, manages the sending and receiving of data, the mac address, and the events\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <ethernet\&.h>\fP
.PP
Inherits \fBMaxOS::drivers::Driver\fP, and \fBMaxOS::common::EventManager< EthernetDriverEvents >\fP\&.
.PP
Inherited by \fBMaxOS::drivers::ethernet::AMD_AM79C973\fP, and \fBMaxOS::drivers::ethernet::intel_i217\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBEthernetDriver\fP ()"
.br
.RI "__ETHERNET DRIVER___ "
.ti -1c
.RI "\fB~EthernetDriver\fP ()"
.br
.ti -1c
.RI "\fBvirtual\fP \fBMediaAccessControlAddress\fP \fBGetMediaAccessControlAddress\fP ()"
.br
.RI "Get the MAC address\&. "
.ti -1c
.RI "\fBvoid\fP \fBSend\fP (\fBuint8_t\fP *buffer, \fBuint32_t\fP \fBsize\fP)"
.br
.RI "Send data to the network via the driver backend\&. "
.in -1c

Public Member Functions inherited from \fBMaxOS::drivers::Driver\fP
.in +1c
.ti -1c
.RI "\fBDriver\fP ()"
.br
.ti -1c
.RI "\fB~Driver\fP ()"
.br
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBactivate\fP ()"
.br
.RI "activate the driver "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBdeactivate\fP ()"
.br
.RI "deactivate the driver "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBinitialise\fP ()"
.br
.RI "Initialise the driver\&. "
.ti -1c
.RI "\fBvirtual\fP \fBuint32_t\fP \fBreset\fP ()"
.br
.RI "Reset the driver\&. "
.ti -1c
.RI "\fBvirtual\fP \fBstring\fP \fBvendor_name\fP ()"
.br
.RI "Get who created the device\&. "
.ti -1c
.RI "\fBvirtual\fP \fBstring\fP \fBdevice_name\fP ()"
.br
.RI "Get the device name of the driver\&. "
.in -1c

Public Member Functions inherited from \fBMaxOS::common::EventManager< EthernetDriverEvents >\fP
.in +1c
.ti -1c
.RI "\fBEventManager\fP ()"
.br
.ti -1c
.RI "\fB~EventManager\fP ()"
.br
.ti -1c
.RI "\fBvoid\fP \fBconnect_event_handler\fP (\fBEventHandler\fP< EthernetDriverEvents > *\fBhandler\fP)"
.br
.RI "Connect an event handler to the event manager if it is not already connected\&. "
.ti -1c
.RI "\fBvoid\fP \fBdisconnect_event_handler\fP (\fBEventHandler\fP< EthernetDriverEvents > *\fBhandler\fP)"
.br
.RI "Disconnect an event handler from the event manager if it is connected\&. "
.ti -1c
.RI "\fBVector\fP< \fBEvent\fP< EthernetDriverEvents > * > \fBraise_event\fP (\fBEvent\fP< EthernetDriverEvents > *\fBevent\fP)"
.br
.RI "Calls the on_event function of all the event m_handlers connected to the event manager and returns a list of the results\&. "
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "\fBstatic\fP \fBMediaAccessControlAddress\fP \fBCreateMediaAccessControlAddress\fP (\fBuint8_t\fP \fBdigit1\fP, \fBuint8_t\fP \fBdigit2\fP, \fBuint8_t\fP \fBdigit3\fP, \fBuint8_t\fP \fBdigit4\fP, \fBuint8_t\fP \fBdigit5\fP, \fBuint8_t\fP \fBdigit6\fP)"
.br
.RI "Create a Media Access Control Address\&. "
.in -1c
.SS "Protected Member Functions"

.in +1c
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBDoSend\fP (\fBuint8_t\fP *buffer, \fBuint32_t\fP \fBsize\fP)"
.br
.RI "(Device Side) Send the data "
.ti -1c
.RI "\fBvoid\fP \fBFireDataReceived\fP (\fBuint8_t\fP *buffer, \fBuint32_t\fP \fBsize\fP)"
.br
.RI "Handle the recieved data\&. "
.ti -1c
.RI "\fBvoid\fP \fBFireDataSent\fP (\fBuint8_t\fP *buffer, \fBuint32_t\fP \fBsize\fP)"
.br
.RI "Send data\&. "
.in -1c
.SS "Additional Inherited Members"


Protected Attributes inherited from \fBMaxOS::common::EventManager< EthernetDriverEvents >\fP
.in +1c
.ti -1c
.RI "\fBVector\fP< \fBEventHandler\fP< EthernetDriverEvents > * > \fBm_handlers\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
\fBDriver\fP for the Ethernet Controller, manages the sending and receiving of data, the mac address, and the events\&. 
.PP
Definition at line \fB85\fP of file \fBethernet\&.h\fP\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "EthernetDriver::EthernetDriver ()\fC [default]\fP"

.PP
__ETHERNET DRIVER___ 
.SS "EthernetDriver::~EthernetDriver ()\fC [default]\fP"

.SH "Member Function Documentation"
.PP 
.SS "\fBMediaAccessControlAddress\fP EthernetDriver::CreateMediaAccessControlAddress (\fBuint8_t\fP digit1, \fBuint8_t\fP digit2, \fBuint8_t\fP digit3, \fBuint8_t\fP digit4, \fBuint8_t\fP digit5, \fBuint8_t\fP digit6)\fC [static]\fP"

.PP
Create a Media Access Control Address\&. 
.PP
\fBParameters\fP
.RS 4
\fIdigit1\fP The m_first_memory_chunk digit 
.br
\fIdigit2\fP The second digit 
.br
\fIdigit3\fP The third digit 
.br
\fIdigit4\fP The fourth digit 
.br
\fIdigit5\fP The fifth digit 
.br
\fIdigit6\fP The last digit 
.RE
.PP
\fBReturns\fP
.RS 4
The MAC address 
.RE
.PP

.PP
Definition at line \fB148\fP of file \fBethernet\&.cpp\fP\&..PP
.nf
149 {
150     return // digit6 is the most significant byte
151             (uint64_t)digit6 << 40
152             | (uint64_t)digit5 << 32
153             | (uint64_t)digit4 << 24
154             | (uint64_t)digit3 << 16
155             | (uint64_t)digit2 << 8
156             | (uint64_t)digit1;
157 }
.fi

.PP
Referenced by \fBMaxOS::drivers::ethernet::intel_i217::intel_i217()\fP\&.
.SS "\fBvoid\fP EthernetDriver::DoSend (\fBuint8_t\fP * buffer, \fBuint32_t\fP size)\fC [protected]\fP, \fC [virtual]\fP"

.PP
(Device Side) Send the data 
.PP
Reimplemented in \fBMaxOS::drivers::ethernet::AMD_AM79C973\fP, and \fBMaxOS::drivers::ethernet::intel_i217\fP\&.
.PP
Definition at line \fB93\fP of file \fBethernet\&.cpp\fP\&..PP
.nf
94 {
95 }
.fi

.PP
Referenced by \fBSend()\fP\&.
.SS "\fBvoid\fP EthernetDriver::FireDataReceived (\fBuint8_t\fP * buffer, \fBuint32_t\fP size)\fC [protected]\fP"

.PP
Handle the recieved data\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP The buffer to handle 
.br
\fIsize\fP The size of the buffer 
.RE
.PP

.PP
Definition at line \fB103\fP of file \fBethernet\&.cpp\fP\&..PP
.nf
104 {
105 
106     // Raise the event
107     Vector<Event<EthernetDriverEvents>*> values =
108         raise_event(new DataReceivedEvent(buffer, size));
109 
110     // Loop through the events
111     for(auto & value : values) {
112         switch (value\->type) {
113             case EthernetDriverEvents::DATA_RECEIVED:
114                 if(value\->return_value\&.boolValue)
115                     Send(buffer, size);
116                 break;
117 
118             default:
119                 break;
120         }
121     }
122 }
.fi

.PP
References \fBMaxOS::drivers::ethernet::DATA_RECEIVED\fP, \fBMaxOS::common::EventManager< EthernetDriverEvents >::raise_event()\fP, \fBSend()\fP, and \fBsize\fP\&.
.SS "\fBvoid\fP EthernetDriver::FireDataSent (\fBuint8_t\fP * buffer, \fBuint32_t\fP size)\fC [protected]\fP"

.PP
Send data\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP The buffer to send 
.br
\fIsize\fP The size of the buffer 
.RE
.PP

.PP
Definition at line \fB130\fP of file \fBethernet\&.cpp\fP\&..PP
.nf
131 {
132   raise_event(new DataSentEvent(buffer, size));
133 }
.fi

.PP
References \fBMaxOS::common::EventManager< EthernetDriverEvents >::raise_event()\fP, and \fBsize\fP\&.
.SS "\fBMediaAccessControlAddress\fP EthernetDriver::GetMediaAccessControlAddress ()\fC [virtual]\fP"

.PP
Get the MAC address\&. 
.PP
\fBReturns\fP
.RS 4
the MAC address 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::drivers::ethernet::AMD_AM79C973\fP, and \fBMaxOS::drivers::ethernet::intel_i217\fP\&.
.PP
Definition at line \fB70\fP of file \fBethernet\&.cpp\fP\&..PP
.nf
71 {
72     return 0;
73 }
.fi

.PP
Referenced by \fBMaxOS::net::EthernetFrameHandler::DataReceived()\fP\&.
.SS "\fBvoid\fP EthernetDriver::Send (\fBuint8_t\fP * buffer, \fBuint32_t\fP size)"

.PP
Send data to the network via the driver backend\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP The buffer to send 
.br
\fIsize\fP The size of the buffer 
.RE
.PP

.PP
Definition at line \fB81\fP of file \fBethernet\&.cpp\fP\&..PP
.nf
82 {
83 
84     // Raise the event
85     raise_event(new BeforeSendEvent(buffer, size));
86 
87     DoSend(buffer, size);
88 }
.fi

.PP
References \fBDoSend()\fP, \fBMaxOS::common::EventManager< EthernetDriverEvents >::raise_event()\fP, and \fBsize\fP\&.
.PP
Referenced by \fBFireDataReceived()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
