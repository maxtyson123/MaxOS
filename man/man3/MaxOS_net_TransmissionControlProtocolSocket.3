.TH "MaxOS::net::TransmissionControlProtocolSocket" 3 "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::net::TransmissionControlProtocolSocket
.SH SYNOPSIS
.br
.PP
.PP
\fC#include <tcp\&.h>\fP
.PP
Inherits \fBMaxOS::common::EventManager< TransmissionControlProtocolPayloadHandlerEvents >\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBTransmissionControlProtocolSocket\fP (\fBTransmissionControlProtocolHandler\fP *\fBtransmissionControlProtocolHandler\fP)"
.br
.RI "\fBSocket\fP/// "
.ti -1c
.RI "\fB~TransmissionControlProtocolSocket\fP ()"
.br
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBSend\fP (\fBuint8_t\fP *\fBdata\fP, \fBuint16_t\fP \fBsize\fP)"
.br
.RI "Send data over the socket\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBDisconnect\fP ()"
.br
.RI "Disconnect the socket\&. "
.ti -1c
.RI "\fBvoid\fP \fBDisconnected\fP ()"
.br
.ti -1c
.RI "\fBvoid\fP \fBConnected\fP ()"
.br
.ti -1c
.RI "\fBbool\fP \fBhandleTransmissionControlProtocolPayload\fP (\fBuint8_t\fP *\fBdata\fP, \fBuint16_t\fP \fBsize\fP)"
.br
.RI "Handle the TCP message (socket end) "
.in -1c

Public Member Functions inherited from \fBMaxOS::common::EventManager< TransmissionControlProtocolPayloadHandlerEvents >\fP
.in +1c
.ti -1c
.RI "\fBEventManager\fP ()"
.br
.ti -1c
.RI "\fB~EventManager\fP ()"
.br
.ti -1c
.RI "\fBvoid\fP \fBconnect_event_handler\fP (\fBEventHandler\fP< TransmissionControlProtocolPayloadHandlerEvents > *\fBhandler\fP)"
.br
.RI "Connect an event handler to the event manager if it is not already connected\&. "
.ti -1c
.RI "\fBvoid\fP \fBdisconnect_event_handler\fP (\fBEventHandler\fP< TransmissionControlProtocolPayloadHandlerEvents > *\fBhandler\fP)"
.br
.RI "Disconnect an event handler from the event manager if it is connected\&. "
.ti -1c
.RI "\fBVector\fP< \fBEvent\fP< TransmissionControlProtocolPayloadHandlerEvents > * > \fBraise_event\fP (\fBEvent\fP< TransmissionControlProtocolPayloadHandlerEvents > *\fBevent\fP)"
.br
.RI "Calls the on_event function of all the event m_handlers connected to the event manager and returns a list of the results\&. "
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "uint16_t \fBremotePort\fP = 0"
.br
.ti -1c
.RI "uint32_t \fBremoteIP\fP = 0"
.br
.ti -1c
.RI "uint16_t \fBlocalPort\fP = 0"
.br
.ti -1c
.RI "uint32_t \fBlocalIP\fP = 0"
.br
.ti -1c
.RI "uint32_t \fBsequenceNumber\fP = 0"
.br
.ti -1c
.RI "uint32_t \fBacknowledgementNumber\fP = 0"
.br
.ti -1c
.RI "\fBTransmissionControlProtocolHandler\fP * \fBtransmissionControlProtocolHandler\fP"
.br
.ti -1c
.RI "\fBTCPSocketState\fP \fBstate\fP"
.br
.in -1c

Protected Attributes inherited from \fBMaxOS::common::EventManager< TransmissionControlProtocolPayloadHandlerEvents >\fP
.in +1c
.ti -1c
.RI "\fBVector\fP< \fBEventHandler\fP< TransmissionControlProtocolPayloadHandlerEvents > * > \fBm_handlers\fP"
.br
.in -1c
.SS "Friends"

.in +1c
.ti -1c
.RI "class \fBTransmissionControlProtocolHandler\fP"
.br
.ti -1c
.RI "class \fBTransmissionControlProtocolPortListener\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
Definition at line \fB131\fP of file \fBtcp\&.h\fP\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "TransmissionControlProtocolSocket::TransmissionControlProtocolSocket (\fBTransmissionControlProtocolHandler\fP * transmissionControlProtocolHandler)"

.PP
\fBSocket\fP/// 
.PP
Definition at line \fB56\fP of file \fBtcp\&.cpp\fP\&..PP
.nf
57 {
58     //Set the default values
59     this \-> transmissionControlProtocolHandler = transmissionControlProtocolHandler;
60 
61     //Closed as default
62     state = TCPSocketState::CLOSED;
63 }
.fi

.PP
References \fBMaxOS::net::CLOSED\fP, \fBstate\fP, and \fBtransmissionControlProtocolHandler\fP\&.
.SS "TransmissionControlProtocolSocket::~TransmissionControlProtocolSocket ()\fC [default]\fP"

.SH "Member Function Documentation"
.PP 
.SS "\fBvoid\fP TransmissionControlProtocolSocket::Connected ()"

.PP
Definition at line \fB112\fP of file \fBtcp\&.cpp\fP\&..PP
.nf
112                                                   {
113     auto* event = new ConnectedEvent(this);
114     raise_event(event);
115     MemoryManager::kfree(event);
116 
117 }
.fi

.PP
References \fBMaxOS::memory::MemoryManager::kfree()\fP, and \fBMaxOS::common::EventManager< TransmissionControlProtocolPayloadHandlerEvents >::raise_event()\fP\&.
.SS "\fBvoid\fP TransmissionControlProtocolSocket::Disconnect ()\fC [virtual]\fP"

.PP
Disconnect the socket\&. 
.PP
Definition at line \fB100\fP of file \fBtcp\&.cpp\fP\&..PP
.nf
101 {
102     transmissionControlProtocolHandler \-> Disconnect(this);
103 }
.fi

.PP
References \fBDisconnect()\fP, and \fBtransmissionControlProtocolHandler\fP\&.
.PP
Referenced by \fBDisconnect()\fP\&.
.SS "\fBvoid\fP TransmissionControlProtocolSocket::Disconnected ()"

.PP
Definition at line \fB105\fP of file \fBtcp\&.cpp\fP\&..PP
.nf
105                                                      {
106     auto* event = new DisconnectedEvent(this);
107     raise_event(event);
108     MemoryManager::kfree(event);
109 
110 }
.fi

.PP
References \fBMaxOS::memory::MemoryManager::kfree()\fP, and \fBMaxOS::common::EventManager< TransmissionControlProtocolPayloadHandlerEvents >::raise_event()\fP\&.
.SS "\fBbool\fP TransmissionControlProtocolSocket::handleTransmissionControlProtocolPayload (\fBuint8_t\fP * data, \fBuint16_t\fP size)"

.PP
Handle the TCP message (socket end) 
.PP
\fBParameters\fP
.RS 4
\fIdata\fP The datah 
.br
\fIsize\fP The size of the data 
.RE
.PP
\fBReturns\fP
.RS 4
True if the connection is to be terminated after hadnling or false if not 
.RE
.PP

.PP
Definition at line \fB74\fP of file \fBtcp\&.cpp\fP\&..PP
.nf
75 {
76     auto* event = new DataReceivedEvent(this, data, size);
77     raise_event(event);
78     MemoryManager::kfree(event);
79     return true;
80 }
.fi

.PP
References \fBdata\fP, \fBMaxOS::memory::MemoryManager::kfree()\fP, \fBMaxOS::common::EventManager< TransmissionControlProtocolPayloadHandlerEvents >::raise_event()\fP, and \fBsize\fP\&.
.SS "\fBvoid\fP TransmissionControlProtocolSocket::Send (\fBuint8_t\fP * data, \fBuint16_t\fP size)\fC [virtual]\fP"

.PP
Send data over the socket\&. 
.PP
\fBParameters\fP
.RS 4
\fIdata\fP The data to send 
.br
\fIsize\fP The size of the data 
.RE
.PP

.PP
Definition at line \fB88\fP of file \fBtcp\&.cpp\fP\&..PP
.nf
89 {
90     //Wait for the socket to be connected
91     while(state != TCPSocketState::ESTABLISHED);
92 
93     //Pass the data to the backend
94     transmissionControlProtocolHandler \-> sendTransmissionControlProtocolPacket(this, data, size, (uint16_t)TCPFlag::PSH | (uint16_t)TCPFlag::ACK);
95 }
.fi

.PP
References \fBMaxOS::net::ACK\fP, \fBdata\fP, \fBMaxOS::net::ESTABLISHED\fP, \fBMaxOS::net::PSH\fP, \fBsize\fP, \fBstate\fP, and \fBtransmissionControlProtocolHandler\fP\&.
.SH "Friends And Related Symbol Documentation"
.PP 
.SS "friend class \fBTransmissionControlProtocolHandler\fP\fC [friend]\fP"

.PP
Definition at line \fB133\fP of file \fBtcp\&.h\fP\&.
.SS "friend class TransmissionControlProtocolPortListener\fC [friend]\fP"

.PP
Definition at line \fB134\fP of file \fBtcp\&.h\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "uint32_t MaxOS::net::TransmissionControlProtocolSocket::acknowledgementNumber = 0\fC [protected]\fP"

.PP
Definition at line \fB141\fP of file \fBtcp\&.h\fP\&.
.SS "uint32_t MaxOS::net::TransmissionControlProtocolSocket::localIP = 0\fC [protected]\fP"

.PP
Definition at line \fB139\fP of file \fBtcp\&.h\fP\&.
.SS "uint16_t MaxOS::net::TransmissionControlProtocolSocket::localPort = 0\fC [protected]\fP"

.PP
Definition at line \fB138\fP of file \fBtcp\&.h\fP\&.
.SS "uint32_t MaxOS::net::TransmissionControlProtocolSocket::remoteIP = 0\fC [protected]\fP"

.PP
Definition at line \fB137\fP of file \fBtcp\&.h\fP\&.
.SS "uint16_t MaxOS::net::TransmissionControlProtocolSocket::remotePort = 0\fC [protected]\fP"

.PP
Definition at line \fB136\fP of file \fBtcp\&.h\fP\&.
.SS "uint32_t MaxOS::net::TransmissionControlProtocolSocket::sequenceNumber = 0\fC [protected]\fP"

.PP
Definition at line \fB140\fP of file \fBtcp\&.h\fP\&.
.SS "\fBTCPSocketState\fP MaxOS::net::TransmissionControlProtocolSocket::state\fC [protected]\fP"

.PP
Definition at line \fB144\fP of file \fBtcp\&.h\fP\&.
.PP
Referenced by \fBSend()\fP, and \fBTransmissionControlProtocolSocket()\fP\&.
.SS "\fBTransmissionControlProtocolHandler\fP* MaxOS::net::TransmissionControlProtocolSocket::transmissionControlProtocolHandler\fC [protected]\fP"

.PP
Definition at line \fB143\fP of file \fBtcp\&.h\fP\&.
.PP
Referenced by \fBDisconnect()\fP, \fBSend()\fP, and \fBTransmissionControlProtocolSocket()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
