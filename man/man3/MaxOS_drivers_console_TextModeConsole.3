.TH "MaxOS::drivers::console::TextModeConsole" 3 "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::drivers::console::TextModeConsole \- \fBDriver\fP for the text mode console, handles the printing of characters and strings to the screen using VGA\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <textmode\&.h>\fP
.PP
Inherits \fBMaxOS::drivers::Driver\fP, and \fBMaxOS::drivers::console::Console\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBTextModeConsole\fP ()"
.br
.ti -1c
.RI "\fB~TextModeConsole\fP ()"
.br
.ti -1c
.RI "\fBuint16_t\fP \fBwidth\fP () \fBfinal\fP"
.br
.RI "Gets the width of the console\&. "
.ti -1c
.RI "\fBuint16_t\fP \fBheight\fP () \fBfinal\fP"
.br
.RI "Gets the height of the console\&. "
.ti -1c
.RI "\fBvoid\fP \fBput_character\fP (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBchar\fP c) \fBfinal\fP"
.br
.RI "Places a character at the specified location if it is in bounds\&. "
.ti -1c
.RI "\fBvoid\fP \fBset_foreground_color\fP (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBcommon::ConsoleColour\fP) \fBfinal\fP"
.br
.RI "Sets the foreground color at the specified location\&. "
.ti -1c
.RI "\fBvoid\fP \fBset_background_color\fP (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBcommon::ConsoleColour\fP) \fBfinal\fP"
.br
.RI "Sets the background color at the specified location\&. "
.ti -1c
.RI "\fBchar\fP \fBget_character\fP (\fBuint16_t\fP x, \fBuint16_t\fP y) \fBfinal\fP"
.br
.RI "Gets the character at the specified location\&. "
.ti -1c
.RI "\fBcommon::ConsoleColour\fP \fBget_foreground_color\fP (\fBuint16_t\fP x, \fBuint16_t\fP y) \fBfinal\fP"
.br
.RI "Gets the foreground color at the specified location\&. "
.ti -1c
.RI "\fBcommon::ConsoleColour\fP \fBget_background_color\fP (\fBuint16_t\fP x, \fBuint16_t\fP y) \fBfinal\fP"
.br
.RI "Gets the background color at the specified location\&. "
.in -1c

Public Member Functions inherited from \fBMaxOS::drivers::Driver\fP
.in +1c
.ti -1c
.RI "\fBDriver\fP ()"
.br
.ti -1c
.RI "\fB~Driver\fP ()"
.br
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBactivate\fP ()"
.br
.RI "activate the driver "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBdeactivate\fP ()"
.br
.RI "deactivate the driver "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBinitialise\fP ()"
.br
.RI "Initialise the driver\&. "
.ti -1c
.RI "\fBvirtual\fP \fBuint32_t\fP \fBreset\fP ()"
.br
.RI "Reset the driver\&. "
.ti -1c
.RI "\fBvirtual\fP \fBstring\fP \fBvendor_name\fP ()"
.br
.RI "Get who created the device\&. "
.ti -1c
.RI "\fBvirtual\fP \fBstring\fP \fBdevice_name\fP ()"
.br
.RI "Get the device name of the driver\&. "
.in -1c

Public Member Functions inherited from \fBMaxOS::drivers::console::Console\fP
.in +1c
.ti -1c
.RI "\fBConsole\fP ()"
.br
.ti -1c
.RI "\fB~Console\fP ()"
.br
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBput_character\fP (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBchar\fP c, \fBcommon::ConsoleColour\fP \fBforeground\fP, \fBcommon::ConsoleColour\fP \fBbackground\fP)"
.br
.RI "Put a character on the console with a given foreground and background color\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBput_string\fP (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBstring\fP s, \fBcommon::ConsoleColour\fP \fBforeground\fP=\fBcommon::ConsoleColour::LightGrey\fP, \fBcommon::ConsoleColour\fP \fBbackground\fP=\fBcommon::ConsoleColour::Black\fP)"
.br
.RI "Put a string on the console\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBscroll_up\fP ()"
.br
.RI "Scroll the entire console up by 1 line\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBscroll_up\fP (\fBuint16_t\fP left, \fBuint16_t\fP top, \fBuint16_t\fP \fBwidth\fP, \fBuint16_t\fP \fBheight\fP, \fBcommon::ConsoleColour\fP \fBforeground\fP=\fBcommon::ConsoleColour::LightGrey\fP, \fBcommon::ConsoleColour\fP \fBbackground\fP=\fBcommon::ConsoleColour::Black\fP, \fBchar\fP \fBfill\fP=' ')"
.br
.RI "Scroll an area of the console up by 1 line\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBclear\fP ()"
.br
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBclear\fP (\fBuint16_t\fP left, \fBuint16_t\fP top, \fBuint16_t\fP \fBwidth\fP, \fBuint16_t\fP \fBheight\fP, \fBcommon::ConsoleColour\fP \fBforeground\fP=\fBcommon::ConsoleColour::LightGrey\fP, \fBcommon::ConsoleColour\fP \fBbackground\fP=\fBcommon::ConsoleColour::Black\fP, \fBchar\fP \fBfill\fP=' ')"
.br
.RI "Clear an area of the console\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBinvert_colors\fP (\fBuint16_t\fP x, \fBuint16_t\fP y)"
.br
.RI "Invert the colors of a character on the console\&. "
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "uint16_t * \fBm_video_memory\fP { (uint16_t*)0xB8000 }"
.br
.in -1c
.SH "Detailed Description"
.PP 
\fBDriver\fP for the text mode console, handles the printing of characters and strings to the screen using VGA\&. 
.PP
Definition at line \fB22\fP of file \fBtextmode\&.h\fP\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "TextModeConsole::TextModeConsole ()\fC [default]\fP"

.SS "TextModeConsole::~TextModeConsole ()\fC [default]\fP"

.SH "Member Function Documentation"
.PP 
.SS "\fBConsoleColour\fP TextModeConsole::get_background_color (\fBuint16_t\fP x, \fBuint16_t\fP y)\fC [final]\fP, \fC [virtual]\fP"

.PP
Gets the background color at the specified location\&. 
.PP
\fBParameters\fP
.RS 4
\fIx\fP The x coordinate 
.br
\fIy\fP The y coordinate 
.RE
.PP
\fBReturns\fP
.RS 4
The background color at the specified location or black if the coordinates are out of bounds 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB141\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
141                                                                           {
142 
143     // Check bounds
144     if (x >= width() || y >= height())
145         return ConsoleColour::Black;
146 
147     // Calculate the offset
148     int offset = (y * width() + x);
149 
150     // Return the background color at the offset, by masking the background color with the current background color (bits 12\-15)
151     return (ConsoleColour) ((m_video_memory[offset] & 0xF000) >> 12);
152 }
.fi

.PP
References \fBheight()\fP, \fBm_video_memory\fP, and \fBwidth()\fP\&.
.SS "\fBchar\fP TextModeConsole::get_character (\fBuint16_t\fP x, \fBuint16_t\fP y)\fC [final]\fP, \fC [virtual]\fP"

.PP
Gets the character at the specified location\&. 
.PP
\fBParameters\fP
.RS 4
\fIx\fP The x coordinate 
.br
\fIy\fP The y coordinate 
.RE
.PP
\fBReturns\fP
.RS 4
The character at the specified location or a space if the coordinates are out of bounds 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB101\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
101                                                           {
102 
103     // Check bounds
104     if (x >= width() || y >= height())
105         return ' ';
106 
107     // Calculate the offset
108     int offset = (y * width() + x);
109 
110     // Return the character at the offset, mask away the colour information
111     return (char) (m_video_memory[offset] & 0x00FF);
112 }
.fi

.PP
References \fBheight()\fP, \fBm_video_memory\fP, and \fBwidth()\fP\&.
.SS "\fBConsoleColour\fP TextModeConsole::get_foreground_color (\fBuint16_t\fP x, \fBuint16_t\fP y)\fC [final]\fP, \fC [virtual]\fP"

.PP
Gets the foreground color at the specified location\&. 
.PP
\fBParameters\fP
.RS 4
\fIx\fP The x coordinate 
.br
\fIy\fP The y coordinate 
.RE
.PP
\fBReturns\fP
.RS 4
The foreground color at the specified location or white if the coordinates are out of bounds 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB121\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
121                                                                           {
122 
123     // Check bounds
124     if (x >= width() || y >= height())
125         return ConsoleColour::White;
126 
127     // Calculate the offset
128     int offset = (y * width() + x);
129 
130     // Return the foreground color at the offset, by masking the foreground color with the current foreground color (bits 8\-11)
131     return (ConsoleColour) ((m_video_memory[offset] & 0x0F00) >> 8);
132 }
.fi

.PP
References \fBheight()\fP, \fBm_video_memory\fP, and \fBwidth()\fP\&.
.SS "\fBuint16_t\fP TextModeConsole::height ()\fC [final]\fP, \fC [virtual]\fP"

.PP
Gets the height of the console\&. 
.PP
\fBReturns\fP
.RS 4
The height of the console in characters 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB30\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
30                                  {
31     return 25;
32 }
.fi

.PP
Referenced by \fBget_background_color()\fP, \fBget_character()\fP, \fBget_foreground_color()\fP, \fBput_character()\fP, \fBset_background_color()\fP, and \fBset_foreground_color()\fP\&.
.SS "\fBvoid\fP TextModeConsole::put_character (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBchar\fP c)\fC [final]\fP, \fC [virtual]\fP"

.PP
Places a character at the specified location if it is in bounds\&. 
.PP
\fBParameters\fP
.RS 4
\fIx\fP The x coordinate 
.br
\fIy\fP The y coordinate 
.br
\fIc\fP The character to place 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB41\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
41                                                                   {
42 
43     // Check bounds
44     if (x >= width() || y >= height())
45         return;
46 
47     // Calculate the offset
48     int offset = (y * width() + x);
49 
50     // Set the character at the offset, mask away the colour information
51     m_video_memory[offset] = (m_video_memory[offset] & 0xFF00) | (uint16_t) c;
52 }
.fi

.PP
References \fBheight()\fP, \fBm_video_memory\fP, and \fBwidth()\fP\&.
.SS "\fBvoid\fP TextModeConsole::set_background_color (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBcommon::ConsoleColour\fP background)\fC [final]\fP, \fC [virtual]\fP"

.PP
Sets the background color at the specified location\&. 
.PP
\fBParameters\fP
.RS 4
\fIx\fP The x coordinate 
.br
\fIy\fP The y coordinate 
.br
\fIbackground\fP The background color 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB81\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
81                                                                                            {
82 
83     // Check bounds
84     if (x >= width() || y >= height())
85         return;
86 
87     // Calculate the offset
88     int offset = (y * width() + x);
89 
90     // Set the background color at the offset, mask to get the backgroun bits
91     m_video_memory[offset] = (m_video_memory[offset] & 0x0FFF) | ((uint16_t) background << 12);
92 }
.fi

.PP
References \fBheight()\fP, \fBm_video_memory\fP, and \fBwidth()\fP\&.
.SS "\fBvoid\fP TextModeConsole::set_foreground_color (\fBuint16_t\fP x, \fBuint16_t\fP y, \fBcommon::ConsoleColour\fP foreground)\fC [final]\fP, \fC [virtual]\fP"

.PP
Sets the foreground color at the specified location\&. 
.PP
\fBParameters\fP
.RS 4
\fIx\fP The x coordinate 
.br
\fIy\fP The y coordinate 
.br
\fIforeground\fP The foreground color 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB61\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
61                                                                                            {
62 
63     // Check bounds
64     if (x >= width() || y >= height())
65         return;
66 
67     // Calculate the offset
68     int offset = (y * width() + x);
69 
70     // Set the foreground color at the offset, mask to get the foreground bits
71     m_video_memory[offset] = (m_video_memory[offset] & 0xF0FF) | ((uint16_t) foreground << 8);
72 }
.fi

.PP
References \fBheight()\fP, \fBm_video_memory\fP, and \fBwidth()\fP\&.
.SS "\fBuint16_t\fP TextModeConsole::width ()\fC [final]\fP, \fC [virtual]\fP"

.PP
Gets the width of the console\&. 
.PP
\fBReturns\fP
.RS 4
The width of the console in characters 
.RE
.PP

.PP
Reimplemented from \fBMaxOS::drivers::console::Console\fP\&.
.PP
Definition at line \fB21\fP of file \fBtextmode\&.cpp\fP\&..PP
.nf
21                                 {
22     return 80;
23 }
.fi

.PP
Referenced by \fBget_background_color()\fP, \fBget_character()\fP, \fBget_foreground_color()\fP, \fBput_character()\fP, \fBset_background_color()\fP, and \fBset_foreground_color()\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "uint16_t* MaxOS::drivers::console::TextModeConsole::m_video_memory { (uint16_t*)0xB8000 }\fC [protected]\fP"

.PP
Definition at line \fB25\fP of file \fBtextmode\&.h\fP\&..PP
.nf
25 { (uint16_t*)0xB8000 };
.fi

.PP
Referenced by \fBget_background_color()\fP, \fBget_character()\fP, \fBget_foreground_color()\fP, \fBput_character()\fP, \fBset_background_color()\fP, and \fBset_foreground_color()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
