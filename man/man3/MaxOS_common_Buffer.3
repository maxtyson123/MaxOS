.TH "MaxOS::common::Buffer" 3 "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::common::Buffer \- Wrapper class for a region of bytes in memor in an attempt to add some memory safety\&. Automatically allocates the size specified and frees it once done, adds boundary to I/O\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <buffer\&.h>\fP
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBBuffer\fP (\fBsize_t\fP \fBsize\fP, \fBbool\fP \fBupdate_offset\fP=\fBtrue\fP)"
.br
.RI "Creates a buffer of the specified size\&. "
.ti -1c
.RI "\fBBuffer\fP (\fBvoid\fP *\fBsource\fP, \fBsize_t\fP \fBsize\fP, \fBbool\fP \fBupdate_offset\fP=\fBtrue\fP)"
.br
.RI "Creates a buffer pointing to a source\&. "
.ti -1c
.RI "\fB~Buffer\fP ()"
.br
.RI "Destroy the buffer, freeing the memory\&. "
.ti -1c
.RI "\fBuint8_t\fP * \fBraw\fP () \fBconst\fP"
.br
.RI "The raw pointer to the bytes stored in memory, use is not recommended\&. "
.ti -1c
.RI "\fBvoid\fP \fBclear\fP ()"
.br
.RI "Fulls the buffer with 0's and resets the offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBfull\fP (\fBuint8_t\fP \fBbyte\fP, \fBsize_t\fP offset=0, \fBsize_t\fP \fBamount\fP=0)"
.br
.RI "Full the buffer with a specified byte at an offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBset_offset\fP (\fBsize_t\fP offset)"
.br
.RI "Set the offset for where operations should begin from\&. "
.ti -1c
.RI "\fBsize_t\fP \fBcapacity\fP () \fBconst\fP"
.br
.RI "The max bytes the buffer can currently store\&. "
.ti -1c
.RI "\fBvoid\fP \fBresize\fP (\fBsize_t\fP \fBsize\fP)"
.br
.RI "Grow the buffer to fit a new size\&. "
.ti -1c
.RI "\fBvoid\fP \fBwrite\fP (\fBuint8_t\fP \fBbyte\fP)"
.br
.RI "Safely writes a byte to the buffer at the current offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBwrite\fP (\fBsize_t\fP offset, \fBuint8_t\fP \fBbyte\fP)"
.br
.RI "Safely writes a byte to the buffer at the specified offset\&. "
.ti -1c
.RI "\fBuint8_t\fP \fBread\fP ()"
.br
.RI "Safely reads a byte from the buffer at the current offset\&. "
.ti -1c
.RI "\fBuint8_t\fP \fBread\fP (\fBsize_t\fP offset)"
.br
.RI "Safely reads a byte from the buffer at the specified offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_from\fP (\fBconst\fP \fBBuffer\fP *buffer)"
.br
.RI "Copies all the bytes from another buffer into this buffer\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_from\fP (\fBconst\fP \fBBuffer\fP *buffer, \fBsize_t\fP \fBlength\fP)"
.br
.RI "Copies a range of bytes from another buffer into this buffer\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_from\fP (\fBconst\fP \fBBuffer\fP *buffer, \fBsize_t\fP \fBlength\fP, \fBsize_t\fP offset)"
.br
.RI "Copies a range of bytes from another buffer into this buffer at a specified offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_from\fP (\fBconst\fP \fBBuffer\fP *buffer, \fBsize_t\fP \fBlength\fP, \fBsize_t\fP offset, \fBsize_t\fP \fBoffset_other\fP)"
.br
.RI "Copies a range of bytes from another buffer into this buffer at a specified offset for both\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_from\fP (\fBconst\fP \fBvoid\fP *\fBsource\fP, \fBsize_t\fP \fBlength\fP)"
.br
.RI "Copies a range of bytes from a source into this buffer\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_from\fP (\fBconst\fP \fBvoid\fP *\fBsource\fP, \fBsize_t\fP \fBlength\fP, \fBsize_t\fP offset)"
.br
.RI "Copies a range of bytes from a source into this buffer at a specified offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_to\fP (\fBBuffer\fP *buffer)"
.br
.RI "Copies all the bytes from this buffer into another buffer\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_to\fP (\fBBuffer\fP *buffer, \fBsize_t\fP \fBlength\fP)"
.br
.RI "Writes a range of bytes from this buffer into another buffer\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_to\fP (\fBBuffer\fP *buffer, \fBsize_t\fP \fBlength\fP, \fBsize_t\fP offset)"
.br
.RI "Copies a range of bytes from this buffer into another buffer at a specified offset\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_to\fP (\fBBuffer\fP *buffer, \fBsize_t\fP \fBlength\fP, \fBsize_t\fP offset, \fBsize_t\fP \fBoffset_other\fP)"
.br
.RI "Copies a range of bytes from this buffer into another at an offset for each\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_to\fP (\fBvoid\fP *\fBdestination\fP, \fBsize_t\fP \fBlength\fP)"
.br
.RI "Copies a range of bytes from this buffer into a source\&. "
.ti -1c
.RI "\fBvoid\fP \fBcopy_to\fP (\fBvoid\fP *\fBdestination\fP, \fBsize_t\fP \fBlength\fP, \fBsize_t\fP offset)"
.br
.RI "Copies a range of bytes from this buffer at an offset into a source\&. "
.in -1c
.SS "Public Attributes"

.in +1c
.ti -1c
.RI "\fBbool\fP \fBupdate_offset\fP = \fBtrue\fP"
.br
.RI "Should operations write/read/copy update the offset in the buffer? "
.in -1c
.SH "Detailed Description"
.PP 
Wrapper class for a region of bytes in memor in an attempt to add some memory safety\&. Automatically allocates the size specified and frees it once done, adds boundary to I/O\&. 
.PP
Definition at line \fB26\fP of file \fBbuffer\&.h\fP\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "Buffer::Buffer (\fBsize_t\fP size, \fBbool\fP update_offset = \fC\fBtrue\fP\fP)"

.PP
Creates a buffer of the specified size\&. 
.PP
\fBParameters\fP
.RS 4
\fIsize\fP The capacity of the buffer 
.br
\fIupdate_offset\fP Should operations update the offset of the buffer? 
.RE
.PP

.PP
Definition at line \fB20\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
21         : m_capacity(size),
22           update_offset(update_offset) {
23 
24     // Create the buffer
25     m_bytes = new uint8_t[size];
26 
27 }
.fi

.PP
References \fBsize\fP\&.
.SS "Buffer::Buffer (\fBvoid\fP * source, \fBsize_t\fP size, \fBbool\fP update_offset = \fC\fBtrue\fP\fP)"

.PP
Creates a buffer pointing to a source\&. 
.PP
\fBParameters\fP
.RS 4
\fIsource\fP The source 
.br
\fIsize\fP The capacity of the source 
.br
\fIupdate_offset\fP Should buffer operations update the internal offset? 
.RE
.PP

.PP
Definition at line \fB36\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
37         : update_offset(update_offset) {
38 
39     m_bytes = (uint8_t*) source;
40     m_capacity = size;
41     m_dont_delete = true;
42 
43 }
.fi

.PP
References \fBsize\fP, and \fBsource\fP\&.
.SS "Buffer::~Buffer ()"

.PP
Destroy the buffer, freeing the memory\&. 
.PP
Definition at line \fB48\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
48                 {
49     if (!m_dont_delete && m_bytes)
50         delete[] m_bytes;
51 }
.fi

.SH "Member Function Documentation"
.PP 
.SS "\fBsize_t\fP Buffer::capacity () const"

.PP
The max bytes the buffer can currently store\&. 
.PP
\fBSee also\fP
.RS 4
\fBBuffer\fP:grow(size_t size) to increase this\&. 
.RE
.PP
\fBReturns\fP
.RS 4
The length of the buffer storage array 
.RE
.PP

.PP
Definition at line \fB92\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
92                               {
93     return m_capacity;
94 }
.fi

.PP
Referenced by \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBfull()\fP, \fBread()\fP, and \fBwrite()\fP\&.
.SS "\fBvoid\fP Buffer::clear ()"

.PP
Fulls the buffer with 0's and resets the offset\&. 
.PP
Definition at line \fB65\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
65                    {
66 
67     m_offset = 0;
68     memset(m_bytes, 0, m_capacity);
69 }
.fi

.PP
References \fBmemset()\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::format::Fat32File::read()\fP, and \fBMaxOS::filesystem::format::Fat32File::write()\fP\&.
.SS "\fBvoid\fP Buffer::copy_from (\fBconst\fP \fBBuffer\fP * buffer)"

.PP
Copies all the bytes from another buffer into this buffer\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to read from 
.RE
.PP

.PP
Definition at line \fB189\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
189                                            {
190 
191     // Copy the buffer
192     ASSERT(buffer\->capacity() <= capacity(), "Copy exceeds buffer capacity");
193     copy_from(buffer\->raw(), buffer\->capacity());
194 
195 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_from()\fP, and \fBraw()\fP\&.
.PP
Referenced by \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_from()\fP, \fBMaxOS::filesystem::format::Fat32File::read()\fP, \fBMaxOS::filesystem::format::ext2::Ext2File::write()\fP, \fBMaxOS::filesystem::format::Fat32File::write()\fP, and \fBMaxOS::filesystem::format::ext2::Ext2Volume::write_inode()\fP\&.
.SS "\fBvoid\fP Buffer::copy_from (\fBconst\fP \fBBuffer\fP * buffer, \fBsize_t\fP length)"

.PP
Copies a range of bytes from another buffer into this buffer\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to read from 
.br
\fIlength\fP How much to read 
.RE
.PP

.PP
Definition at line \fB203\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
203                                                           {
204 
205     // Copy the buffer
206     ASSERT(length <= buffer\->capacity(), "Copy exceeds external buffer capacity");
207     copy_from(buffer\->raw(), length);
208 
209 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_from()\fP, \fBlength\fP, and \fBraw()\fP\&.
.SS "\fBvoid\fP Buffer::copy_from (\fBconst\fP \fBBuffer\fP * buffer, \fBsize_t\fP length, \fBsize_t\fP offset)"

.PP
Copies a range of bytes from another buffer into this buffer at a specified offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to read from 
.br
\fIlength\fP How much to read 
.br
\fIoffset\fP Where to start writing into this at 
.RE
.PP

.PP
Definition at line \fB217\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
217                                                                          {
218 
219     // Copy the buffer
220     ASSERT(length <= buffer\->capacity(), "Copy exceeds external buffer capacity");
221     copy_from(buffer\->raw(), length, offset);
222 
223 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_from()\fP, \fBlength\fP, and \fBraw()\fP\&.
.SS "\fBvoid\fP Buffer::copy_from (\fBconst\fP \fBBuffer\fP * buffer, \fBsize_t\fP length, \fBsize_t\fP offset, \fBsize_t\fP offset_other)"

.PP
Copies a range of bytes from another buffer into this buffer at a specified offset for both\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to read from 
.br
\fIlength\fP How much to read 
.br
\fIoffset\fP Where to start writing into this at 
.br
\fIoffset_other\fP Where to start reading from the other buffer 
.RE
.PP

.PP
Definition at line \fB233\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
233                                                                                               {
234 
235     // Copy the buffer
236     ASSERT(length + offset_other <= buffer\->capacity(), "Copy exceeds external buffer capacity");
237     copy_from(buffer\->raw() + offset_other, length, offset);
238 
239 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_from()\fP, \fBlength\fP, and \fBraw()\fP\&.
.SS "\fBvoid\fP Buffer::copy_from (\fBconst\fP \fBvoid\fP * source, \fBsize_t\fP length)"

.PP
Copies a range of bytes from a source into this buffer\&. 
.PP
\fBParameters\fP
.RS 4
\fIsource\fP Where to read from 
.br
\fIlength\fP How much to read 
.RE
.PP

.PP
Definition at line \fB247\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
247                                                         {
248 
249     // Copy the bytes
250     ASSERT(length + m_offset <= m_capacity, "Copy exceeds buffer capacity");
251     memcpy(m_bytes + m_offset, source, length);
252     set_offset(m_offset + length);
253 }
.fi

.PP
References \fBASSERT\fP, \fBlength\fP, \fBmemcpy()\fP, \fBset_offset()\fP, and \fBsource\fP\&.
.SS "\fBvoid\fP Buffer::copy_from (\fBconst\fP \fBvoid\fP * source, \fBsize_t\fP length, \fBsize_t\fP offset)"

.PP
Copies a range of bytes from a source into this buffer at a specified offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIsource\fP Where to read from 
.br
\fIlength\fP How much to read 
.br
\fIoffset\fP Where to start writing at 
.RE
.PP

.PP
Definition at line \fB262\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
262                                                                        {
263 
264     // Copy the bytes
265     ASSERT((length + offset + m_offset) <= m_capacity, "Copy exceeds buffer capacity");
266     memcpy(m_bytes + offset + m_offset, source, length);
267     set_offset(m_offset + length);
268 
269 }
.fi

.PP
References \fBASSERT\fP, \fBlength\fP, \fBmemcpy()\fP, \fBset_offset()\fP, and \fBsource\fP\&.
.SS "\fBvoid\fP Buffer::copy_to (\fBBuffer\fP * buffer)"

.PP
Copies all the bytes from this buffer into another buffer\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to write to 
.RE
.PP

.PP
Definition at line \fB276\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
276                                    {
277 
278     // Copy the buffer
279     ASSERT(capacity() <= buffer\->capacity(), "Copy exceeds external buffer capacity");
280     copy_to(buffer\->raw(), capacity());
281 
282 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_to()\fP, and \fBraw()\fP\&.
.PP
Referenced by \fBcopy_to()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBMaxOS::filesystem::format::ext2::Ext2File::read()\fP, and \fBMaxOS::filesystem::format::ext2::Ext2Volume::read_inode()\fP\&.
.SS "\fBvoid\fP Buffer::copy_to (\fBBuffer\fP * buffer, \fBsize_t\fP length)"

.PP
Writes a range of bytes from this buffer into another buffer\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to write to 
.br
\fIlength\fP How much to write 
.RE
.PP

.PP
Definition at line \fB290\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
290                                                   {
291 
292     // Copy the buffer
293     ASSERT(length <= buffer\->capacity(), "Copy exceeds external buffer capacity");
294     copy_to(buffer\->raw(), length);
295 
296 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_to()\fP, \fBlength\fP, and \fBraw()\fP\&.
.SS "\fBvoid\fP Buffer::copy_to (\fBBuffer\fP * buffer, \fBsize_t\fP length, \fBsize_t\fP offset)"

.PP
Copies a range of bytes from this buffer into another buffer at a specified offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to write to 
.br
\fIlength\fP How much to write 
.br
\fIoffset\fP Where to start reading at 
.RE
.PP

.PP
Definition at line \fB305\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
305                                                                  {
306 
307     // Copy the bytes
308     ASSERT((length + offset) <= buffer\->capacity(), "Copy exceeds external buffer capacity");
309     copy_to(buffer\->raw(), length, offset);
310 
311 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_to()\fP, \fBlength\fP, and \fBraw()\fP\&.
.SS "\fBvoid\fP Buffer::copy_to (\fBBuffer\fP * buffer, \fBsize_t\fP length, \fBsize_t\fP offset, \fBsize_t\fP offset_other)"

.PP
Copies a range of bytes from this buffer into another at an offset for each\&. 
.PP
\fBParameters\fP
.RS 4
\fIbuffer\fP Where to write to 
.br
\fIlength\fP How much to write 
.br
\fIoffset\fP Where to start reading from 
.br
\fIoffset_other\fP Where to start writing to 
.RE
.PP

.PP
Definition at line \fB321\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
321                                                                                       {
322 
323     // Copy the bytes
324     ASSERT((length + offset) <= buffer\->capacity(), "Copy exceeds external buffer capacity");
325     copy_to(buffer\->raw() + offset_other, length, offset);
326 
327 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, \fBcopy_to()\fP, \fBlength\fP, and \fBraw()\fP\&.
.SS "\fBvoid\fP Buffer::copy_to (\fBvoid\fP * destination, \fBsize_t\fP length)"

.PP
Copies a range of bytes from this buffer into a source\&. 
.PP
\fBParameters\fP
.RS 4
\fIdestination\fP Where to write to 
.br
\fIlength\fP How much to write 
.RE
.PP

.PP
Definition at line \fB336\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
336                                                      {
337 
338     // Copy the bytes
339     ASSERT(length + m_offset <= (m_capacity), "Copy exceeds buffer capacity");
340     memcpy(destination, m_bytes + m_offset, length);
341     set_offset(m_offset + length);
342 
343 }
.fi

.PP
References \fBASSERT\fP, \fBdestination\fP, \fBlength\fP, \fBmemcpy()\fP, and \fBset_offset()\fP\&.
.SS "\fBvoid\fP Buffer::copy_to (\fBvoid\fP * destination, \fBsize_t\fP length, \fBsize_t\fP offset)"

.PP
Copies a range of bytes from this buffer at an offset into a source\&. 
.PP
\fBParameters\fP
.RS 4
\fIdestination\fP Where to write to 
.br
\fIlength\fP How much to write 
.br
\fIoffset\fP Where to start reading from 
.RE
.PP

.PP
Definition at line \fB352\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
352                                                                     {
353 
354     // Copy the bytes
355     ASSERT((length + offset + m_offset) <= m_capacity, "Copy exceeds buffer capacity");
356     memcpy(destination, m_bytes + offset + m_offset, length);
357     set_offset(m_offset + length);
358 
359 }
.fi

.PP
References \fBASSERT\fP, \fBdestination\fP, \fBlength\fP, \fBmemcpy()\fP, and \fBset_offset()\fP\&.
.SS "\fBvoid\fP Buffer::full (\fBuint8_t\fP byte, \fBsize_t\fP offset = \fC0\fP, \fBsize_t\fP amount = \fC0\fP)"

.PP
Full the buffer with a specified byte at an offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIbyte\fP The byte to write 
.br
\fIoffset\fP Where to start writing (deafults to 0) 
.br
\fIamount\fP 
.RE
.PP

.PP
Definition at line \fB78\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
78                                                             {
79 
80     // Prevent writing past the buffer bounds
81     if (amount == 0) amount = m_capacity \- m_offset \- offset;
82     ASSERT(m_offset + offset + amount <= capacity(), "Buffer overflow");
83 
84     memset(m_bytes + m_offset + offset, byte, amount);
85 
86 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, and \fBmemset()\fP\&.
.SS "\fBuint8_t\fP * Buffer::raw () const"

.PP
The raw pointer to the bytes stored in memory, use is not recommended\&. 
.PP
\fBReturns\fP
.RS 4
The address of buffer's storage 
.RE
.PP

.PP
Definition at line \fB57\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
57                            {
58 
59     return m_bytes;
60 }
.fi

.PP
Referenced by \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, and \fBcopy_to()\fP\&.
.SS "\fBuint8_t\fP Buffer::read ()"

.PP
Safely reads a byte from the buffer at the current offset\&. 
.PP
Definition at line \fB164\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
164                      {
165     set_offset(m_offset + 1);
166     return m_bytes[m_offset \- 1];
167 }
.fi

.PP
References \fBset_offset()\fP\&.
.SS "\fBuint8_t\fP Buffer::read (\fBsize_t\fP offset)"

.PP
Safely reads a byte from the buffer at the specified offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIoffset\fP The offset into the buffer storage array 
.RE
.PP

.PP
Definition at line \fB174\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
174                                   {
175 
176     // Prevent writing past the buffer bounds
177     ASSERT(m_offset + offset < capacity() && offset >= 0, "Buffer overflow");
178 
179     // Set the byte
180     set_offset(m_offset + 1);
181     return m_bytes[(m_offset \- 1) + offset];
182 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, and \fBset_offset()\fP\&.
.SS "\fBvoid\fP Buffer::resize (\fBsize_t\fP size)"

.PP
Grow the buffer to fit a new size\&. 
.PP
\fBParameters\fP
.RS 4
\fIsize\fP The new max capacity of the buffer 
.RE
.PP

.PP
Definition at line \fB101\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
101                                {
102 
103     // Create the new buffer
104     auto* new_buffer = new uint8_t[size];
105 
106     // Copy the old buffer
107     if (m_bytes)
108         memcpy(new_buffer, m_bytes, m_capacity);
109 
110     // Store the new buffer
111     if (!m_dont_delete && m_bytes)
112         delete[] m_bytes;
113 
114     m_bytes = new_buffer;
115     m_capacity = size;
116     m_dont_delete = true;
117 
118 }
.fi

.PP
References \fBmemcpy()\fP, and \fBsize\fP\&.
.SS "\fBvoid\fP Buffer::set_offset (\fBsize_t\fP offset)"

.PP
Set the offset for where operations should begin from\&. 
.PP
\fBParameters\fP
.RS 4
\fIoffset\fP The new offset 
.RE
.PP

.PP
Definition at line \fB125\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
125                                      {
126 
127     if (update_offset)
128         m_offset = offset;
129 
130 }
.fi

.PP
References \fBupdate_offset\fP\&.
.PP
Referenced by \fBcopy_from()\fP, \fBcopy_from()\fP, \fBcopy_to()\fP, \fBcopy_to()\fP, \fBread()\fP, \fBMaxOS::filesystem::format::Fat32File::read()\fP, \fBread()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Volume::read_block()\fP, \fBMaxOS::filesystem::format::Fat32File::write()\fP, \fBwrite()\fP, \fBwrite()\fP, and \fBMaxOS::filesystem::format::ext2::Ext2Volume::write_block()\fP\&.
.SS "\fBvoid\fP Buffer::write (\fBsize_t\fP offset, \fBuint8_t\fP byte)"

.PP
Safely writes a byte to the buffer at the specified offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIoffset\fP The offset into the buffer storage array 
.br
\fIbyte\fP The byte to write 
.RE
.PP

.PP
Definition at line \fB149\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
149                                               {
150 
151     // Prevent writing past the buffer bounds
152     ASSERT(m_offset + offset < capacity() && offset >= 0, "Buffer overflow");
153 
154     // Set the byte
155     m_bytes[m_offset + offset] = byte;
156     set_offset(m_offset + 1);
157 
158 }
.fi

.PP
References \fBASSERT\fP, \fBcapacity()\fP, and \fBset_offset()\fP\&.
.SS "\fBvoid\fP Buffer::write (\fBuint8_t\fP byte)"

.PP
Safely writes a byte to the buffer at the current offset\&. 
.PP
\fBParameters\fP
.RS 4
\fIbyte\fP The byte to write 
.RE
.PP

.PP
Definition at line \fB137\fP of file \fBbuffer\&.cpp\fP\&..PP
.nf
137                                {
138     m_bytes[m_offset] = byte;
139     set_offset(m_offset + 1);
140 }
.fi

.PP
References \fBset_offset()\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "\fBbool\fP MaxOS::common::Buffer::update_offset = \fBtrue\fP"

.PP
Should operations write/read/copy update the offset in the buffer? 
.PP
Definition at line \fB45\fP of file \fBbuffer\&.h\fP\&.
.PP
Referenced by \fBset_offset()\fP, and \fBMaxOS::filesystem::format::ext2::Ext2Volume::write_block()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
