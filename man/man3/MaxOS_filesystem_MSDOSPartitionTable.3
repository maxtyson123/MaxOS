.TH "MaxOS::filesystem::MSDOSPartitionTable" 3 "Sun Oct 13 2024" "Version 0.1" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::filesystem::MSDOSPartitionTable \- Reads the partition table of the hard drive\&.  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <msdospart\&.h>\fP
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static void \fBread_partitions\fP (\fBdrivers::disk::AdvancedTechnologyAttachment\fP *hd)"
.br
.RI "read the partition table of a given hard disk "
.in -1c
.SH "Detailed Description"
.PP 
Reads the partition table of the hard drive\&. 
.PP
Definition at line 59 of file msdospart\&.h\&.
.SH "Member Function Documentation"
.PP 
.SS "void MSDOSPartitionTable::read_partitions (\fBdrivers::disk::AdvancedTechnologyAttachment\fP * hd)\fC [static]\fP"

.PP
read the partition table of a given hard disk 
.PP
\fBParameters\fP
.RS 4
\fIhd\fP The hard disk to read the partition table from 
.RE
.PP

.PP
Definition at line 17 of file msdospart\&.cpp\&.
.PP
.nf
17                                                                           {
18 
19     // read the MBR from the hard disk
20     MasterBootRecord masterBootRecord;
21     hd -> read_28(0, (uint8_t *)&masterBootRecord, sizeof(MasterBootRecord));
22 
23     // Check if the magic number is correct
24     if(masterBootRecord\&.magicNumber != 0xAA55)
25         return;
26 
27 
28     // Loop through the primary partitions
29     for(int i = 0; i < 4; i++){
30 
31         if(masterBootRecord\&.primaryPartition[i]\&.partitionId == 0) continue;                      // If the partition id is 0, skip it
32 
33         //TODO: Add a message stream
34         //TODO: Create a new FAT32 object
35 
36     }
37 }
.fi
.PP
References MaxOS::drivers::peripherals::i\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
