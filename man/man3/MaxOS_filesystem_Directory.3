.TH "MaxOS::filesystem::Directory" 3 "Version 0.3" "Max OS" \" -*- nroff -*-
.ad l
.nh
.SH NAME
MaxOS::filesystem::Directory \- Handles a group of files (directory)  

.SH SYNOPSIS
.br
.PP
.PP
\fC#include <filesystem\&.h>\fP
.PP
Inherited by \fBMaxOS::filesystem::format::Fat32Directory\fP, and \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBvirtual\fP \fB~Directory\fP ()"
.br
.RI "Destructor for \fBDirectory\fP, frees all files and subdirectories\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBread_from_disk\fP ()"
.br
.RI "read the directory from the disk "
.ti -1c
.RI "\fBcommon::Vector\fP< \fBFile\fP * > \fBfiles\fP ()"
.br
.RI "Get the files in the directory\&. "
.ti -1c
.RI "\fBcommon::Vector\fP< \fBDirectory\fP * > \fBsubdirectories\fP ()"
.br
.RI "Get the subdirectories in the directory\&. "
.ti -1c
.RI "\fBFile\fP * \fBopen_file\fP (\fBconst\fP \fBstring\fP &\fBname\fP)"
.br
.RI "Open a file in the directory\&. "
.ti -1c
.RI "\fBDirectory\fP * \fBopen_subdirectory\fP (\fBconst\fP \fBstring\fP &\fBname\fP)"
.br
.RI "Open a directory in the directory\&. "
.ti -1c
.RI "\fBvirtual\fP \fBFile\fP * \fBcreate_file\fP (\fBconst\fP \fBstring\fP &\fBname\fP)"
.br
.RI "Create a file in the directory\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBremove_file\fP (\fBconst\fP \fBstring\fP &\fBname\fP)"
.br
.RI "Delete a file in the directory\&. "
.ti -1c
.RI "\fBvoid\fP \fBrename_file\fP (\fBFile\fP *file, \fBconst\fP \fBstring\fP &\fBnew_name\fP)"
.br
.RI "Rename a file in the directory\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBrename_file\fP (\fBconst\fP \fBstring\fP &\fBold_name\fP, \fBconst\fP \fBstring\fP &\fBnew_name\fP)"
.br
.RI "Rename a file in the directory\&. "
.ti -1c
.RI "\fBvoid\fP \fBrename_subdirectory\fP (\fBDirectory\fP *directory, \fBconst\fP \fBstring\fP &\fBnew_name\fP)"
.br
.RI "Rename a subdirectory in the directory\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBrename_subdirectory\fP (\fBconst\fP \fBstring\fP &\fBold_name\fP, \fBconst\fP \fBstring\fP &\fBnew_name\fP)"
.br
.RI "Rename a subdirectory in the directory\&. "
.ti -1c
.RI "\fBvirtual\fP \fBDirectory\fP * \fBcreate_subdirectory\fP (\fBconst\fP \fBstring\fP &\fBname\fP)"
.br
.RI "Create a directory in the directory\&. "
.ti -1c
.RI "\fBvirtual\fP \fBvoid\fP \fBremove_subdirectory\fP (\fBconst\fP \fBstring\fP &\fBname\fP)"
.br
.RI "Try to remove a directory in the directory\&. "
.ti -1c
.RI "\fBstring\fP \fBname\fP ()"
.br
.RI "Get the name of the directory\&. "
.ti -1c
.RI "\fBsize_t\fP \fBsize\fP ()"
.br
.RI "Get the size of the directory\&. "
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "\fBcommon::Vector\fP< \fBFile\fP * > \fBm_files\fP"
.br
.RI "The files in this directory\&. "
.ti -1c
.RI "\fBcommon::Vector\fP< \fBDirectory\fP * > \fBm_subdirectories\fP"
.br
.RI "The subdirectories in this directory\&. "
.ti -1c
.RI "\fBstring\fP \fBm_name\fP"
.br
.RI "The name of this directory\&. "
.in -1c
.SH "Detailed Description"
.PP 
Handles a group of files (directory) 
.PP
Definition at line \fB57\fP of file \fBfilesystem\&.h\fP\&.
.SH "Constructor & Destructor Documentation"
.PP 
.SS "Directory::~Directory ()\fC [virtual]\fP"

.PP
Destructor for \fBDirectory\fP, frees all files and subdirectories\&. 
.PP
Definition at line \fB100\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
100                       {
101 
102     // Free the files
103     for (auto &file: m_files)
104         delete file;
105 
106     // Free the subdirectories
107     for (auto &subdirectory: m_subdirectories)
108         delete subdirectory;
109 
110 }
.fi

.PP
References \fBm_files\fP, and \fBm_subdirectories\fP\&.
.SH "Member Function Documentation"
.PP 
.SS "\fBFile\fP * Directory::create_file (\fBconst\fP \fBstring\fP & name)\fC [virtual]\fP"

.PP
Create a file in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIname\fP The name of the file to create 
.RE
.PP
\fBReturns\fP
.RS 4
A new file object or null if it could not be created 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP, and \fBMaxOS::filesystem::format::Fat32Directory\fP\&.
.PP
Definition at line \fB151\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
151                                                {
152     return nullptr;
153 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::DirectoryResource::write()\fP\&.
.SS "\fBDirectory\fP * Directory::create_subdirectory (\fBconst\fP \fBstring\fP & name)\fC [virtual]\fP"

.PP
Create a directory in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIname\fP The name of the directory to create 
.RE
.PP
\fBReturns\fP
.RS 4
The new directory object or null if it could not be created 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP, and \fBMaxOS::filesystem::format::Fat32Directory\fP\&.
.PP
Definition at line \fB197\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
197                                                             {
198     return nullptr;
199 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::DirectoryResource::write()\fP\&.
.SS "\fBcommon::Vector\fP< \fBFile\fP * > Directory::files ()"

.PP
Get the files in the directory\&. 
.PP
\fBReturns\fP
.RS 4
A list of all the files in the directory 
.RE
.PP

.PP
Definition at line \fB124\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
124                                      {
125     return m_files;
126 }
.fi

.PP
References \fBm_files\fP\&.
.SS "\fBstring\fP Directory::name ()"

.PP
Get the name of the directory\&. 
.PP
\fBReturns\fP
.RS 4
The name of the directory 
.RE
.PP

.PP
Definition at line \fB214\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
214                        {
215     return m_name;
216 }
.fi

.PP
References \fBm_name\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::format::ext2::Ext2Directory::create_file()\fP, \fBMaxOS::filesystem::format::Fat32Directory::create_file()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Directory::create_subdirectory()\fP, \fBMaxOS::filesystem::format::Fat32Directory::create_subdirectory()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Directory::Ext2Directory()\fP, \fBMaxOS::filesystem::format::Fat32Directory::Fat32Directory()\fP, \fBopen_file()\fP, \fBopen_subdirectory()\fP, \fBMaxOS::filesystem::format::Fat32Directory::read_from_disk()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Directory::remove_file()\fP, \fBMaxOS::filesystem::format::Fat32Directory::remove_file()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Directory::remove_subdirectory()\fP, \fBMaxOS::filesystem::format::Fat32Directory::remove_subdirectory()\fP, and \fBrename_subdirectory()\fP\&.
.SS "\fBFile\fP * Directory::open_file (\fBconst\fP \fBstring\fP & name)"

.PP
Open a file in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIname\fP The name of the file to open 
.RE
.PP
\fBReturns\fP
.RS 4
.RE
.PP

.PP
Definition at line \fB134\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
134                                              {
135 
136     // Try to find the file
137     for (auto &file: m_files)
138         if (file\->name() == name)
139             return file;
140 
141     // File not found
142     return nullptr;
143 }
.fi

.PP
References \fBm_files\fP, and \fBname()\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::FileSystem::exists()\fP\&.
.SS "\fBDirectory\fP * Directory::open_subdirectory (\fBconst\fP \fBstring\fP & name)"

.PP
Open a directory in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIname\fP The name of the directory to open 
.RE
.PP
\fBReturns\fP
.RS 4
The directory object or null if it could not be opened 
.RE
.PP

.PP
Definition at line \fB178\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
178                                                           {
179 
180     // Try to find the directory
181     for (auto &subdirectory: m_subdirectories)
182         if (subdirectory\->name() == name) {
183             subdirectory\->read_from_disk();
184             return subdirectory;
185         }
186 
187     // Directory not found
188     return nullptr;
189 }
.fi

.PP
References \fBm_subdirectories\fP, and \fBname()\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::FileSystem::get_directory()\fP\&.
.SS "\fBvoid\fP Directory::read_from_disk ()\fC [virtual]\fP"

.PP
read the directory from the disk 
.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP, and \fBMaxOS::filesystem::format::Fat32Directory\fP\&.
.PP
Definition at line \fB115\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
115                                {
116 
117 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::VirtualFileSystem::create_directory()\fP, \fBMaxOS::filesystem::format::ext2::Ext2FileSystem::Ext2FileSystem()\fP, \fBMaxOS::filesystem::format::Fat32FileSystem::Fat32FileSystem()\fP, and \fBMaxOS::filesystem::VirtualFileSystem::open_directory()\fP\&.
.SS "\fBvoid\fP Directory::remove_file (\fBconst\fP \fBstring\fP & name)\fC [virtual]\fP"

.PP
Delete a file in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIname\fP The name of the file to remove 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP, and \fBMaxOS::filesystem::format::Fat32Directory\fP\&.
.PP
Definition at line \fB160\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
160                                               {
161 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::DirectoryResource::write()\fP\&.
.SS "\fBvoid\fP Directory::remove_subdirectory (\fBconst\fP \fBstring\fP & name)\fC [virtual]\fP"

.PP
Try to remove a directory in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIname\fP The name of the directory to remove 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP, and \fBMaxOS::filesystem::format::Fat32Directory\fP\&.
.PP
Definition at line \fB205\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
205                                                       {
206 }
.fi

.PP
Referenced by \fBMaxOS::filesystem::DirectoryResource::write()\fP\&.
.SS "\fBvoid\fP Directory::rename_file (\fBconst\fP \fBstring\fP & old_name, \fBconst\fP \fBstring\fP & new_name)\fC [virtual]\fP"

.PP
Rename a file in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIold_name\fP The file to rename 
.br
\fInew_name\fP The new name of the file 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP\&.
.PP
Definition at line \fB252\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
252                                                                           {
253 
254     ASSERT(false, "not implemented");
255 
256 }
.fi

.PP
References \fBASSERT\fP\&.
.SS "\fBvoid\fP Directory::rename_file (\fBFile\fP * file, \fBconst\fP \fBstring\fP & new_name)"

.PP
Rename a file in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIfile\fP The file to rename 
.br
\fInew_name\fP The new name of the file 
.RE
.PP

.PP
Definition at line \fB240\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
240                                                               {
241 
242     rename_file(file\->name(), new_name);
243 
244 }
.fi

.PP
References \fBMaxOS::filesystem::File::name()\fP, and \fBrename_file()\fP\&.
.PP
Referenced by \fBrename_file()\fP\&.
.SS "\fBvoid\fP Directory::rename_subdirectory (\fBconst\fP \fBstring\fP & old_name, \fBconst\fP \fBstring\fP & new_name)\fC [virtual]\fP"

.PP
Rename a subdirectory in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIold_name\fP The directory to rename 
.br
\fInew_name\fP The new name of the directory 
.RE
.PP

.PP
Reimplemented in \fBMaxOS::filesystem::format::ext2::Ext2Directory\fP\&.
.PP
Definition at line \fB276\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
276                                                                                   {
277     ASSERT(false, "not implemented");
278 }
.fi

.PP
References \fBASSERT\fP\&.
.SS "\fBvoid\fP Directory::rename_subdirectory (\fBDirectory\fP * directory, \fBconst\fP \fBstring\fP & new_name)"

.PP
Rename a subdirectory in the directory\&. 
.PP
\fBParameters\fP
.RS 4
\fIdirectory\fP The directory to rename 
.br
\fInew_name\fP The new name of the directory 
.RE
.PP

.PP
Definition at line \fB264\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
264                                                                                 {
265 
266     rename_subdirectory(directory\->name(), new_name);
267 
268 }
.fi

.PP
References \fBname()\fP, and \fBrename_subdirectory()\fP\&.
.PP
Referenced by \fBrename_subdirectory()\fP\&.
.SS "\fBsize_t\fP Directory::size ()"

.PP
Get the size of the directory\&. 
.PP
\fBReturns\fP
.RS 4
The size of the directory (sum of all the files in bytes) 
.RE
.PP

.PP
Definition at line \fB223\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
223                        {
224 
225     // Sum the size of all the files
226     size_t size = 0;
227     for (auto &file: m_files)
228         size += file\->size();
229 
230     return size;
231 
232 }
.fi

.PP
References \fBm_files\fP, and \fBsize()\fP\&.
.PP
Referenced by \fBsize()\fP\&.
.SS "\fBcommon::Vector\fP< \fBDirectory\fP * > Directory::subdirectories ()"

.PP
Get the subdirectories in the directory\&. 
.PP
\fBReturns\fP
.RS 4
The subdirectories in the directory 
.RE
.PP

.PP
Definition at line \fB168\fP of file \fBfilesystem\&.cpp\fP\&..PP
.nf
168                                                    {
169     return m_subdirectories;
170 }
.fi

.PP
References \fBm_subdirectories\fP\&.
.SH "Member Data Documentation"
.PP 
.SS "\fBcommon::Vector\fP<\fBFile\fP*> MaxOS::filesystem::Directory::m_files\fC [protected]\fP"

.PP
The files in this directory\&. 
.PP
Definition at line \fB59\fP of file \fBfilesystem\&.h\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::format::ext2::Ext2Directory::create_file()\fP, \fBMaxOS::filesystem::format::Fat32Directory::create_file()\fP, \fBfiles()\fP, \fBopen_file()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Directory::read_from_disk()\fP, \fBMaxOS::filesystem::format::Fat32Directory::read_from_disk()\fP, \fBMaxOS::filesystem::format::Fat32Directory::remove_file()\fP, \fBsize()\fP, and \fB~Directory()\fP\&.
.SS "\fBstring\fP MaxOS::filesystem::Directory::m_name\fC [protected]\fP"

.PP
The name of this directory\&. 
.PP
Definition at line \fB62\fP of file \fBfilesystem\&.h\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::format::ext2::Ext2Directory::Ext2Directory()\fP, \fBMaxOS::filesystem::format::Fat32Directory::Fat32Directory()\fP, and \fBname()\fP\&.
.SS "\fBcommon::Vector\fP<\fBDirectory\fP*> MaxOS::filesystem::Directory::m_subdirectories\fC [protected]\fP"

.PP
The subdirectories in this directory\&. 
.PP
Definition at line \fB60\fP of file \fBfilesystem\&.h\fP\&.
.PP
Referenced by \fBMaxOS::filesystem::format::ext2::Ext2Directory::create_subdirectory()\fP, \fBMaxOS::filesystem::format::Fat32Directory::create_subdirectory()\fP, \fBopen_subdirectory()\fP, \fBMaxOS::filesystem::format::ext2::Ext2Directory::read_from_disk()\fP, \fBMaxOS::filesystem::format::Fat32Directory::read_from_disk()\fP, \fBMaxOS::filesystem::format::Fat32Directory::remove_subdirectory()\fP, \fBsubdirectories()\fP, and \fB~Directory()\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Max OS from the source code\&.
