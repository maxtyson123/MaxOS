\hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC}{}\doxysection{Max\+OS\+::hardwarecommunication\+::I\+O\+A\+P\+IC Class Reference}
\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC}\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}


{\ttfamily \#include $<$apic.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_af96fb9be587b8753b64904faf955da41}{I\+O\+A\+P\+IC}} (\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1AdvancedConfigurationAndPowerInterface}{Advanced\+Configuration\+And\+Power\+Interface}} $\ast$acpi)
\item 
\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a85f4b21b3ad51fe70b4641dc3fc26a2b}{$\sim$\+I\+O\+A\+P\+IC}} ()
\item 
uint32\+\_\+t \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ac32fe8b716a7bd73d758c963c8101d9f}{read}} (uint32\+\_\+t reg)
\item 
void \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_acfdce6e7dd7fd407a642adb19fea6791}{write}} (uint32\+\_\+t reg, uint32\+\_\+t value)
\item 
void \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a4b794a1a0c15a6262dbd6075961b37c2}{set\+\_\+redirect}} (\mbox{\hyperlink{namespaceMaxOS_1_1hardwarecommunication_a8ed1467ecf3306e3f6d39deae897fbe9}{interrupt\+\_\+redirect\+\_\+t}} $\ast$redirect)
\item 
void \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ad082ec1b5e7905789976e043b67902ac}{set\+\_\+redirect\+\_\+mask}} (uint8\+\_\+t index, bool \mbox{\hyperlink{apic_8h_a6f26bbb3e63b096143b8024debecedf9}{mask}})
\item 
void \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a63a122b3b718559d55c7a6f366c8de03}{init}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 91 of file apic.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_af96fb9be587b8753b64904faf955da41}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_af96fb9be587b8753b64904faf955da41}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!IOAPIC@{IOAPIC}}
\index{IOAPIC@{IOAPIC}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{IOAPIC()}{IOAPIC()}}
{\footnotesize\ttfamily I\+O\+A\+P\+I\+C\+::\+I\+O\+A\+P\+IC (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1AdvancedConfigurationAndPowerInterface}{Advanced\+Configuration\+And\+Power\+Interface}} $\ast$}]{acpi }\end{DoxyParamCaption})}



Definition at line 116 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{117 : m\_acpi(acpi),}
\DoxyCodeLine{118   m\_madt(\textcolor{keyword}{nullptr})}
\DoxyCodeLine{119 \{}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a85f4b21b3ad51fe70b4641dc3fc26a2b}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a85f4b21b3ad51fe70b4641dc3fc26a2b}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!````~IOAPIC@{$\sim$IOAPIC}}
\index{````~IOAPIC@{$\sim$IOAPIC}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{$\sim$IOAPIC()}{~IOAPIC()}}
{\footnotesize\ttfamily I\+O\+A\+P\+I\+C\+::$\sim$\+I\+O\+A\+P\+IC (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 123 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{123                 \{}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a63a122b3b718559d55c7a6f366c8de03}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a63a122b3b718559d55c7a6f366c8de03}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!init@{init}}
\index{init@{init}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void I\+O\+A\+P\+I\+C\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 127 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{127                   \{}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \textcolor{comment}{// Get the information about the IO APIC}}
\DoxyCodeLine{130   m\_madt = (\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT}}*)m\_acpi-\/>\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1AdvancedConfigurationAndPowerInterface_a8e9d8bd9fbb18e25419101be8d56aee2}{find}}(\textcolor{stringliteral}{"APIC"});}
\DoxyCodeLine{131   \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__Item}{MADT\_Item}}* io\_apic\_item = get\_madt\_item(1, 0);}
\DoxyCodeLine{132 }
\DoxyCodeLine{133   \textcolor{comment}{// Get the IO APIC}}
\DoxyCodeLine{134   \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__IOAPIC}{MADT\_IOAPIC}}* io\_apic = (\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__IOAPIC}{MADT\_IOAPIC}}*)MemoryManager::to\_io\_region((uint64\_t)io\_apic\_item + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__Item}{MADT\_Item}}));}
\DoxyCodeLine{135   PhysicalMemoryManager::s\_current\_manager-\/>map((\mbox{\hyperlink{namespaceMaxOS_1_1memory_a86d1744b2aea4590cf02ef32ff8acc63}{physical\_address\_t}}*)io\_apic\_item, (\mbox{\hyperlink{namespaceMaxOS_1_1memory_a1a4a2cf740017bbb681bbe110a18fdcb}{virtual\_address\_t}}*)(io\_apic -\/ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__Item}{MADT\_Item}})), \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84eba980a5bc5e6393398f4e52e1c27bdd382}{Present}} | \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84ebabc3cb78aef6a50841121fd08c2a49151}{Write}});}
\DoxyCodeLine{136 }
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{comment}{// Map the IO APIC address to the higher half}}
\DoxyCodeLine{139   m\_address = io\_apic-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__IOAPIC_a77da25ca47ce9c16c3a01388264d1df3}{io\_apic\_address}};}
\DoxyCodeLine{140   m\_address\_high = (uint64\_t)MemoryManager::to\_io\_region(m\_address);}
\DoxyCodeLine{141   PhysicalMemoryManager::s\_current\_manager-\/>map((\mbox{\hyperlink{namespaceMaxOS_1_1memory_a86d1744b2aea4590cf02ef32ff8acc63}{physical\_address\_t}}*)m\_address, (\mbox{\hyperlink{namespaceMaxOS_1_1memory_a1a4a2cf740017bbb681bbe110a18fdcb}{virtual\_address\_t}}*)m\_address\_high, \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84eba980a5bc5e6393398f4e52e1c27bdd382}{Present}} | \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84ebabc3cb78aef6a50841121fd08c2a49151}{Write}});}
\DoxyCodeLine{142   \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"IO APIC Address: phy=0x\%x, virt=0x\%x\(\backslash\)n"}, m\_address, m\_address\_high);}
\DoxyCodeLine{143 }
\DoxyCodeLine{144   \textcolor{comment}{// Get the IO APIC version and max redirection entry}}
\DoxyCodeLine{145   m\_version = \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ac32fe8b716a7bd73d758c963c8101d9f}{read}}(0x1);}
\DoxyCodeLine{146   m\_max\_redirect\_entry = (uint8\_t)(m\_version >> 16);}
\DoxyCodeLine{147 }
\DoxyCodeLine{148   \textcolor{comment}{// Log the IO APIC information}}
\DoxyCodeLine{149   \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"IO APIC Version: 0x\%x\(\backslash\)n"}, m\_version);}
\DoxyCodeLine{150   \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"IO APIC Max Redirection Entry: 0x\%x\(\backslash\)n"}, m\_max\_redirect\_entry);}
\DoxyCodeLine{151 }
\DoxyCodeLine{152   \textcolor{comment}{// Get the source override item}}
\DoxyCodeLine{153   \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__Item}{MADT\_Item}}* source\_override\_item = get\_madt\_item(2, m\_override\_array\_size);}
\DoxyCodeLine{154 }
\DoxyCodeLine{155   \textcolor{comment}{// Loop through the source override items}}
\DoxyCodeLine{156   uint32\_t total\_length = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT}});}
\DoxyCodeLine{157   \textcolor{keywordflow}{while} (total\_length < m\_madt-\/>\mbox{\hyperlink{apic_8h_ac1917477d23b262f1ffcc1694ee8f44c}{header}}.\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1ACPISDTHeader_a9b8a6a7e086a520cf52a4ea1cdc87670}{length}} \&\& m\_override\_array\_size < 0x10)\{ \textcolor{comment}{// 0x10 is the max items}}
\DoxyCodeLine{158 }
\DoxyCodeLine{159       \textcolor{comment}{// Increment the total length}}
\DoxyCodeLine{160       total\_length += source\_override\_item-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__Item_a8ae742e1634bb48ad45c89c138860ab0}{length}};}
\DoxyCodeLine{161 }
\DoxyCodeLine{162       \textcolor{comment}{// If there is an override, populate the array}}
\DoxyCodeLine{163       \textcolor{keywordflow}{if}(source\_override\_item != \textcolor{keyword}{nullptr} \&\& source\_override\_item-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__Item_a5cf5df5cd6dfc74c87ef49bd9f7cf73e}{type}} == 2) \{}
\DoxyCodeLine{164 }
\DoxyCodeLine{165           \textcolor{comment}{// Get the override and populate the array}}
\DoxyCodeLine{166           \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override}{Override}} *\textcolor{keyword}{override} = (\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override}{Override}} *)(source\_override\_item + 1);}
\DoxyCodeLine{167           m\_override\_array[m\_override\_array\_size].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a7a966c37b284b11470c63189098a9b7f}{bus}} = \textcolor{keyword}{override}-\/>bus;}
\DoxyCodeLine{168           m\_override\_array[m\_override\_array\_size].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a392523c46f36a7a67186bfbd29529fd5}{source}} = \textcolor{keyword}{override}-\/>source;}
\DoxyCodeLine{169           m\_override\_array[m\_override\_array\_size].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a52096e997dedf8c3f6d928cb6b69f0c0}{global\_system\_interrupt}} = \textcolor{keyword}{override}-\/>global\_system\_interrupt;}
\DoxyCodeLine{170           m\_override\_array[m\_override\_array\_size].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a7b2854e157c0cf2293592d280dcffd67}{flags}} = \textcolor{keyword}{override}-\/>flags;}
\DoxyCodeLine{171 }
\DoxyCodeLine{172           \textcolor{comment}{// Increment the override array size}}
\DoxyCodeLine{173           m\_override\_array\_size++;}
\DoxyCodeLine{174       \}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176       \textcolor{comment}{// Get the next item}}
\DoxyCodeLine{177       source\_override\_item = get\_madt\_item(2, m\_override\_array\_size);}
\DoxyCodeLine{178 }
\DoxyCodeLine{179       \textcolor{comment}{// If there is no next item then break}}
\DoxyCodeLine{180       \textcolor{keywordflow}{if}(source\_override\_item == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{181           \textcolor{keywordflow}{break};}
\DoxyCodeLine{182   \}}
\DoxyCodeLine{183 }
\DoxyCodeLine{184   \textcolor{comment}{// Log how many overrides were found}}
\DoxyCodeLine{185   \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"IO APIC Source Overrides: 0x\%x\(\backslash\)n"}, m\_override\_array\_size);}
\DoxyCodeLine{186 \}}

\end{DoxyCode}


References \+\_\+kprintf, Max\+O\+S\+::hardwarecommunication\+::\+Override\+::bus, Max\+O\+S\+::hardwarecommunication\+::\+Advanced\+Configuration\+And\+Power\+Interface\+::find(), Max\+O\+S\+::hardwarecommunication\+::\+Override\+::flags, Max\+O\+S\+::hardwarecommunication\+::\+Override\+::global\+\_\+system\+\_\+interrupt, header, Max\+O\+S\+::hardwarecommunication\+::\+M\+A\+D\+T\+\_\+\+I\+O\+A\+P\+I\+C\+::io\+\_\+apic\+\_\+address, Max\+O\+S\+::hardwarecommunication\+::\+A\+C\+P\+I\+S\+D\+T\+Header\+::length, Max\+O\+S\+::hardwarecommunication\+::\+M\+A\+D\+T\+\_\+\+Item\+::length, Max\+O\+S\+::memory\+::\+Present, read(), Max\+O\+S\+::hardwarecommunication\+::\+Override\+::source, Max\+O\+S\+::hardwarecommunication\+::\+M\+A\+D\+T\+\_\+\+Item\+::type, and Max\+O\+S\+::memory\+::\+Write.



Referenced by Max\+O\+S\+::hardwarecommunication\+::\+Advanced\+Programmable\+Interrupt\+Controller\+::\+Advanced\+Programmable\+Interrupt\+Controller().

\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ac32fe8b716a7bd73d758c963c8101d9f}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ac32fe8b716a7bd73d758c963c8101d9f}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!read@{read}}
\index{read@{read}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily uint32\+\_\+t I\+O\+A\+P\+I\+C\+::read (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{reg }\end{DoxyParamCaption})}



Definition at line 221 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{221                                   \{}
\DoxyCodeLine{222 }
\DoxyCodeLine{223   \textcolor{comment}{// Write the register}}
\DoxyCodeLine{224   *(\textcolor{keyword}{volatile} uint32\_t*)(m\_address\_high + 0x00) = reg;}
\DoxyCodeLine{225 }
\DoxyCodeLine{226   \textcolor{comment}{// Return the value}}
\DoxyCodeLine{227   \textcolor{keywordflow}{return} *(\textcolor{keyword}{volatile} uint32\_t*)(m\_address\_high + 0x10);}
\DoxyCodeLine{228 }
\DoxyCodeLine{229 }
\DoxyCodeLine{230 }
\DoxyCodeLine{231 \}}

\end{DoxyCode}


Referenced by init().

\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a4b794a1a0c15a6262dbd6075961b37c2}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_a4b794a1a0c15a6262dbd6075961b37c2}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!set\_redirect@{set\_redirect}}
\index{set\_redirect@{set\_redirect}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{set\_redirect()}{set\_redirect()}}
{\footnotesize\ttfamily void I\+O\+A\+P\+I\+C\+::set\+\_\+redirect (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1hardwarecommunication_a8ed1467ecf3306e3f6d39deae897fbe9}{interrupt\+\_\+redirect\+\_\+t}} $\ast$}]{redirect }\end{DoxyParamCaption})}



Definition at line 272 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{272                                                         \{}
\DoxyCodeLine{273 }
\DoxyCodeLine{274     \textcolor{comment}{// Create the redirection entry}}
\DoxyCodeLine{275     \mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry}{RedirectionEntry}} entry;}
\DoxyCodeLine{276     entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_aa32d100a3e49b6c0f5b07d1566415dc2}{raw}} = redirect-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect_a66e385615027b38ab772dfa150053ade}{flags}} | (redirect -\/> interrupt \& 0xFF);}
\DoxyCodeLine{277     entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_a811baa508c6ca51ad98537c17439529f}{destination}} = redirect-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect_abae45c69e03fe32708e2e795526e34b8}{destination}};}
\DoxyCodeLine{278     entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_aadf5b364be23f4bb80d87d12107fbee5}{mask}} = redirect-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect_a74924917fd3f253b298c092e1b5fc719}{mask}};}
\DoxyCodeLine{279 }
\DoxyCodeLine{280     \textcolor{comment}{// Check if a global system interrupt is used}}
\DoxyCodeLine{281     \textcolor{keywordflow}{for} (uint8\_t \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}} = 0; \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}} < m\_override\_array\_size; \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}++) \{}
\DoxyCodeLine{282 }
\DoxyCodeLine{283         \textcolor{keywordflow}{if} (m\_override\_array[\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}].\mbox{\hyperlink{apic_8h_a36a99c772ae64e186f5264a662834eef}{source}} != redirect-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect_a76765f5aa84e5fb559be5ec37eb8d5d8}{type}})}
\DoxyCodeLine{284           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{285 }
\DoxyCodeLine{286         \textcolor{comment}{// Set the lower 4 bits of the pin}}
\DoxyCodeLine{287         entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_ab8c3cc93c370cff4594e269d1120770c}{pin\_polarity}} = (m\_override\_array[\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a7b2854e157c0cf2293592d280dcffd67}{flags}} \& 0b11 == 2) ? 0b1 : 0b0;}
\DoxyCodeLine{288         entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_ab8c3cc93c370cff4594e269d1120770c}{pin\_polarity}} = ((m\_override\_array[\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a7b2854e157c0cf2293592d280dcffd67}{flags}} >> 2) \& 0b11 == 2) ? 0b1 : 0b0;}
\DoxyCodeLine{289 }
\DoxyCodeLine{290         \textcolor{comment}{// Set the trigger mode}}
\DoxyCodeLine{291         entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_ac34cba0b60090294c8f936423b43f762}{trigger\_mode}} = (((m\_override\_array[\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}].\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override_a7b2854e157c0cf2293592d280dcffd67}{flags}} >> 2) \& 0b11) == 2);}
\DoxyCodeLine{292 }
\DoxyCodeLine{293         \textcolor{keywordflow}{break};}
\DoxyCodeLine{294 }
\DoxyCodeLine{295     \}}
\DoxyCodeLine{296 }
\DoxyCodeLine{297     \textcolor{comment}{// Write the redirect}}
\DoxyCodeLine{298     write\_redirect(redirect-\/>\mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect_a2053b8d74b7cd332244eab0ea86aa656}{index}}, \&entry);}
\DoxyCodeLine{299 }
\DoxyCodeLine{300 \}}

\end{DoxyCode}


References Max\+O\+S\+::hardwarecommunication\+::\+Redirection\+Entry\+::destination, Max\+O\+S\+::hardwarecommunication\+::\+Interrupt\+Redirect\+::destination, Max\+O\+S\+::hardwarecommunication\+::\+Interrupt\+Redirect\+::flags, Max\+O\+S\+::hardwarecommunication\+::\+Override\+::flags, Max\+O\+S\+::drivers\+::peripherals\+::i, Max\+O\+S\+::hardwarecommunication\+::\+Interrupt\+Redirect\+::index, Max\+O\+S\+::hardwarecommunication\+::\+Redirection\+Entry\+::mask, Max\+O\+S\+::hardwarecommunication\+::\+Interrupt\+Redirect\+::mask, Max\+O\+S\+::hardwarecommunication\+::\+Redirection\+Entry\+::pin\+\_\+polarity, Max\+O\+S\+::hardwarecommunication\+::\+Redirection\+Entry\+::raw, source, Max\+O\+S\+::hardwarecommunication\+::\+Redirection\+Entry\+::trigger\+\_\+mode, and Max\+O\+S\+::hardwarecommunication\+::\+Interrupt\+Redirect\+::type.

\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ad082ec1b5e7905789976e043b67902ac}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_ad082ec1b5e7905789976e043b67902ac}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!set\_redirect\_mask@{set\_redirect\_mask}}
\index{set\_redirect\_mask@{set\_redirect\_mask}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{set\_redirect\_mask()}{set\_redirect\_mask()}}
{\footnotesize\ttfamily void I\+O\+A\+P\+I\+C\+::set\+\_\+redirect\+\_\+mask (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{index,  }\item[{bool}]{mask }\end{DoxyParamCaption})}



Definition at line 301 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{301                                                        \{}
\DoxyCodeLine{302 }
\DoxyCodeLine{303     \textcolor{comment}{// Read the current entry}}
\DoxyCodeLine{304     \mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry}{RedirectionEntry}} entry;}
\DoxyCodeLine{305     read\_redirect(index, \&entry);}
\DoxyCodeLine{306 }
\DoxyCodeLine{307     \textcolor{comment}{// Set the mask}}
\DoxyCodeLine{308     entry.\mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_aadf5b364be23f4bb80d87d12107fbee5}{mask}} = \mbox{\hyperlink{apic_8h_a6f26bbb3e63b096143b8024debecedf9}{mask}};}
\DoxyCodeLine{309 }
\DoxyCodeLine{310     \textcolor{comment}{// Write the entry}}
\DoxyCodeLine{311     write\_redirect(index, \&entry);}
\DoxyCodeLine{312 \}}

\end{DoxyCode}


References mask, and Max\+O\+S\+::hardwarecommunication\+::\+Redirection\+Entry\+::mask.



Referenced by Max\+O\+S\+::drivers\+::clock\+::\+P\+I\+T\+::ticks\+\_\+per\+\_\+ms().

\mbox{\Hypertarget{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_acfdce6e7dd7fd407a642adb19fea6791}\label{classMaxOS_1_1hardwarecommunication_1_1IOAPIC_acfdce6e7dd7fd407a642adb19fea6791}} 
\index{MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}!write@{write}}
\index{write@{write}!MaxOS::hardwarecommunication::IOAPIC@{MaxOS::hardwarecommunication::IOAPIC}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily void I\+O\+A\+P\+I\+C\+::write (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{reg,  }\item[{uint32\+\_\+t}]{value }\end{DoxyParamCaption})}



Definition at line 233 of file apic.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{233                                                \{}
\DoxyCodeLine{234 }
\DoxyCodeLine{235     \textcolor{comment}{// Write the register}}
\DoxyCodeLine{236     *(\textcolor{keyword}{volatile} uint32\_t*)(m\_address\_high + 0x00) = reg;}
\DoxyCodeLine{237 }
\DoxyCodeLine{238     \textcolor{comment}{// Write the value}}
\DoxyCodeLine{239     *(\textcolor{keyword}{volatile} uint32\_t*)(m\_address\_high + 0x10) = value;}
\DoxyCodeLine{240 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/include/hardwarecommunication/\mbox{\hyperlink{apic_8h}{apic.\+h}}\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/src/hardwarecommunication/\mbox{\hyperlink{apic_8cpp}{apic.\+cpp}}\end{DoxyCompactItemize}
