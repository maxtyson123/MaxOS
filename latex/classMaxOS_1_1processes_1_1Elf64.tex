\doxysection{Max\+OS\+::processes\+::Elf64 Class Reference}
\hypertarget{classMaxOS_1_1processes_1_1Elf64}{}\label{classMaxOS_1_1processes_1_1Elf64}\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}


Handles the loading and parsing of 64-\/bit ELF files.  




{\ttfamily \#include $<$elf.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_afe12878773ede304094c21c8b82284dc}{Elf64}} (uintptr\+\_\+t elf\+\_\+header\+\_\+address)
\begin{DoxyCompactList}\small\item\em Constructor for the \doxylink{classMaxOS_1_1processes_1_1Elf64}{Elf64} class. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a8a834ce8cc8c24eaf4ad0c9d6b08b16b}{\texorpdfstring{$\sim$}{\string~}\+Elf64}} ()
\begin{DoxyCompactList}\small\item\em Destructor for the \doxylink{classMaxOS_1_1processes_1_1Elf64}{Elf64} class. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a911f91e8c53705ab6309c8aff83fe2d0}{load}} ()
\begin{DoxyCompactList}\small\item\em Loads the elf program into memory if a valid elf file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a0735167d9c18f09d4291e79277fcdfe7}{is\+\_\+valid}} () const
\begin{DoxyCompactList}\small\item\em Checks if the elf file is valid for \doxylink{namespaceMaxOS}{Max\+OS} runtime. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__header__t}{elf\+\_\+64\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}} () const
\begin{DoxyCompactList}\small\item\em Gets the header of the elf file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__program__header__t}{elf\+\_\+64\+\_\+program\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a60ee1fd12b11c8863ff916b23bed3b5a}{get\+\_\+program\+\_\+header}} (size\+\_\+t index) const
\begin{DoxyCompactList}\small\item\em Gets a program header from the elf file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__section__header__t}{elf\+\_\+64\+\_\+section\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a83c19cfb91576cce173ccd8642a83e38}{get\+\_\+section\+\_\+header}} (size\+\_\+t index) const
\begin{DoxyCompactList}\small\item\em Gets a section header from the elf file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a9bad9143e7d3667895a6659ec7a37c95}{to\+\_\+vmm\+\_\+flags}} (uint32\+\_\+t \mbox{\hyperlink{ext2_8h_a1d127017fb298b889f4ba24752d08b8e}{type}})
\begin{DoxyCompactList}\small\item\em Converts elf flags to vmm flags. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles the loading and parsing of 64-\/bit ELF files. 

Definition at line \mbox{\hyperlink{elf_8h_source_l00154}{154}} of file \mbox{\hyperlink{elf_8h_source}{elf.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1Elf64_afe12878773ede304094c21c8b82284dc}\label{classMaxOS_1_1processes_1_1Elf64_afe12878773ede304094c21c8b82284dc} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!Elf64@{Elf64}}
\index{Elf64@{Elf64}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{Elf64()}{Elf64()}}
{\footnotesize\ttfamily Elf64\+::\+Elf64 (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{elf\+\_\+header\+\_\+address }\end{DoxyParamCaption})}



Constructor for the \doxylink{classMaxOS_1_1processes_1_1Elf64}{Elf64} class. 


\begin{DoxyParams}{Parameters}
{\em elf\+\_\+header\+\_\+address} & The address of the elf header, this must be mapped to memory before uses \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00019}{19}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020\ :\ m\_elf\_header\_address(elf\_header\_address)}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \}}

\end{DoxyCode}
\Hypertarget{classMaxOS_1_1processes_1_1Elf64_a8a834ce8cc8c24eaf4ad0c9d6b08b16b}\label{classMaxOS_1_1processes_1_1Elf64_a8a834ce8cc8c24eaf4ad0c9d6b08b16b} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!````~Elf64@{\texorpdfstring{$\sim$}{\string~}Elf64}}
\index{````~Elf64@{\texorpdfstring{$\sim$}{\string~}Elf64}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}Elf64()}{\string~Elf64()}}
{\footnotesize\ttfamily Elf64\+::\texorpdfstring{$\sim$}{\string~}\+Elf64 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



Destructor for the \doxylink{classMaxOS_1_1processes_1_1Elf64}{Elf64} class. 



\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1Elf64_a60ee1fd12b11c8863ff916b23bed3b5a}\label{classMaxOS_1_1processes_1_1Elf64_a60ee1fd12b11c8863ff916b23bed3b5a} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!get\_program\_header@{get\_program\_header}}
\index{get\_program\_header@{get\_program\_header}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{get\_program\_header()}{get\_program\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__program__header__t}{elf\+\_\+64\+\_\+program\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} Elf64\+::get\+\_\+program\+\_\+header (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{index }\end{DoxyParamCaption}) const}



Gets a program header from the elf file. 


\begin{DoxyParams}{Parameters}
{\em index} & The index of the program header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The program header at that index or nullptr if out of bounds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00058}{58}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ Check\ bounds}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>program\_header\_count)}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ program\ headers\ and\ return\ the\ item}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{auto}*\ program\_headers\ =\ (\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__program__header__t}{elf\_64\_program\_header\_t}}*)\ (m\_elf\_header\_address\ +\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__header__t_ac00c56f49122661d0a2999f72d66a4a4}{program\_header\_offset}});}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{return}\ \&program\_headers[index];}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8cpp_source_l00047}{header()}}, and \mbox{\hyperlink{elf_8h_source_l00081}{Max\+OS\+::processes\+::elf\+\_\+64\+\_\+header\+\_\+t\+::program\+\_\+header\+\_\+offset}}.

\Hypertarget{classMaxOS_1_1processes_1_1Elf64_a83c19cfb91576cce173ccd8642a83e38}\label{classMaxOS_1_1processes_1_1Elf64_a83c19cfb91576cce173ccd8642a83e38} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!get\_section\_header@{get\_section\_header}}
\index{get\_section\_header@{get\_section\_header}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{get\_section\_header()}{get\_section\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__section__header__t}{elf\+\_\+64\+\_\+section\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} Elf64\+::get\+\_\+section\+\_\+header (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{index }\end{DoxyParamCaption}) const}



Gets a section header from the elf file. 


\begin{DoxyParams}{Parameters}
{\em index} & The index of the section header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The section header at that index or nullptr if out of bounds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00076}{76}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ Check\ bound}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>section\_header\_count)}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ section\ headers\ and\ return\ the\ item}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{auto}*\ section\_headers\ =\ (\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__section__header__t}{elf\_64\_section\_header\_t}}*)\ (m\_elf\_header\_address\ +\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__header__t_a580aa47cebee71234d8f9528c9cc7013}{section\_header\_offset}});}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ \&section\_headers[index];}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8cpp_source_l00047}{header()}}, and \mbox{\hyperlink{elf_8h_source_l00082}{Max\+OS\+::processes\+::elf\+\_\+64\+\_\+header\+\_\+t\+::section\+\_\+header\+\_\+offset}}.

\Hypertarget{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}\label{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!header@{header}}
\index{header@{header}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{header()}{header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__header__t}{elf\+\_\+64\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} Elf64\+::header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the header of the elf file. 

\begin{DoxyReturn}{Returns}
The header of the elf file 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00047}{47}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structMaxOS_1_1processes_1_1elf__64__header__t}{elf\_64\_header\_t}}*)\ m\_elf\_header\_address;}
\DoxyCodeLine{00050\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{elf_8cpp_source_l00058}{get\+\_\+program\+\_\+header()}}, \mbox{\hyperlink{elf_8cpp_source_l00076}{get\+\_\+section\+\_\+header()}}, and \mbox{\hyperlink{elf_8cpp_source_l00091}{is\+\_\+valid()}}.

\Hypertarget{classMaxOS_1_1processes_1_1Elf64_a0735167d9c18f09d4291e79277fcdfe7}\label{classMaxOS_1_1processes_1_1Elf64_a0735167d9c18f09d4291e79277fcdfe7} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!is\_valid@{is\_valid}}
\index{is\_valid@{is\_valid}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{is\_valid()}{is\_valid()}}
{\footnotesize\ttfamily bool Elf64\+::is\+\_\+valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Checks if the elf file is valid for \doxylink{namespaceMaxOS}{Max\+OS} runtime. 



Definition at line \mbox{\hyperlink{elf_8cpp_source_l00091}{91}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//\ Validate\ the\ magic\ number}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebca865c0c0b4ab0e063e5caa3387c1a8741}{i}}\ <\ 4;\ \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebca865c0c0b4ab0e063e5caa3387c1a8741}{i}}++)}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>identification[i]\ !=\ elf\_magic[i])}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ 64\ bit}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>identification[(\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a734e55c04254d19fb5117cd0d67ded73a9bd81329febf6efe22788e03ddeaf0af}{ElfIdentification::Class}}]\ !=\ (\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a06110beb02e2bb6271a458e94d1e0a70a8092f0b8f17fd364c0804a39ae56f5de}{ElfClass::Bits64}})}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ little\ endian}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>identification[(\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a734e55c04254d19fb5117cd0d67ded73af6068daa29dbb05a7ead1e3b5a48bbee}{ElfIdentification::Data}}]\ !=\ (\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a464343547d01dc27b11ddda3139f260da3c0ba6b22b526d7fd50c3026435a8c02}{ElfData::LittleEndian}})}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ version\ 1}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>identification[(\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a734e55c04254d19fb5117cd0d67ded73a34b6cd75171affba6957e308dcbd92be}{ElfIdentification::Version}}]\ !=\ (\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_ac1d3d25a34353241f191e2d7f9b308c2a222a267cc5778206b253be35ee3ddab5}{ElfVersion::Current}})}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ for\ the\ MaxOS\ platform}}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ \ if(header()\ -\/>\ identification[OSABI]\ !=\ MaxOSABI)}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ return\ false;\ TODO:\ Would\ be\ nice\ to\ have\ an\ OS\ ABI}}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ executable}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>\mbox{\hyperlink{ext2_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}\ !=\ (\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a8f63cd8e5a34555b82702be420300163a38492e6b60e40c59a376e2151778e2c7}{ElfType::Executable}})}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ for\ the\ x86\_64\ platform}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_abadc096d7813079afcf57c51bd55b2a9}{header}}()-\/>machine\ !=\ (\textcolor{keywordtype}{int})\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_ac453fd96e7e31d6aa7a874864dfc684ba0027f42e1e5dfcb4fd5f8f9c6db89af3}{ElfMachine::x86\_64}})}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{comment}{//\ LGTM}}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespaceMaxOS_1_1processes_a06110beb02e2bb6271a458e94d1e0a70a8092f0b8f17fd364c0804a39ae56f5de}{Max\+OS\+::processes\+::\+Bits64}}, \mbox{\hyperlink{namespaceMaxOS_1_1processes_a734e55c04254d19fb5117cd0d67ded73a9bd81329febf6efe22788e03ddeaf0af}{Max\+OS\+::processes\+::\+Class}}, \mbox{\hyperlink{namespaceMaxOS_1_1processes_ac1d3d25a34353241f191e2d7f9b308c2a222a267cc5778206b253be35ee3ddab5}{Max\+OS\+::processes\+::\+Current}}, \mbox{\hyperlink{namespaceMaxOS_1_1processes_a734e55c04254d19fb5117cd0d67ded73af6068daa29dbb05a7ead1e3b5a48bbee}{Max\+OS\+::processes\+::\+Data}}, \mbox{\hyperlink{namespaceMaxOS_1_1processes_a8f63cd8e5a34555b82702be420300163a38492e6b60e40c59a376e2151778e2c7}{Max\+OS\+::processes\+::\+Executable}}, \mbox{\hyperlink{elf_8cpp_source_l00047}{header()}}, \mbox{\hyperlink{namespaceMaxOS_1_1processes_a464343547d01dc27b11ddda3139f260da3c0ba6b22b526d7fd50c3026435a8c02}{Max\+OS\+::processes\+::\+Little\+Endian}}, \mbox{\hyperlink{ext2_8h_source_l00004}{type}}, \mbox{\hyperlink{namespaceMaxOS_1_1processes_a734e55c04254d19fb5117cd0d67ded73a34b6cd75171affba6957e308dcbd92be}{Max\+OS\+::processes\+::\+Version}}, and \mbox{\hyperlink{namespaceMaxOS_1_1processes_ac453fd96e7e31d6aa7a874864dfc684ba0027f42e1e5dfcb4fd5f8f9c6db89af3}{Max\+OS\+::processes\+::x86\+\_\+64}}.



Referenced by \mbox{\hyperlink{elf_8cpp_source_l00032}{load()}}.

\Hypertarget{classMaxOS_1_1processes_1_1Elf64_a911f91e8c53705ab6309c8aff83fe2d0}\label{classMaxOS_1_1processes_1_1Elf64_a911f91e8c53705ab6309c8aff83fe2d0} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!load@{load}}
\index{load@{load}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily void Elf64\+::load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Loads the elf program into memory if a valid elf file. 



Definition at line \mbox{\hyperlink{elf_8cpp_source_l00032}{32}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{comment}{//TODO:\ error\ handling\ when\ the\ syscall\ for\ this\ is\ implemented}}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classMaxOS_1_1processes_1_1Elf64_a0735167d9c18f09d4291e79277fcdfe7}{is\_valid}}())}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ load\_program\_headers();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8cpp_source_l00091}{is\+\_\+valid()}}.

\Hypertarget{classMaxOS_1_1processes_1_1Elf64_a9bad9143e7d3667895a6659ec7a37c95}\label{classMaxOS_1_1processes_1_1Elf64_a9bad9143e7d3667895a6659ec7a37c95} 
\index{MaxOS::processes::Elf64@{MaxOS::processes::Elf64}!to\_vmm\_flags@{to\_vmm\_flags}}
\index{to\_vmm\_flags@{to\_vmm\_flags}!MaxOS::processes::Elf64@{MaxOS::processes::Elf64}}
\doxysubsubsection{\texorpdfstring{to\_vmm\_flags()}{to\_vmm\_flags()}}
{\footnotesize\ttfamily uint64\+\_\+t Elf64\+::to\+\_\+vmm\+\_\+flags (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts elf flags to vmm flags. 


\begin{DoxyParams}{Parameters}
{\em type} & The elf flags of the program header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The vmm flags 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00164}{164}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ Conversion}}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{comment}{//\ ELF\ \ \ |\ \ \ VMM}}
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{comment}{//\ 0x0\ \ \ |\ \ \ Executable}}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{comment}{//\ 0x1\ \ \ |\ \ \ Write}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{comment}{//\ 0x2\ \ \ |\ \ \ Read}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{amd__am79c973_8h_a1e87af3c18a2fd36c61faf89949bdc3f}{flags}}\ =\ \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84eba980a5bc5e6393398f4e52e1c27bdd382}{Present}}\ |\ \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84ebae45ca5ccdd807182c984942dde55ebaa}{User}}\ |\ \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84eba346d48faacf419ed9c75689c42ac9d1f}{NoExecute}};}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ Enable\ write}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ext2_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}\ \&\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a26e554e107e27bd8e0d15d6a80261f2da9b0db3e6d06c9d71fcee2cffa5138a9d}{ElfWrite}})}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{amd__am79c973_8h_a1e87af3c18a2fd36c61faf89949bdc3f}{flags}}\ |=\ \mbox{\hyperlink{namespaceMaxOS_1_1memory_ae0e83b5743a37b4d0d2a93bb3bbe84ebabc3cb78aef6a50841121fd08c2a49151}{Write}};}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ Disable\ no\ execute}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ext2_8h_a1d127017fb298b889f4ba24752d08b8e}{type}}\ \&\ \mbox{\hyperlink{namespaceMaxOS_1_1processes_a26e554e107e27bd8e0d15d6a80261f2da435c91c59b56bddd448bc4c0880f0e76}{ElfExecute}})}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{amd__am79c973_8h_a1e87af3c18a2fd36c61faf89949bdc3f}{flags}}\ \&=\ \string~NoExecute;}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{amd__am79c973_8h_a1e87af3c18a2fd36c61faf89949bdc3f}{flags}};}
\DoxyCodeLine{00183\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8h_source_l00107}{Max\+OS\+::processes\+::\+Elf\+Execute}}, \mbox{\hyperlink{elf_8h_source_l00108}{Max\+OS\+::processes\+::\+Elf\+Write}}, \mbox{\hyperlink{amd__am79c973_8h_source_l00002}{flags}}, \mbox{\hyperlink{physical_8h_source_l00042}{Max\+OS\+::memory\+::\+No\+Execute}}, \mbox{\hyperlink{physical_8h_source_l00033}{Max\+OS\+::memory\+::\+Present}}, \mbox{\hyperlink{ext2_8h_source_l00004}{type}}, \mbox{\hyperlink{physical_8h_source_l00035}{Max\+OS\+::memory\+::\+User}}, and \mbox{\hyperlink{physical_8h_source_l00034}{Max\+OS\+::memory\+::\+Write}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/processes/\mbox{\hyperlink{elf_8h}{elf.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/processes/\mbox{\hyperlink{elf_8cpp}{elf.\+cpp}}\end{DoxyCompactItemize}
