\doxysection{/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/hardwarecommunication/apic.h File Reference}
\hypertarget{apic_8h}{}\label{apic_8h}\index{/home/runner/work/MaxOS/MaxOS/kernel/include/hardwarecommunication/apic.h@{/home/runner/work/MaxOS/MaxOS/kernel/include/hardwarecommunication/apic.h}}


Defines classes and structures for handling the Advanced Programmable Interrupt Controller (APIC) in a multiprocessor system.  


{\ttfamily \#include $<$common/macros.\+h$>$}\newline
{\ttfamily \#include $<$hardwarecommunication/port.\+h$>$}\newline
{\ttfamily \#include $<$hardwarecommunication/acpi.\+h$>$}\newline
{\ttfamily \#include $<$memory/physical.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1LocalAPIC}{Max\+OS\+::hardwarecommunication\+::\+Local\+APIC}}
\begin{DoxyCompactList}\small\item\em Handles the local APIC for the current core. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT}{Max\+OS\+::hardwarecommunication\+::\+MADT}}
\begin{DoxyCompactList}\small\item\em Multiple APIC Description Table (\doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT}) (ACPI 2 or higher). Provides information about the APICs in the system. Following this header are multiple entries describing the APICs (see \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADTEntry}{MADTEntry}). \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADTEntry}{Max\+OS\+::hardwarecommunication\+::\+MADTEntry}}
\begin{DoxyCompactList}\small\item\em An item in the \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT} table. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__IO__APIC}{Max\+OS\+::hardwarecommunication\+::\+MADT\+\_\+\+IO\+\_\+\+APIC}}
\begin{DoxyCompactList}\small\item\em An entry in the \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT} table describing an IO APIC. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__PROCESSOR__APIC}{Max\+OS\+::hardwarecommunication\+::\+MADT\+\_\+\+PROCESSOR\+\_\+\+APIC}}
\begin{DoxyCompactList}\small\item\em An entry in the \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT} table describing a processor local APIC. \end{DoxyCompactList}\item 
union \mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry}{Max\+OS\+::hardwarecommunication\+::\+Redirection\+Entry}}
\begin{DoxyCompactList}\small\item\em An IO APIC redirection entry. Describes how an interrupt is routed. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1RedirectionEntry_1_1PACKED}{Max\+OS\+::hardwarecommunication\+::\+Redirection\+Entry\+::\+PACKED}}
\begin{DoxyCompactList}\small\item\em Packed because the bitfields should be one uint64\+\_\+t together. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect}{Max\+OS\+::hardwarecommunication\+::\+Interrupt\+Redirect}}
\begin{DoxyCompactList}\small\item\em Defines how an interrupt input is redirected to a specific processor via the I/O APIC. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override}{Max\+OS\+::hardwarecommunication\+::\+Override}}
\begin{DoxyCompactList}\small\item\em Specifies how a specific interrupt source is mapped to a global system interrupt. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1IOAPIC}{Max\+OS\+::hardwarecommunication\+::\+IOAPIC}}
\begin{DoxyCompactList}\small\item\em Handles the IO APIC in the system (one per system) \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1AdvancedProgrammableInterruptController}{Max\+OS\+::hardwarecommunication\+::\+Advanced\+Programmable\+Interrupt\+Controller}}
\begin{DoxyCompactList}\small\item\em Handles both the Local APIC (boot core) and IO APIC. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{apic_8h_ac48186c3041cc01b3c1fdd9378a47b17}\label{apic_8h_ac48186c3041cc01b3c1fdd9378a47b17} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT}{Max\+OS\+::hardwarecommunication\+::\+MADT}} {\bfseries Max\+OS\+::hardwarecommunication\+::madt\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT}{MADT} struct. \end{DoxyCompactList}\item 
\Hypertarget{apic_8h_a27a1e24c18c5ba955cdbd752b7c660a9}\label{apic_8h_a27a1e24c18c5ba955cdbd752b7c660a9} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADTEntry}{Max\+OS\+::hardwarecommunication\+::\+MADTEntry}} {\bfseries Max\+OS\+::hardwarecommunication\+::madt\+\_\+entry\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADTEntry}{MADTEntry} struct. \end{DoxyCompactList}\item 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__IO__APIC}{Max\+OS\+::hardwarecommunication\+::\+MADT\+\_\+\+IO\+\_\+\+APIC}} \mbox{\hyperlink{apic_8h_a13e29373273b62f2498bced57f5e465d}{Max\+OS\+::hardwarecommunication\+::madt\+\_\+io\+\_\+apic\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT__IO__APIC}{MADT\+\_\+\+IO\+\_\+\+APIC} struct. \end{DoxyCompactList}\item 
\Hypertarget{apic_8h_a94e4882ca56ef94a1aad9129cb2424fd}\label{apic_8h_a94e4882ca56ef94a1aad9129cb2424fd} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1MADT__PROCESSOR__APIC}{Max\+OS\+::hardwarecommunication\+::\+MADT\+\_\+\+PROCESSOR\+\_\+\+APIC}} {\bfseries Max\+OS\+::hardwarecommunication\+::madt\+\_\+processor\+\_\+apic\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1hardwarecommunication_1_1MADT__PROCESSOR__APIC}{MADT\+\_\+\+PROCESSOR\+\_\+\+APIC} struct. \end{DoxyCompactList}\item 
\Hypertarget{apic_8h_ac0a45bc93714cea7ce33a89158d6f797}\label{apic_8h_ac0a45bc93714cea7ce33a89158d6f797} 
typedef union \mbox{\hyperlink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry}{Max\+OS\+::hardwarecommunication\+::\+Redirection\+Entry}} {\bfseries Max\+OS\+::hardwarecommunication\+::redirection\+\_\+entry\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{unionMaxOS_1_1hardwarecommunication_1_1RedirectionEntry}{Redirection\+Entry} union. \end{DoxyCompactList}\item 
\Hypertarget{apic_8h_a277b10c2f263e2d25f434864b883fefa}\label{apic_8h_a277b10c2f263e2d25f434864b883fefa} 
typedef struct \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect}{Max\+OS\+::hardwarecommunication\+::\+Interrupt\+Redirect}} {\bfseries Max\+OS\+::hardwarecommunication\+::interrupt\+\_\+redirect\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1hardwarecommunication_1_1InterruptRedirect}{Interrupt\+Redirect} struct. \end{DoxyCompactList}\item 
\Hypertarget{apic_8h_a11f60ced35d950eea9bbe870cfd84660}\label{apic_8h_a11f60ced35d950eea9bbe870cfd84660} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1hardwarecommunication_1_1Override}{Max\+OS\+::hardwarecommunication\+::\+Override}} {\bfseries Max\+OS\+::hardwarecommunication\+::override\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1hardwarecommunication_1_1Override}{Override} struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{apic_8h_a61a67b8f6beb43e8dbf2ed85e52292b0}{Max\+OS\+::hardwarecommunication\+::\+MADT\+\_\+\+TYPE}} \{ \newline
{\bfseries PROCESSOR\+\_\+\+APIC}
, {\bfseries IO\+\_\+\+APIC}
, {\bfseries INTERRUPT\+\_\+\+SOURCE\+\_\+\+OVERRIDE}
, {\bfseries NMI\+\_\+\+SOURCE}
, \newline
{\bfseries APIC\+\_\+\+NMIS}
, {\bfseries APIC\+\_\+\+ADDRESS\+\_\+\+OVERRIDE}
, {\bfseries PROCESSOR\+\_\+\+X2\+APIC}
 \}
\begin{DoxyCompactList}\small\item\em The types of MADT entries. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{apic_8h_ae5961c617d1c9a84a7e86fbec0f59f44}{Max\+OS\+::hardwarecommunication\+::\+Delivery\+Mode}} \{ \newline
{\bfseries FIXED} = 0
, {\bfseries LOWEST\+\_\+\+PRIORITY} = 1
, {\bfseries SMI} = 2
, {\bfseries NMI} = 4
, \newline
{\bfseries INIT} = 5
, {\bfseries EXTINT} = 7
 \}
\begin{DoxyCompactList}\small\item\em How the interrupt should be delivered (can it override others etc). Set fixed/lowest priority for normal interrupts. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Defines classes and structures for handling the Advanced Programmable Interrupt Controller (APIC) in a multiprocessor system. 

\begin{DoxyDate}{Date}
18th January 2024 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Max Tyson 
\end{DoxyAuthor}


Definition in file \mbox{\hyperlink{apic_8h_source}{apic.\+h}}.



\doxysubsection{Typedef Documentation}
\Hypertarget{apic_8h_a13e29373273b62f2498bced57f5e465d}\label{apic_8h_a13e29373273b62f2498bced57f5e465d} 
\index{apic.h@{apic.h}!madt\_io\_apic\_t@{madt\_io\_apic\_t}}
\index{madt\_io\_apic\_t@{madt\_io\_apic\_t}!apic.h@{apic.h}}
\doxysubsubsection{\texorpdfstring{madt\_io\_apic\_t}{madt\_io\_apic\_t}}
{\footnotesize\ttfamily \mbox{\hyperlink{apic_8h_a13e29373273b62f2498bced57f5e465d}{Max\+OS\+::hardwarecommunication\+::madt\+\_\+io\+\_\+apic\+\_\+t}}}



Alias for MADT\+\_\+\+IO\+\_\+\+APIC struct. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000022}{Todo}}]Rename for consistency \end{DoxyRefDesc}


\doxysubsection{Enumeration Type Documentation}
\Hypertarget{apic_8h_ae5961c617d1c9a84a7e86fbec0f59f44}\label{apic_8h_ae5961c617d1c9a84a7e86fbec0f59f44} 
\index{apic.h@{apic.h}!DeliveryMode@{DeliveryMode}}
\index{DeliveryMode@{DeliveryMode}!apic.h@{apic.h}}
\doxysubsubsection{\texorpdfstring{DeliveryMode}{DeliveryMode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{apic_8h_ae5961c617d1c9a84a7e86fbec0f59f44}{Max\+OS\+::hardwarecommunication\+::\+Delivery\+Mode}}}



How the interrupt should be delivered (can it override others etc). Set fixed/lowest priority for normal interrupts. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000023}{Todo}}]use this \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{apic_8h_source_l00146}{146}} of file \mbox{\hyperlink{apic_8h_source}{apic.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ FIXED\ =\ 0,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ LOWEST\_PRIORITY\ =\ 1,}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ SMI\ =\ 2,}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ NMI\ =\ 4,}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ INIT\ =\ 5,}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ EXTINT\ =\ 7,}
\DoxyCodeLine{00153\ \ \ \ \ \};}

\end{DoxyCode}
\Hypertarget{apic_8h_a61a67b8f6beb43e8dbf2ed85e52292b0}\label{apic_8h_a61a67b8f6beb43e8dbf2ed85e52292b0} 
\index{apic.h@{apic.h}!MADT\_TYPE@{MADT\_TYPE}}
\index{MADT\_TYPE@{MADT\_TYPE}!apic.h@{apic.h}}
\doxysubsubsection{\texorpdfstring{MADT\_TYPE}{MADT\_TYPE}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{apic_8h_a61a67b8f6beb43e8dbf2ed85e52292b0}{Max\+OS\+::hardwarecommunication\+::\+MADT\+\_\+\+TYPE}}\hspace{0.3cm}{\ttfamily [strong]}}



The types of MADT entries. 



Definition at line \mbox{\hyperlink{apic_8h_source_l00077}{77}} of file \mbox{\hyperlink{apic_8h_source}{apic.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ PROCESSOR\_APIC,}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ IO\_APIC,}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ INTERRUPT\_SOURCE\_OVERRIDE,}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ NMI\_SOURCE,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ APIC\_NMIS,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ APIC\_ADDRESS\_OVERRIDE,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ PROCESSOR\_X2APIC,}
\DoxyCodeLine{00085\ \ \ \ \ \};}

\end{DoxyCode}
