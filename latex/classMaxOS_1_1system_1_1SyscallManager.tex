\hypertarget{classMaxOS_1_1system_1_1SyscallManager}{}\doxysection{Max\+OS\+::system\+::Syscall\+Manager Class Reference}
\label{classMaxOS_1_1system_1_1SyscallManager}\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}


Handles system calls.  




{\ttfamily \#include $<$syscalls.\+h$>$}

Inheritance diagram for Max\+OS\+::system\+::Syscall\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classMaxOS_1_1system_1_1SyscallManager}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a658d309f8afe36a09c52e7acfc7346f9}{Syscall\+Manager}} (\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1InterruptManager}{hardwarecommunication\+::\+Interrupt\+Manager}} $\ast$interrupt\+\_\+manager)
\item 
\mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a8921559ddf0592cd1d432fe6a20f1197}{$\sim$\+Syscall\+Manager}} ()
\item 
system\+::cpu\+\_\+status\+\_\+t $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a571c5c2c1d1383d988dcab1e08825ef5}{handle\+\_\+interrupt}} (system\+::cpu\+\_\+status\+\_\+t $\ast$esp) final
\begin{DoxyCompactList}\small\item\em Handles an interrupt and returns the status. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\+\_\+syscall\+\_\+handler}} (uint8\+\_\+t syscall, \mbox{\hyperlink{namespaceMaxOS_1_1system_acddf4743ad250095ebdd25fe543a6e37}{syscall\+\_\+func\+\_\+t}} handler)
\item 
void \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_ad991c0a080e8b87d1e493a0b578a7d22}{remove\+\_\+syscall\+\_\+handler}} (uint8\+\_\+t syscall)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a47d5379060972384e10af4e1e57586a3}{syscall\+\_\+close\+\_\+process}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to close a process. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5cf95e7d92f6d56ccd67eedce096df4a}{syscall\+\_\+klog}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a7f72c347853a391b86c74c601f77d863}{syscall\+\_\+create\+\_\+shared\+\_\+memory}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to create a shared memory block (To close, free the memory, it is automatically handled when the process exits) \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a4ac4398b7d1b8332a53194fc78b6b232}{syscall\+\_\+open\+\_\+shared\+\_\+memory}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to open a shared memory block (To close, free the memory, it is automatically handled when the process exits) \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a65915bacdc50f0865eed03252c27e2bb}{syscall\+\_\+allocate\+\_\+memory}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to free a block of memory. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a4490d70aa9b2c92f03fba58bce074da2}{syscall\+\_\+free\+\_\+memory}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to free a block of memory. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_abe6add296bf8da80cb2f522ca5ad6745}{syscall\+\_\+create\+\_\+ipc\+\_\+endpoint}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to create an I\+PC endpoint. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_ac14c515e3f415d31bd2410d7bc021e41}{syscall\+\_\+send\+\_\+ipc\+\_\+message}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to send an I\+PC message. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a148338a27d5f3a02de89d5b72804f8d4}{syscall\+\_\+remove\+\_\+ipc\+\_\+endpoint}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to remove an I\+PC endpoint. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a0bb13fc1ad412607e17a3ee7570c886d}{syscall\+\_\+thread\+\_\+yield}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to yield the current process. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a18747bc8bf571727793971a1673c73c3}{syscall\+\_\+thread\+\_\+sleep}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to sleep the current process. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_ae4ca39235c570e828af181f5366a2772}{syscall\+\_\+thread\+\_\+close}} (\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$args)
\begin{DoxyCompactList}\small\item\em System call to close a thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceMaxOS_1_1system_acddf4743ad250095ebdd25fe543a6e37}{syscall\+\_\+func\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}{m\+\_\+syscall\+\_\+handlers}} \mbox{[}256\mbox{]}
\item 
\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\+\_\+current\+\_\+args}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles system calls. 

Definition at line 58 of file syscalls.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a658d309f8afe36a09c52e7acfc7346f9}\label{classMaxOS_1_1system_1_1SyscallManager_a658d309f8afe36a09c52e7acfc7346f9}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!SyscallManager@{SyscallManager}}
\index{SyscallManager@{SyscallManager}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{SyscallManager()}{SyscallManager()}}
{\footnotesize\ttfamily Syscall\+Manager\+::\+Syscall\+Manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1InterruptManager}{hardwarecommunication\+::\+Interrupt\+Manager}} $\ast$}]{interrupt\+\_\+manager }\end{DoxyParamCaption})}



Definition at line 16 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{17 :    \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1InterruptHandler_a23513de3e722d6f7183a9b51b1d86c48}{InterruptHandler}}(0x80, interrupt\_manager)}
\DoxyCodeLine{18 \{}
\DoxyCodeLine{19 }
\DoxyCodeLine{20   \textcolor{comment}{// Clear the args}}
\DoxyCodeLine{21   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} = \textcolor{keyword}{new} \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\_args\_t}};}
\DoxyCodeLine{22 }
\DoxyCodeLine{23   \textcolor{comment}{// Register the handlers}}
\DoxyCodeLine{24   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a67b43d8672d67d7f6c1d263664d4bdef}{SyscallType::CLOSE\_PROCESS}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a47d5379060972384e10af4e1e57586a3}{syscall\_close\_process}});}
\DoxyCodeLine{25   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a7888983123b87c3b6beef26a10cf0c66}{SyscallType::KLOG}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5cf95e7d92f6d56ccd67eedce096df4a}{syscall\_klog}});}
\DoxyCodeLine{26   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a6c1803818cedc289c4c0c3d608d283a1}{SyscallType::CREATE\_SHARED\_MEMORY}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a7f72c347853a391b86c74c601f77d863}{syscall\_create\_shared\_memory}});}
\DoxyCodeLine{27   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245ad7355d241d4297d5a8b97dcd3511b732}{SyscallType::OPEN\_SHARED\_MEMORY}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a4ac4398b7d1b8332a53194fc78b6b232}{syscall\_open\_shared\_memory}});}
\DoxyCodeLine{28   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a3d44d151130d44e1142c537ff17b58cd}{SyscallType::ALLOCATE\_MEMORY}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a65915bacdc50f0865eed03252c27e2bb}{syscall\_allocate\_memory}});}
\DoxyCodeLine{29   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a8d84b4a9d2a36bcfb8e02ff0097517a2}{SyscallType::FREE\_MEMORY}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a4490d70aa9b2c92f03fba58bce074da2}{syscall\_free\_memory}});}
\DoxyCodeLine{30   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a585d086c6ef069c2db923611357f85a1}{SyscallType::CREATE\_IPC\_ENDPOINT}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_abe6add296bf8da80cb2f522ca5ad6745}{syscall\_create\_ipc\_endpoint}});}
\DoxyCodeLine{31   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245abab1cb1656bf89b467ac6aac2b8556f2}{SyscallType::SEND\_IPC\_MESSAGE}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_ac14c515e3f415d31bd2410d7bc021e41}{syscall\_send\_ipc\_message}});}
\DoxyCodeLine{32   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a4ffed72385ce705c943005b7b4359ae2}{SyscallType::REMOVE\_IPC\_ENDPOINT}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a148338a27d5f3a02de89d5b72804f8d4}{syscall\_remove\_ipc\_endpoint}});}
\DoxyCodeLine{33   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a0da2a5ab3c948ae451d3ffd6f528d02b}{SyscallType::THREAD\_YIELD}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a0bb13fc1ad412607e17a3ee7570c886d}{syscall\_thread\_yield}});}
\DoxyCodeLine{34   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}{set\_syscall\_handler}}(\mbox{\hyperlink{namespaceMaxOS_1_1system_a8c65f4dd86b231b6966e00a904871245a86fee37cb2e32be57847c3403f68fce6}{SyscallType::THREAD\_SLEEP}}, \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a18747bc8bf571727793971a1673c73c3}{syscall\_thread\_sleep}});}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 \}}

\end{DoxyCode}


References Max\+O\+S\+::system\+::\+A\+L\+L\+O\+C\+A\+T\+E\+\_\+\+M\+E\+M\+O\+RY, Max\+O\+S\+::system\+::\+C\+L\+O\+S\+E\+\_\+\+P\+R\+O\+C\+E\+SS, Max\+O\+S\+::system\+::\+C\+R\+E\+A\+T\+E\+\_\+\+I\+P\+C\+\_\+\+E\+N\+D\+P\+O\+I\+NT, Max\+O\+S\+::system\+::\+C\+R\+E\+A\+T\+E\+\_\+\+S\+H\+A\+R\+E\+D\+\_\+\+M\+E\+M\+O\+RY, Max\+O\+S\+::system\+::\+F\+R\+E\+E\+\_\+\+M\+E\+M\+O\+RY, Max\+O\+S\+::system\+::\+K\+L\+OG, m\+\_\+current\+\_\+args, Max\+O\+S\+::system\+::\+O\+P\+E\+N\+\_\+\+S\+H\+A\+R\+E\+D\+\_\+\+M\+E\+M\+O\+RY, Max\+O\+S\+::system\+::\+R\+E\+M\+O\+V\+E\+\_\+\+I\+P\+C\+\_\+\+E\+N\+D\+P\+O\+I\+NT, Max\+O\+S\+::system\+::\+S\+E\+N\+D\+\_\+\+I\+P\+C\+\_\+\+M\+E\+S\+S\+A\+GE, set\+\_\+syscall\+\_\+handler(), syscall\+\_\+allocate\+\_\+memory(), syscall\+\_\+close\+\_\+process(), syscall\+\_\+create\+\_\+ipc\+\_\+endpoint(), syscall\+\_\+create\+\_\+shared\+\_\+memory(), syscall\+\_\+free\+\_\+memory(), syscall\+\_\+klog(), syscall\+\_\+open\+\_\+shared\+\_\+memory(), syscall\+\_\+remove\+\_\+ipc\+\_\+endpoint(), syscall\+\_\+send\+\_\+ipc\+\_\+message(), syscall\+\_\+thread\+\_\+sleep(), syscall\+\_\+thread\+\_\+yield(), Max\+O\+S\+::system\+::\+T\+H\+R\+E\+A\+D\+\_\+\+S\+L\+E\+EP, and Max\+O\+S\+::system\+::\+T\+H\+R\+E\+A\+D\+\_\+\+Y\+I\+E\+LD.

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a8921559ddf0592cd1d432fe6a20f1197}\label{classMaxOS_1_1system_1_1SyscallManager_a8921559ddf0592cd1d432fe6a20f1197}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!````~SyscallManager@{$\sim$SyscallManager}}
\index{````~SyscallManager@{$\sim$SyscallManager}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{$\sim$SyscallManager()}{~SyscallManager()}}
{\footnotesize\ttfamily Syscall\+Manager\+::$\sim$\+Syscall\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 38 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{39 \{}
\DoxyCodeLine{40     \textcolor{comment}{// Delete the args}}
\DoxyCodeLine{41     \textcolor{keyword}{delete} \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \}}

\end{DoxyCode}


References m\+\_\+current\+\_\+args.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a571c5c2c1d1383d988dcab1e08825ef5}\label{classMaxOS_1_1system_1_1SyscallManager_a571c5c2c1d1383d988dcab1e08825ef5}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!handle\_interrupt@{handle\_interrupt}}
\index{handle\_interrupt@{handle\_interrupt}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{handle\_interrupt()}{handle\_interrupt()}}
{\footnotesize\ttfamily cpu\+\_\+status\+\_\+t $\ast$ Syscall\+Manager\+::handle\+\_\+interrupt (\begin{DoxyParamCaption}\item[{system\+::cpu\+\_\+status\+\_\+t $\ast$}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Handles an interrupt and returns the status. 


\begin{DoxyParams}{Parameters}
{\em status} & The status of the \mbox{\hyperlink{classMaxOS_1_1system_1_1CPU}{C\+PU}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The status of the \mbox{\hyperlink{classMaxOS_1_1system_1_1CPU}{C\+PU}} 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classMaxOS_1_1hardwarecommunication_1_1InterruptHandler_a3f4303652151fbba92aa7b4513ae0875}{Max\+O\+S\+::hardwarecommunication\+::\+Interrupt\+Handler}}.



Definition at line 46 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{46                                                                    \{}
\DoxyCodeLine{47 }
\DoxyCodeLine{48   \textcolor{comment}{// Get the args from the cpu state}}
\DoxyCodeLine{49   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg0 = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rdi;}
\DoxyCodeLine{50   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg1 = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rsi;}
\DoxyCodeLine{51   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg2 = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rdx;}
\DoxyCodeLine{52   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg3 = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> r10;}
\DoxyCodeLine{53   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg4 = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> r8;}
\DoxyCodeLine{54   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg5 = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> r9;}
\DoxyCodeLine{55   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> return\_value = 0;}
\DoxyCodeLine{56   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> return\_state = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}};}
\DoxyCodeLine{57 }
\DoxyCodeLine{58   \textcolor{comment}{// Call the handler}}
\DoxyCodeLine{59   uint64\_t syscall = \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rax;}
\DoxyCodeLine{60   \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}{m\_syscall\_handlers}}[syscall] != 0)}
\DoxyCodeLine{61     \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}{m\_syscall\_handlers}}[syscall](\mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}});}
\DoxyCodeLine{62   \textcolor{keywordflow}{else}}
\DoxyCodeLine{63     \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"Syscall \%d not found\(\backslash\)n"}, syscall);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65   \textcolor{comment}{// If there is a specific return state, use that}}
\DoxyCodeLine{66   \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> return\_state != \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}})}
\DoxyCodeLine{67     \textcolor{keywordflow}{return} \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> return\_state;}
\DoxyCodeLine{68 }
\DoxyCodeLine{69   \textcolor{comment}{// Update the cpu state}}
\DoxyCodeLine{70   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rdi = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg0;}
\DoxyCodeLine{71   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rsi = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg1;}
\DoxyCodeLine{72   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rdx = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg2;}
\DoxyCodeLine{73   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> r10 = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg3;}
\DoxyCodeLine{74   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> r8  = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg4;}
\DoxyCodeLine{75   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> r9  = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> arg5;}
\DoxyCodeLine{76   \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}} -\/> rax = \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}{m\_current\_args}} -\/> return\_value;}
\DoxyCodeLine{77 }
\DoxyCodeLine{78 }
\DoxyCodeLine{79   \textcolor{comment}{// Return the status}}
\DoxyCodeLine{80   \textcolor{keywordflow}{return} \mbox{\hyperlink{intel__i217_8h_ade818037fd6c985038ff29656089758d}{status}};}
\DoxyCodeLine{81 \}}

\end{DoxyCode}


References \+\_\+kprintf, m\+\_\+current\+\_\+args, m\+\_\+syscall\+\_\+handlers, and status.

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_ad991c0a080e8b87d1e493a0b578a7d22}\label{classMaxOS_1_1system_1_1SyscallManager_ad991c0a080e8b87d1e493a0b578a7d22}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!remove\_syscall\_handler@{remove\_syscall\_handler}}
\index{remove\_syscall\_handler@{remove\_syscall\_handler}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{remove\_syscall\_handler()}{remove\_syscall\_handler()}}
{\footnotesize\ttfamily void Syscall\+Manager\+::remove\+\_\+syscall\+\_\+handler (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{syscall }\end{DoxyParamCaption})}



Definition at line 87 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{87                                                            \{}
\DoxyCodeLine{88     \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}{m\_syscall\_handlers}}[syscall] = 0;}
\DoxyCodeLine{89 \}}

\end{DoxyCode}


References m\+\_\+syscall\+\_\+handlers.

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}\label{classMaxOS_1_1system_1_1SyscallManager_a5626cf2972c2ff46353fa7307de88cb5}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!set\_syscall\_handler@{set\_syscall\_handler}}
\index{set\_syscall\_handler@{set\_syscall\_handler}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{set\_syscall\_handler()}{set\_syscall\_handler()}}
{\footnotesize\ttfamily void Syscall\+Manager\+::set\+\_\+syscall\+\_\+handler (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{syscall,  }\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_acddf4743ad250095ebdd25fe543a6e37}{syscall\+\_\+func\+\_\+t}}}]{handler }\end{DoxyParamCaption})}



Definition at line 83 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{83                                                                                 \{}
\DoxyCodeLine{84   \mbox{\hyperlink{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}{m\_syscall\_handlers}}[syscall] = handler;}
\DoxyCodeLine{85 \}}

\end{DoxyCode}


References m\+\_\+syscall\+\_\+handlers.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a65915bacdc50f0865eed03252c27e2bb}\label{classMaxOS_1_1system_1_1SyscallManager_a65915bacdc50f0865eed03252c27e2bb}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_allocate\_memory@{syscall\_allocate\_memory}}
\index{syscall\_allocate\_memory@{syscall\_allocate\_memory}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_allocate\_memory()}{syscall\_allocate\_memory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+allocate\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to free a block of memory. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = size \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The address of the memory block or null if failed 
\end{DoxyReturn}


Definition at line 194 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{194                                                                             \{}
\DoxyCodeLine{195 }
\DoxyCodeLine{196   \textcolor{comment}{// Get the size}}
\DoxyCodeLine{197   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} = args -\/> arg0;}
\DoxyCodeLine{198 }
\DoxyCodeLine{199   \textcolor{comment}{// Malloc the memory}}
\DoxyCodeLine{200   \textcolor{keywordtype}{void}* \mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}} = MemoryManager::malloc(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{201 }
\DoxyCodeLine{202   \textcolor{comment}{// Return the address}}
\DoxyCodeLine{203   args -\/> return\_value = (uint64\_t)\mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}};}
\DoxyCodeLine{204   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{205 }
\DoxyCodeLine{206 \}}

\end{DoxyCode}


References address, and size.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a47d5379060972384e10af4e1e57586a3}\label{classMaxOS_1_1system_1_1SyscallManager_a47d5379060972384e10af4e1e57586a3}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_close\_process@{syscall\_close\_process}}
\index{syscall\_close\_process@{syscall\_close\_process}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_close\_process()}{syscall\_close\_process()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+close\+\_\+process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to close a process. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = pid Arg1 = exit code \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 98 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{98                                                                                       \{}
\DoxyCodeLine{99 }
\DoxyCodeLine{100   \textcolor{comment}{// Get the args}}
\DoxyCodeLine{101   uint64\_t pid = args -\/> arg0;}
\DoxyCodeLine{102   \textcolor{keywordtype}{int} exit\_code = (int)args -\/> arg1;}
\DoxyCodeLine{103 }
\DoxyCodeLine{104   \textcolor{comment}{// Get the process if it is 0 then it is the current process}}
\DoxyCodeLine{105   \mbox{\hyperlink{classMaxOS_1_1processes_1_1Process}{Process}}* process = pid == 0 ? Scheduler::get\_current\_process() : \mbox{\hyperlink{classMaxOS_1_1processes_1_1Scheduler}{Scheduler}}::get\_process(pid);}
\DoxyCodeLine{106 }
\DoxyCodeLine{107   \textcolor{comment}{// Close the process}}
\DoxyCodeLine{108   Scheduler::get\_system\_scheduler() -\/> remove\_process(process);}
\DoxyCodeLine{109 }
\DoxyCodeLine{110   \textcolor{comment}{// Schedule the next process}}
\DoxyCodeLine{111   cpu\_status\_t* next\_process =  Scheduler::get\_system\_scheduler() -\/> schedule\_next(args -\/> return\_state);}
\DoxyCodeLine{112   args -\/> return\_state = next\_process;}
\DoxyCodeLine{113 }
\DoxyCodeLine{114   \textcolor{comment}{// Done}}
\DoxyCodeLine{115   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{116 \}}

\end{DoxyCode}


Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_abe6add296bf8da80cb2f522ca5ad6745}\label{classMaxOS_1_1system_1_1SyscallManager_abe6add296bf8da80cb2f522ca5ad6745}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_create\_ipc\_endpoint@{syscall\_create\_ipc\_endpoint}}
\index{syscall\_create\_ipc\_endpoint@{syscall\_create\_ipc\_endpoint}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_create\_ipc\_endpoint()}{syscall\_create\_ipc\_endpoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+create\+\_\+ipc\+\_\+endpoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to create an I\+PC endpoint. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The I\+PC endpoint buffer linked list address 
\end{DoxyReturn}


Definition at line 233 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{233                                                                                             \{}
\DoxyCodeLine{234 }
\DoxyCodeLine{235   \textcolor{comment}{// Get the name}}
\DoxyCodeLine{236   \textcolor{keywordtype}{char}* \mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}} = (\textcolor{keywordtype}{char}*)args -\/> arg0;}
\DoxyCodeLine{237   \textcolor{keywordflow}{if}(\mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}} == 0)}
\DoxyCodeLine{238     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{239 }
\DoxyCodeLine{240   \textcolor{comment}{// Create the endpoint}}
\DoxyCodeLine{241   \mbox{\hyperlink{structMaxOS_1_1processes_1_1IPCMessageEndpoint}{ipc\_message\_endpoint\_t}}* endpoint = Scheduler::get\_ipc() -\/> create\_message\_endpoint(\mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}});}
\DoxyCodeLine{242 }
\DoxyCodeLine{243   \textcolor{comment}{// Return the endpoint}}
\DoxyCodeLine{244   args -\/> return\_value = (uint64\_t)endpoint -\/> queue;}
\DoxyCodeLine{245   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{246 }
\DoxyCodeLine{247 \}}

\end{DoxyCode}


References name.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a7f72c347853a391b86c74c601f77d863}\label{classMaxOS_1_1system_1_1SyscallManager_a7f72c347853a391b86c74c601f77d863}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_create\_shared\_memory@{syscall\_create\_shared\_memory}}
\index{syscall\_create\_shared\_memory@{syscall\_create\_shared\_memory}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_create\_shared\_memory()}{syscall\_create\_shared\_memory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+create\+\_\+shared\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to create a shared memory block (To close, free the memory, it is automatically handled when the process exits) 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = size, Arg1 = name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The virtual address of the shared memory block or null if failed 
\end{DoxyReturn}


Definition at line 139 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{139                                                                                  \{}
\DoxyCodeLine{140   }
\DoxyCodeLine{141   \textcolor{comment}{// Extract the arguments}}
\DoxyCodeLine{142   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} = args-\/>\mbox{\hyperlink{structMaxOS_1_1system_1_1SyscallArguments_a30a32ef83dd1eccf5f94c8bd2410d9f8}{arg0}};}
\DoxyCodeLine{143   \textcolor{keywordtype}{char}* \mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}} = (\textcolor{keywordtype}{char}*)args-\/>\mbox{\hyperlink{structMaxOS_1_1system_1_1SyscallArguments_a3305efecff34f288e73771677788765f}{arg1}};}
\DoxyCodeLine{144 }
\DoxyCodeLine{145   \textcolor{comment}{// Ensure they are valid}}
\DoxyCodeLine{146   \textcolor{keywordflow}{if}(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} == 0 || \mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}} == 0)}
\DoxyCodeLine{147     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{148 }
\DoxyCodeLine{149   \textcolor{comment}{// Create the memory block}}
\DoxyCodeLine{150   \mbox{\hyperlink{structMaxOS_1_1processes_1_1IPCSharedMemory}{ipc\_shared\_memory\_t}}* new\_block = Scheduler::get\_ipc() -\/>alloc\_shared\_memory(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}}, \mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}});}
\DoxyCodeLine{151 }
\DoxyCodeLine{152   \textcolor{comment}{// Load the block}}
\DoxyCodeLine{153   \textcolor{keywordtype}{void}* virtual\_address = MemoryManager::s\_current\_memory\_manager -\/> get\_vmm() -\/>load\_shared\_memory(new\_block -\/> \mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}}, \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{154 }
\DoxyCodeLine{155   \textcolor{comment}{// Return to the user}}
\DoxyCodeLine{156   args -\/> return\_value = (uint64\_t)virtual\_address;}
\DoxyCodeLine{157   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{158 }
\DoxyCodeLine{159 \}}

\end{DoxyCode}


References Max\+O\+S\+::system\+::\+Syscall\+Arguments\+::arg0, Max\+O\+S\+::system\+::\+Syscall\+Arguments\+::arg1, name, physical\+\_\+address, and size.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a4490d70aa9b2c92f03fba58bce074da2}\label{classMaxOS_1_1system_1_1SyscallManager_a4490d70aa9b2c92f03fba58bce074da2}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_free\_memory@{syscall\_free\_memory}}
\index{syscall\_free\_memory@{syscall\_free\_memory}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_free\_memory()}{syscall\_free\_memory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+free\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to free a block of memory. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 214 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{214                                                                         \{}
\DoxyCodeLine{215 }
\DoxyCodeLine{216   \textcolor{comment}{// Get the address}}
\DoxyCodeLine{217   \textcolor{keywordtype}{void}* \mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}} = (\textcolor{keywordtype}{void}*)args -\/> arg0;}
\DoxyCodeLine{218 }
\DoxyCodeLine{219   \textcolor{comment}{// Free the memory}}
\DoxyCodeLine{220   MemoryManager::free(\mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}});}
\DoxyCodeLine{221 }
\DoxyCodeLine{222   \textcolor{comment}{// Done}}
\DoxyCodeLine{223   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{224 }
\DoxyCodeLine{225 \}}

\end{DoxyCode}


References address.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a5cf95e7d92f6d56ccd67eedce096df4a}\label{classMaxOS_1_1system_1_1SyscallManager_a5cf95e7d92f6d56ccd67eedce096df4a}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_klog@{syscall\_klog}}
\index{syscall\_klog@{syscall\_klog}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_klog()}{syscall\_klog()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+klog (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 118 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{118                                                                  \{}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   \textcolor{keywordtype}{char}* message = (\textcolor{keywordtype}{char}*)args -\/> arg0;}
\DoxyCodeLine{121 }
\DoxyCodeLine{122   \textcolor{comment}{// If the first two characters are \%h then no header}}
\DoxyCodeLine{123   \textcolor{keywordflow}{if}(message[0] == \textcolor{charliteral}{'\%'} \&\& message[1] == \textcolor{charliteral}{'h'})}
\DoxyCodeLine{124     \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"\%s"}, message);}
\DoxyCodeLine{125   \textcolor{keywordflow}{else}}
\DoxyCodeLine{126     \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"\%h\%s[\%s:\%d]\%s \%s"}, \mbox{\hyperlink{namespaceMaxOS_1_1common_a3364e04f094e16c00bed0dafa17c4b1c}{ANSI\_COLOURS}}[\mbox{\hyperlink{namespaceMaxOS_1_1common_ac660b07c00db1fe517a6f9ab5d1e5c01aae63a86af0fe18addfa886254b94efcc}{FG\_Blue}}], Scheduler::get\_current\_process() -\/> \mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}}.c\_str(), Scheduler::get\_current\_thread() -\/> tid,  \mbox{\hyperlink{namespaceMaxOS_1_1common_a3364e04f094e16c00bed0dafa17c4b1c}{ANSI\_COLOURS}}[\mbox{\hyperlink{namespaceMaxOS_1_1common_ac660b07c00db1fe517a6f9ab5d1e5c01a6ef1cd5a9d3fa65e570b4125468d3427}{Reset}}], message);}
\DoxyCodeLine{127 }
\DoxyCodeLine{128   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{129 \}}

\end{DoxyCode}


References \+\_\+kprintf, Max\+O\+S\+::common\+::\+A\+N\+S\+I\+\_\+\+C\+O\+L\+O\+U\+RS, Max\+O\+S\+::common\+::\+F\+G\+\_\+\+Blue, name, and Max\+O\+S\+::common\+::\+Reset.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a4ac4398b7d1b8332a53194fc78b6b232}\label{classMaxOS_1_1system_1_1SyscallManager_a4ac4398b7d1b8332a53194fc78b6b232}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_open\_shared\_memory@{syscall\_open\_shared\_memory}}
\index{syscall\_open\_shared\_memory@{syscall\_open\_shared\_memory}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_open\_shared\_memory()}{syscall\_open\_shared\_memory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+open\+\_\+shared\+\_\+memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to open a shared memory block (To close, free the memory, it is automatically handled when the process exits) 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The virtual address of the shared memory block or null if failed 
\end{DoxyReturn}


Definition at line 167 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{167                                                                                 \{}
\DoxyCodeLine{168 }
\DoxyCodeLine{169   \textcolor{comment}{// Extract the arguments}}
\DoxyCodeLine{170   uint64\_t \mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}} = args-\/>\mbox{\hyperlink{structMaxOS_1_1system_1_1SyscallArguments_a30a32ef83dd1eccf5f94c8bd2410d9f8}{arg0}};}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   \textcolor{comment}{// Ensure they are valid}}
\DoxyCodeLine{173   \textcolor{keywordflow}{if}(\mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}} == 0)}
\DoxyCodeLine{174     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{175 }
\DoxyCodeLine{176   \textcolor{comment}{// Get the block (dont care if null as that is caught in the load\_shared\_memory function)}}
\DoxyCodeLine{177   \mbox{\hyperlink{structMaxOS_1_1processes_1_1IPCSharedMemory}{ipc\_shared\_memory\_t}}* block = Scheduler::get\_ipc() -\/> get\_shared\_memory((\textcolor{keywordtype}{char}*)\mbox{\hyperlink{fat32_8h_abfa8a0ef7b1321866a7c4099554fdfb0}{name}});}
\DoxyCodeLine{178 }
\DoxyCodeLine{179   \textcolor{comment}{// Load the block}}
\DoxyCodeLine{180   \textcolor{keywordtype}{void}* virtual\_address = MemoryManager::s\_current\_memory\_manager -\/> get\_vmm() -\/>load\_shared\_memory(block -\/> \mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}}, block -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{181 }
\DoxyCodeLine{182   \textcolor{comment}{// Return to the user}}
\DoxyCodeLine{183   args -\/> return\_value = (uint64\_t)virtual\_address;}
\DoxyCodeLine{184   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{185 }
\DoxyCodeLine{186 \}}

\end{DoxyCode}


References Max\+O\+S\+::system\+::\+Syscall\+Arguments\+::arg0, name, physical\+\_\+address, and size.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a148338a27d5f3a02de89d5b72804f8d4}\label{classMaxOS_1_1system_1_1SyscallManager_a148338a27d5f3a02de89d5b72804f8d4}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_remove\_ipc\_endpoint@{syscall\_remove\_ipc\_endpoint}}
\index{syscall\_remove\_ipc\_endpoint@{syscall\_remove\_ipc\_endpoint}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_remove\_ipc\_endpoint()}{syscall\_remove\_ipc\_endpoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+remove\+\_\+ipc\+\_\+endpoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to remove an I\+PC endpoint. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = endpoint name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 279 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{279                                                                                              \{}
\DoxyCodeLine{280 }
\DoxyCodeLine{281   \textcolor{comment}{// Remove the endpoint}}
\DoxyCodeLine{282   Scheduler::get\_ipc() -\/> free\_message\_endpoint((\textcolor{keywordtype}{char}*)args -\/> arg0);}
\DoxyCodeLine{283 }
\DoxyCodeLine{284   \textcolor{comment}{// Done}}
\DoxyCodeLine{285   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{286 }
\DoxyCodeLine{287 \}}

\end{DoxyCode}


Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_ac14c515e3f415d31bd2410d7bc021e41}\label{classMaxOS_1_1system_1_1SyscallManager_ac14c515e3f415d31bd2410d7bc021e41}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_send\_ipc\_message@{syscall\_send\_ipc\_message}}
\index{syscall\_send\_ipc\_message@{syscall\_send\_ipc\_message}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_send\_ipc\_message()}{syscall\_send\_ipc\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+send\+\_\+ipc\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to send an I\+PC message. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = endpoint name, Arg1 = message, Arg2 = size \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 255 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{255                                                                                          \{}
\DoxyCodeLine{256 }
\DoxyCodeLine{257   \textcolor{comment}{// Get the args}}
\DoxyCodeLine{258   \textcolor{keywordtype}{char}* endpoint = (\textcolor{keywordtype}{char}*)args -\/> arg0;}
\DoxyCodeLine{259   \textcolor{keywordtype}{void}* message = (\textcolor{keywordtype}{void}*)args -\/> arg1;}
\DoxyCodeLine{260   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} = args -\/> arg2;}
\DoxyCodeLine{261 }
\DoxyCodeLine{262   \textcolor{comment}{// Validate the args}}
\DoxyCodeLine{263   \textcolor{keywordflow}{if}(endpoint == 0 || message == 0 || \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} == 0)}
\DoxyCodeLine{264     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{265 }
\DoxyCodeLine{266   \textcolor{comment}{// Send the message}}
\DoxyCodeLine{267   Scheduler::get\_ipc() -\/> send\_message(endpoint, message, \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{268 }
\DoxyCodeLine{269   \textcolor{comment}{// All done}}
\DoxyCodeLine{270   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{271 \}}

\end{DoxyCode}


References size.



Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_ae4ca39235c570e828af181f5366a2772}\label{classMaxOS_1_1system_1_1SyscallManager_ae4ca39235c570e828af181f5366a2772}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_thread\_close@{syscall\_thread\_close}}
\index{syscall\_thread\_close@{syscall\_thread\_close}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_thread\_close()}{syscall\_thread\_close()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+thread\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to close a thread. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = tid Arg1 = exit code \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 334 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{334                                                                                      \{}
\DoxyCodeLine{335 }
\DoxyCodeLine{336 }
\DoxyCodeLine{337   \textcolor{comment}{// Get the args}}
\DoxyCodeLine{338   uint64\_t tid = args -\/> arg0;}
\DoxyCodeLine{339   \textcolor{keywordtype}{int} exit\_code = (int)args -\/> arg1;}
\DoxyCodeLine{340 }
\DoxyCodeLine{341   \textcolor{comment}{// Get the thread if it is 0 then it is the current thread}}
\DoxyCodeLine{342   \mbox{\hyperlink{classMaxOS_1_1processes_1_1Thread}{Thread}}* thread = tid == 0 ? Scheduler::get\_current\_thread() : \mbox{\hyperlink{classMaxOS_1_1processes_1_1Scheduler}{Scheduler}}::get\_thread(tid);}
\DoxyCodeLine{343 }
\DoxyCodeLine{344   \textcolor{comment}{// Close the thread}}
\DoxyCodeLine{345   Scheduler::get\_process(thread -\/> parent\_pid) -\/> remove\_thread(tid);}
\DoxyCodeLine{346 }
\DoxyCodeLine{347   \textcolor{comment}{// Schedule the next thread}}
\DoxyCodeLine{348   cpu\_status\_t* next\_thread =  Scheduler::get\_system\_scheduler() -\/> schedule\_next(args -\/> return\_state);}
\DoxyCodeLine{349   args -\/> return\_state = next\_thread;}
\DoxyCodeLine{350 }
\DoxyCodeLine{351   \textcolor{comment}{// Done}}
\DoxyCodeLine{352   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{353 }
\DoxyCodeLine{354 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a18747bc8bf571727793971a1673c73c3}\label{classMaxOS_1_1system_1_1SyscallManager_a18747bc8bf571727793971a1673c73c3}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_thread\_sleep@{syscall\_thread\_sleep}}
\index{syscall\_thread\_sleep@{syscall\_thread\_sleep}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_thread\_sleep()}{syscall\_thread\_sleep()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+thread\+\_\+sleep (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to sleep the current process. 


\begin{DoxyParams}{Parameters}
{\em args} & Arg0 = milliseconds \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 311 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{311                                                                                      \{}
\DoxyCodeLine{312 }
\DoxyCodeLine{313   \textcolor{comment}{// Get the milliseconds}}
\DoxyCodeLine{314   \textcolor{keywordtype}{size\_t} milliseconds = args -\/> arg0;}
\DoxyCodeLine{315 }
\DoxyCodeLine{316   \textcolor{comment}{// Store the updated state in the thread as the scheduler will not have the updated state when switching to the next thread}}
\DoxyCodeLine{317   Scheduler::get\_current\_thread() -\/> execution\_state = args -\/> return\_state;}
\DoxyCodeLine{318 }
\DoxyCodeLine{319   \textcolor{comment}{// Sleep the thread}}
\DoxyCodeLine{320   cpu\_status\_t* next\_thread = Scheduler::get\_current\_thread() -\/> sleep(milliseconds);}
\DoxyCodeLine{321   args -\/> return\_state = next\_thread;}
\DoxyCodeLine{322 }
\DoxyCodeLine{323   \textcolor{comment}{// Done}}
\DoxyCodeLine{324   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{325 }
\DoxyCodeLine{326 \}}

\end{DoxyCode}


Referenced by Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a0bb13fc1ad412607e17a3ee7570c886d}\label{classMaxOS_1_1system_1_1SyscallManager_a0bb13fc1ad412607e17a3ee7570c886d}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!syscall\_thread\_yield@{syscall\_thread\_yield}}
\index{syscall\_thread\_yield@{syscall\_thread\_yield}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{syscall\_thread\_yield()}{syscall\_thread\_yield()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$ Syscall\+Manager\+::syscall\+\_\+thread\+\_\+yield (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{system\+::syscall\+\_\+args\+\_\+t}} $\ast$}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



System call to yield the current process. 


\begin{DoxyParams}{Parameters}
{\em args} & Nothing \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing 
\end{DoxyReturn}


Definition at line 296 of file syscalls.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{296                                                                                      \{}
\DoxyCodeLine{297 }
\DoxyCodeLine{298   \textcolor{comment}{// Yield}}
\DoxyCodeLine{299   cpu\_status\_t* next\_process = Scheduler::get\_system\_scheduler() -\/> yield();}
\DoxyCodeLine{300   args -\/> return\_state = next\_process;}
\DoxyCodeLine{301 }
\DoxyCodeLine{302   \textcolor{keywordflow}{return} args;}
\DoxyCodeLine{303 \}}

\end{DoxyCode}


Referenced by Syscall\+Manager().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}\label{classMaxOS_1_1system_1_1SyscallManager_aff22af3325de79ab57c1e33c682dd67e}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!m\_current\_args@{m\_current\_args}}
\index{m\_current\_args@{m\_current\_args}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{m\_current\_args}{m\_current\_args}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_ac1ac2f4e04a73e0b12b886d72ad369ba}{syscall\+\_\+args\+\_\+t}}$\ast$ Max\+O\+S\+::system\+::\+Syscall\+Manager\+::m\+\_\+current\+\_\+args\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 62 of file syscalls.\+h.



Referenced by handle\+\_\+interrupt(), Syscall\+Manager(), and $\sim$\+Syscall\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}\label{classMaxOS_1_1system_1_1SyscallManager_a1d639e249971331a74daede5a2a58c19}} 
\index{MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}!m\_syscall\_handlers@{m\_syscall\_handlers}}
\index{m\_syscall\_handlers@{m\_syscall\_handlers}!MaxOS::system::SyscallManager@{MaxOS::system::SyscallManager}}
\doxysubsubsection{\texorpdfstring{m\_syscall\_handlers}{m\_syscall\_handlers}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1system_acddf4743ad250095ebdd25fe543a6e37}{syscall\+\_\+func\+\_\+t}} Max\+O\+S\+::system\+::\+Syscall\+Manager\+::m\+\_\+syscall\+\_\+handlers\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 61 of file syscalls.\+h.



Referenced by handle\+\_\+interrupt(), remove\+\_\+syscall\+\_\+handler(), and set\+\_\+syscall\+\_\+handler().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/include/system/\mbox{\hyperlink{syscalls_8h}{syscalls.\+h}}\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/src/system/\mbox{\hyperlink{syscalls_8cpp}{syscalls.\+cpp}}\end{DoxyCompactItemize}
