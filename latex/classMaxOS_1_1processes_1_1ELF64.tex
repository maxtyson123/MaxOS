\doxysection{Max\+OS\+::processes\+::ELF64 Class Reference}
\hypertarget{classMaxOS_1_1processes_1_1ELF64}{}\label{classMaxOS_1_1processes_1_1ELF64}\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}


Handles the loading and parsing of 64-\/bit ELF files.  




{\ttfamily \#include $<$elf.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a693e612e03aa87da373b65a7a182699a}{ELF64}} (uintptr\+\_\+t elf\+\_\+header\+\_\+address)
\begin{DoxyCompactList}\small\item\em Constructor for the \doxylink{classMaxOS_1_1processes_1_1ELF64}{ELF64} class. \end{DoxyCompactList}\item 
\Hypertarget{classMaxOS_1_1processes_1_1ELF64_a90a82f049a3346de9765553d1404c9cd}\label{classMaxOS_1_1processes_1_1ELF64_a90a82f049a3346de9765553d1404c9cd} 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+ELF64} ()
\begin{DoxyCompactList}\small\item\em Destructor for the \doxylink{classMaxOS_1_1processes_1_1ELF64}{ELF64} class. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_ab443619beef6efe646ef975e05f81154}{load}} ()
\begin{DoxyCompactList}\small\item\em Loads the elf program into memory if a valid elf file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_af016428ffefa07a491eec7ade744c871}{is\+\_\+valid}} () const
\begin{DoxyCompactList}\small\item\em Checks if the elf file is valid for Max\+OS runtime. \end{DoxyCompactList}\item 
\mbox{\hyperlink{elf_8h_a15ae4c4d717d7300b416fde5b6aa60b0}{elf\+\_\+64\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}} () const
\begin{DoxyCompactList}\small\item\em Gets the header of the elf file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{elf_8h_a09d9d7ba60153ffbe971339cfd7bf0c3}{elf\+\_\+64\+\_\+program\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_aaa2656b4536386b3d5e5453bdd96f609}{get\+\_\+program\+\_\+header}} (size\+\_\+t index) const
\begin{DoxyCompactList}\small\item\em Gets a program header from the elf file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{elf_8h_ac3102ef92d344c3d420d40f1b4573fee}{elf\+\_\+64\+\_\+section\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_add8f22242d8065457d76fcdd2350d7a4}{get\+\_\+section\+\_\+header}} (size\+\_\+t index) const
\begin{DoxyCompactList}\small\item\em Gets a section header from the elf file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a5c2da5276cc5a051e3f4928eebc37b37}{to\+\_\+vmm\+\_\+flags}} (uint32\+\_\+t type)
\begin{DoxyCompactList}\small\item\em Converts elf flags to vmm flags. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles the loading and parsing of 64-\/bit ELF files. 

Definition at line \mbox{\hyperlink{elf_8h_source_l00217}{217}} of file \mbox{\hyperlink{elf_8h_source}{elf.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1ELF64_a693e612e03aa87da373b65a7a182699a}\label{classMaxOS_1_1processes_1_1ELF64_a693e612e03aa87da373b65a7a182699a} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!ELF64@{ELF64}}
\index{ELF64@{ELF64}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{ELF64()}{ELF64()}}
{\footnotesize\ttfamily ELF64\+::\+ELF64 (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{elf\+\_\+header\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructor for the \doxylink{classMaxOS_1_1processes_1_1ELF64}{ELF64} class. 


\begin{DoxyParams}{Parameters}
{\em elf\+\_\+header\+\_\+address} & The address of the elf header, this must be mapped to memory before uses \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00023}{23}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00024\ :\ m\_elf\_header\_address(elf\_header\_address)}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1ELF64_aaa2656b4536386b3d5e5453bdd96f609}\label{classMaxOS_1_1processes_1_1ELF64_aaa2656b4536386b3d5e5453bdd96f609} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!get\_program\_header@{get\_program\_header}}
\index{get\_program\_header@{get\_program\_header}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{get\_program\_header()}{get\_program\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{elf_8h_a09d9d7ba60153ffbe971339cfd7bf0c3}{elf\+\_\+64\+\_\+program\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} ELF64\+::get\+\_\+program\+\_\+header (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{index }\end{DoxyParamCaption}) const}



Gets a program header from the elf file. 


\begin{DoxyParams}{Parameters}
{\em index} & The index of the program header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The program header at that index or nullptr if out of bounds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00063}{63}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{//\ Check\ bounds}}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>program\_header\_count)}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ program\ headers\ and\ return\ the\ item}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{auto}*\ program\_headers\ =\ (\mbox{\hyperlink{structMaxOS_1_1processes_1_1ELFProgramHeader64}{elf\_64\_program\_header\_t}}*)\ (m\_elf\_header\_address\ +\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>\mbox{\hyperlink{structMaxOS_1_1processes_1_1ELFHeader64_a5afa938ac577a33496cbcc7b28477413}{program\_header\_offset}});}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ \&program\_headers[index];}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8cpp_source_l00052}{header()}}, and \mbox{\hyperlink{elf_8h_source_l00117}{Max\+OS\+::processes\+::\+ELFHeader64\+::program\+\_\+header\+\_\+offset}}.

\Hypertarget{classMaxOS_1_1processes_1_1ELF64_add8f22242d8065457d76fcdd2350d7a4}\label{classMaxOS_1_1processes_1_1ELF64_add8f22242d8065457d76fcdd2350d7a4} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!get\_section\_header@{get\_section\_header}}
\index{get\_section\_header@{get\_section\_header}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{get\_section\_header()}{get\_section\_header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{elf_8h_ac3102ef92d344c3d420d40f1b4573fee}{elf\+\_\+64\+\_\+section\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} ELF64\+::get\+\_\+section\+\_\+header (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{index }\end{DoxyParamCaption}) const}



Gets a section header from the elf file. 


\begin{DoxyParams}{Parameters}
{\em index} & The index of the section header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The section header at that index or nullptr if out of bounds 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00081}{81}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ Check\ bound}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>section\_header\_count)}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ section\ headers\ and\ return\ the\ item}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{auto}*\ section\_headers\ =\ (\mbox{\hyperlink{structMaxOS_1_1processes_1_1ELFSectionHeader64}{elf\_64\_section\_header\_t}}*)\ (m\_elf\_header\_address\ +\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>\mbox{\hyperlink{structMaxOS_1_1processes_1_1ELFHeader64_a1e18c4659f1def551316389e82ff1013}{section\_header\_offset}});}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ \&section\_headers[index];}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8cpp_source_l00052}{header()}}, and \mbox{\hyperlink{elf_8h_source_l00118}{Max\+OS\+::processes\+::\+ELFHeader64\+::section\+\_\+header\+\_\+offset}}.

\Hypertarget{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}\label{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!header@{header}}
\index{header@{header}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{header()}{header()}}
{\footnotesize\ttfamily \mbox{\hyperlink{elf_8h_a15ae4c4d717d7300b416fde5b6aa60b0}{elf\+\_\+64\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*} ELF64\+::header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the header of the elf file. 

\begin{DoxyReturn}{Returns}
The header of the elf file 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00052}{52}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structMaxOS_1_1processes_1_1ELFHeader64}{elf\_64\_header\_t}}*)\ m\_elf\_header\_address;}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{elf_8cpp_source_l00063}{get\+\_\+program\+\_\+header()}}, \mbox{\hyperlink{elf_8cpp_source_l00081}{get\+\_\+section\+\_\+header()}}, and \mbox{\hyperlink{elf_8cpp_source_l00100}{is\+\_\+valid()}}.

\Hypertarget{classMaxOS_1_1processes_1_1ELF64_af016428ffefa07a491eec7ade744c871}\label{classMaxOS_1_1processes_1_1ELF64_af016428ffefa07a491eec7ade744c871} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!is\_valid@{is\_valid}}
\index{is\_valid@{is\_valid}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{is\_valid()}{is\_valid()}}
{\footnotesize\ttfamily bool ELF64\+::is\+\_\+valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Checks if the elf file is valid for Max\+OS runtime. 

\begin{DoxyReturn}{Returns}
True if the elf file is valid, false otherwise
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000077}{Todo}}]Add support for max\+OS ABI \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00100}{100}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Validate\ the\ magic\ number}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ 4;\ i++)}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>identification[i]\ !=\ ELF\_MAGIC[i])}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ 64\ bit}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>identification[(\textcolor{keywordtype}{int})\ ELFIdentification::Class]\ !=\ (\textcolor{keywordtype}{int})\ ELFClass::Bits64)}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ little\ endian}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>identification[(\textcolor{keywordtype}{int})\ ELFIdentification::Data]\ !=\ (\textcolor{keywordtype}{int})\ ELFData::LittleEndian)}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ version\ 1}}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>identification[(\textcolor{keywordtype}{int})\ ELFIdentification::Version]\ !=\ (\textcolor{keywordtype}{int})\ ELFVersion::Current)}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ for\ the\ MaxOS\ platform}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{comment}{//\ \ if(header()\ -\/>\ identification[OSABI]\ !=\ MaxOSABI)}}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ return\ false;}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ executable}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>type\ !=\ (\textcolor{keywordtype}{int})\ ELFType::Executable)}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ elf\ is\ for\ the\ x86\_64\ platform}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_a51568ae69a0932094723ca3045472b91}{header}}()-\/>machine\ !=\ (\textcolor{keywordtype}{int})\ ELFMachine::x86\_64)}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{comment}{//\ LGTM}}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8h_source_l00022}{Max\+OS\+::processes\+::\+ELF\+\_\+\+MAGIC}}, and \mbox{\hyperlink{elf_8cpp_source_l00052}{header()}}.



Referenced by \mbox{\hyperlink{elf_8cpp_source_l00038}{load()}}, and \mbox{\hyperlink{scheduler_8cpp_source_l00138}{Max\+OS\+::processes\+::\+Global\+Scheduler\+::load\+\_\+multiboot\+\_\+elfs()}}.

\Hypertarget{classMaxOS_1_1processes_1_1ELF64_ab443619beef6efe646ef975e05f81154}\label{classMaxOS_1_1processes_1_1ELF64_ab443619beef6efe646ef975e05f81154} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!load@{load}}
\index{load@{load}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily void ELF64\+::load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Loads the elf program into memory if a valid elf file. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000076}{Todo}}]Error handling \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00038}{38}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classMaxOS_1_1processes_1_1ELF64_af016428ffefa07a491eec7ade744c871}{is\_valid}}())}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ load\_program\_headers();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{elf_8cpp_source_l00100}{is\+\_\+valid()}}.

\Hypertarget{classMaxOS_1_1processes_1_1ELF64_a5c2da5276cc5a051e3f4928eebc37b37}\label{classMaxOS_1_1processes_1_1ELF64_a5c2da5276cc5a051e3f4928eebc37b37} 
\index{MaxOS::processes::ELF64@{MaxOS::processes::ELF64}!to\_vmm\_flags@{to\_vmm\_flags}}
\index{to\_vmm\_flags@{to\_vmm\_flags}!MaxOS::processes::ELF64@{MaxOS::processes::ELF64}}
\doxysubsubsection{\texorpdfstring{to\_vmm\_flags()}{to\_vmm\_flags()}}
{\footnotesize\ttfamily uint64\+\_\+t ELF64\+::to\+\_\+vmm\+\_\+flags (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts elf flags to vmm flags. 


\begin{DoxyParams}{Parameters}
{\em type} & The elf flags of the program header \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The vmm flags 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{elf_8cpp_source_l00173}{173}} of file \mbox{\hyperlink{elf_8cpp_source}{elf.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{comment}{//\ Conversion}}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ ELF\ \ \ |\ \ \ VMM}}
\DoxyCodeLine{00177\ \ \ \ \ \textcolor{comment}{//\ 0x0\ \ \ |\ \ \ Executable}}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ 0x1\ \ \ |\ \ \ Write}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ 0x2\ \ \ |\ \ \ Read}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \ \ uint64\_t\ flags\ =\ \mbox{\hyperlink{physical_8h_ae0e83b5743a37b4d0d2a93bb3bbe84eba045db4a831b7d96a7ecff4007e6a9048}{PRESENT}}\ |\ \mbox{\hyperlink{physical_8h_ae0e83b5743a37b4d0d2a93bb3bbe84eba6c21f04b9fd8f97d73dbcedbd6380a22}{USER}}\ |\ \mbox{\hyperlink{physical_8h_ae0e83b5743a37b4d0d2a93bb3bbe84ebad32e5b4f2655fe653eb0f620de087fd5}{NO\_EXECUTE}};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{comment}{//\ Enable\ write}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ \&\ ELFWrite)}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ flags\ |=\ \mbox{\hyperlink{physical_8h_ae0e83b5743a37b4d0d2a93bb3bbe84eba285023a2e7a9895313648efac340db70}{WRITE}};}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{comment}{//\ Disable\ no\ execute}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{if}\ (type\ \&\ ELFExecute)}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ flags\ \&=\ \string~NO\_EXECUTE;}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ flags;}
\DoxyCodeLine{00192\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{physical_8h_source_l00052}{Max\+OS\+::memory\+::\+NO\+\_\+\+EXECUTE}}, \mbox{\hyperlink{physical_8h_source_l00043}{Max\+OS\+::memory\+::\+PRESENT}}, \mbox{\hyperlink{physical_8h_source_l00045}{Max\+OS\+::memory\+::\+USER}}, and \mbox{\hyperlink{physical_8h_source_l00044}{Max\+OS\+::memory\+::\+WRITE}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/processes/\mbox{\hyperlink{elf_8h}{elf.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/processes/\mbox{\hyperlink{elf_8cpp}{elf.\+cpp}}\end{DoxyCompactItemize}
