\doxysection{Max\+OS\+::net\+::Internet\+Protocol\+Handler Class Reference}
\hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler}{}\label{classMaxOS_1_1net_1_1InternetProtocolHandler}\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}


Handles IPv4 packets over Ethernet frames.  




{\ttfamily \#include $<$ipv4.\+h$>$}

Inheritance diagram for Max\+OS\+::net\+::Internet\+Protocol\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classMaxOS_1_1net_1_1InternetProtocolHandler}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_ae6157a2dba220eb761e339dffec52653}{Internet\+Protocol\+Handler}} (\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFrameHandler}{Ethernet\+Frame\+Handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{backend}}, Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}{own\+Internet\+Protocol\+Address}}, Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f}{default\+Gateway\+Internet\+Protocol\+Address}}, Subnet\+Mask \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}{subnet\+Mask}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream}{common\+::\+Output\+Stream}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}{error\+Messages}})
\begin{DoxyCompactList}\small\item\em Construct a new Internet Protocol Handler object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{bool}} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_ad3d1bb7473fe8b1c77a25ed14316d4b6}{handle\+Ethernetframe\+Payload}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ethernetframe\+Payload}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}) \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{override}}
\begin{DoxyCompactList}\small\item\em Called when an IP packet is received. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a55f21552e4dcf3b2256e24f97db84142}{send\+Internet\+Protocol\+Packet}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{dst\+IP\+\_\+\+BE}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{arp_8h_ab551400c74271f35d0c79f81d29cffbb}{protocol}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Sends an IP packet. \end{DoxyCompactList}\item 
Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a1b07ff5f95fac500efa2c2ba0e661324}{Get\+Internet\+Protocol\+Address}} () \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}}
\begin{DoxyCompactList}\small\item\em Gets the IP address of this device. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{drivers\+::ethernet\+::\+Media\+Access\+Control\+Address}} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a19e57b1275f830876149c174d7cba632}{Get\+Media\+Access\+Control\+Address}} ()
\begin{DoxyCompactList}\small\item\em Gets the MAC address of this device. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_ae912712622f50ac2a0d31c6781849ccb}{connect\+IPV4\+Payload\+Handler}} (\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4\+Payload\+Handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4\+Payload\+Handler}})
\begin{DoxyCompactList}\small\item\em Connects an IP protocol payload handler. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Payload\+Handler}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a5898c284c9e748b97254abcbaee68387}{Ethernet\+Frame\+Payload\+Handler}} (\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFrameHandler}{Ethernet\+Frame\+Handler}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_ac54f71ce7d512ba22a6f3306ad459a70}{frame\+Handler}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a902f9382cf1085858a123e304550ad80}{handled\+Type}})
\begin{DoxyCompactList}\small\item\em Construct a new Ether Frame Payload Handler object. \end{DoxyCompactList}\item 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Ethernet\+Frame\+Payload\+Handler} ()
\begin{DoxyCompactList}\small\item\em Destroy the Ether\+Frame\+Handler\+:\+: Ether\+Frame\+Handler object, Removes it from the handler list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a739be2fa5af3976cc46a1c6e4705fa43}{Send}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\+\_\+t}} \mbox{\hyperlink{ethernetframe_8h_ab7397a8498d13aec6dbc4fbf86cc051e}{destination\+MAC}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Send an packet via the backend driver. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a95cad129c9c0a16f40334bc373586412}{Checksum}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{length\+In\+Bytes}})
\begin{DoxyCompactList}\small\item\em Creates a checksum for the given data. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a3f7fcfa4bd0b8ea9dcc76d987affd875}{Create\+Internet\+Protocol\+Address}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit1}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit2}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit3}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit4}})
\begin{DoxyCompactList}\small\item\em Creates an IP address from four digits. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_afe355c241075103457e041325d9b86c0}{Parse}} (\mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} address)
\begin{DoxyCompactList}\small\item\em Parses a string representation of an IP address. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} Subnet\+Mask \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a381d0d9daecb7fd7118125cb1e083cd4}{Create\+Subnet\+Mask}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit1}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit2}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit3}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit4}})
\begin{DoxyCompactList}\small\item\em Creates a subnet mask from four digits. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a90fee0461e08b49e85dfc8fc3c617fd2}{Register\+IPV4\+Address\+Resolver}} (\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4AddressResolver}{IPV4\+Address\+Resolver}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9}{resolver}})
\begin{DoxyCompactList}\small\item\em Registers an IP address resolver. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Map}{common\+::\+Map}}$<$ uint8\+\_\+t, \mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4\+Payload\+Handler}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af250ac9a1c0a0cb1ad9db7f2f750d588}{IPV4\+Payload\+Handlers}}
\begin{DoxyCompactList}\small\item\em Map of IP protocol numbers to their payload handlers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4AddressResolver}{IPV4\+Address\+Resolver}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9}{resolver}} = nullptr
\begin{DoxyCompactList}\small\item\em The IP address resolver. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream}{common\+::\+Output\+Stream}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}{error\+Messages}}
\begin{DoxyCompactList}\small\item\em Stream to output error messages to. \end{DoxyCompactList}\item 
Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}{own\+Internet\+Protocol\+Address}}
\begin{DoxyCompactList}\small\item\em The IP address of this device. \end{DoxyCompactList}\item 
Internet\+Protocol\+Address \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f}{default\+Gateway\+Internet\+Protocol\+Address}}
\begin{DoxyCompactList}\small\item\em The IP address of the default gateway. \end{DoxyCompactList}\item 
Subnet\+Mask \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}{subnet\+Mask}}
\begin{DoxyCompactList}\small\item\em The subnet mask. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Payload\+Handler}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFrameHandler}{Ethernet\+Frame\+Handler}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_ac54f71ce7d512ba22a6f3306ad459a70}{frame\+Handler}}
\begin{DoxyCompactList}\small\item\em The Ethernet frame handler this payload handler is connected to. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a902f9382cf1085858a123e304550ad80}{handled\+Type}}
\begin{DoxyCompactList}\small\item\em The Ethernet frame type this handler handles. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_ae29860c45eab8c53070bc8abae3f9e6d}{IPV4\+Address\+Resolver}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles IPv4 packets over Ethernet frames. 

Definition at line \mbox{\hyperlink{ipv4_8h_source_l00081}{81}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_ae6157a2dba220eb761e339dffec52653}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_ae6157a2dba220eb761e339dffec52653} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!InternetProtocolHandler@{InternetProtocolHandler}}
\index{InternetProtocolHandler@{InternetProtocolHandler}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{InternetProtocolHandler()}{InternetProtocolHandler()}}
{\footnotesize\ttfamily Internet\+Protocol\+Handler\+::\+Internet\+Protocol\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFrameHandler}{Ethernet\+Frame\+Handler}} \texorpdfstring{$\ast$}{*}}]{backend,  }\item[{Internet\+Protocol\+Address}]{own\+Internet\+Protocol\+Address,  }\item[{Internet\+Protocol\+Address}]{default\+Gateway\+Internet\+Protocol\+Address,  }\item[{Subnet\+Mask}]{subnet\+Mask,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream}{common\+::\+Output\+Stream}} \texorpdfstring{$\ast$}{*}}]{error\+Messages }\end{DoxyParamCaption})}



Construct a new Internet Protocol Handler object. 


\begin{DoxyParams}{Parameters}
{\em backend} & The backend Ethernet frame handler. \\
\hline
{\em own\+Internet\+Protocol\+Address} & The IP address of this device. \\
\hline
{\em default\+Gateway\+Internet\+Protocol\+Address} & The IP address of the default gateway. \\
\hline
{\em subnet\+Mask} & The subnet mask. \\
\hline
{\em error\+Messages} & Where to write error messages. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00107}{107}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler}{EthernetFramePayloadHandler}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{backend}},\ 0x0800)}
\DoxyCodeLine{00109\ \{}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{comment}{//Store\ vars}}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{this}\ -\/>\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}{ownInternetProtocolAddress}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}{ownInternetProtocolAddress}};}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{this}\ -\/>\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f}{defaultGatewayInternetProtocolAddress}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f}{defaultGatewayInternetProtocolAddress}};}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{this}\ -\/>\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}{subnetMask}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}{subnetMask}};}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keyword}{this}\ -\/>\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}{errorMessages}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}{errorMessages}};}
\DoxyCodeLine{00115\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ipv4_8h_source_l00093}{default\+Gateway\+Internet\+Protocol\+Address}}, \mbox{\hyperlink{ipv4_8h_source_l00090}{error\+Messages}}, \mbox{\hyperlink{ipv4_8h_source_l00092}{own\+Internet\+Protocol\+Address}}, and \mbox{\hyperlink{ipv4_8h_source_l00094}{subnet\+Mask}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a95cad129c9c0a16f40334bc373586412}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a95cad129c9c0a16f40334bc373586412} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!Checksum@{Checksum}}
\index{Checksum@{Checksum}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{Checksum()}{Checksum()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\+\_\+t}} Internet\+Protocol\+Handler\+::\+Checksum (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{data,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{length\+In\+Bytes }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Creates a checksum for the given data. 


\begin{DoxyParams}{Parameters}
{\em data} & The data to create a checksum for. \\
\hline
{\em length\+In\+Bytes} & The length of the data in bytes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The checksum. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00234}{234}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Init\ sum}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{lengthInBytes}}/2;\ i++)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Loop\ through\ data\ (/2\ bc\ bytes)}}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ +=\ ((\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}[i]\ \&\ 0xFF00)\ >>\ 8)\ |\ ((\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}[i]\ \&\ 0x00FF)\ <<\ 8);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Add\ data\ to\ sum\ in\ big\ endian}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{lengthInBytes}}\ \%\ 2)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//If\ there\ is\ an\ odd\ number\ of\ bytes}}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ +=\ ((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\_t}})((\textcolor{keywordtype}{char}*)\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}})[\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{lengthInBytes}}-\/1])\ <<\ 8;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Add\ the\ last\ byte\ to\ the\ sum}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordflow}{while}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ \&\ 0xFFFF0000)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//While\ there\ is\ a\ carry}}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ \&\ 0xFFFF)\ +\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ >>\ 16);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Add\ the\ carry\ to\ the\ sum}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \textcolor{keywordflow}{return}\ ((\string~\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ \&\ 0xFF00)\ >>\ 8)\ |\ ((\string~\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ \&\ 0x00FF)\ <<\ 8);}
\DoxyCodeLine{00248\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{icmp_8h_source_l00004}{data}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00128}{handle\+Ethernetframe\+Payload()}}, \mbox{\hyperlink{icmp_8cpp_source_l00043}{Max\+OS\+::net\+::\+Internet\+Control\+Message\+Protocol\+::handle\+Internet\+Protocol\+Payload()}}, \mbox{\hyperlink{icmp_8cpp_source_l00084}{Max\+OS\+::net\+::\+Internet\+Control\+Message\+Protocol\+::\+Request\+Echo\+Reply()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00185}{send\+Internet\+Protocol\+Packet()}}, and \mbox{\hyperlink{tcp_8cpp_source_l00385}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::send\+Transmission\+Control\+Protocol\+Packet()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_ae912712622f50ac2a0d31c6781849ccb}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_ae912712622f50ac2a0d31c6781849ccb} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!connectIPV4PayloadHandler@{connectIPV4PayloadHandler}}
\index{connectIPV4PayloadHandler@{connectIPV4PayloadHandler}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{connectIPV4PayloadHandler()}{connectIPV4PayloadHandler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Internet\+Protocol\+Handler\+::connect\+IPV4\+Payload\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4\+Payload\+Handler}} \texorpdfstring{$\ast$}{*}}]{IPV4\+Payload\+Handler }\end{DoxyParamCaption})}



Connects an IP protocol payload handler. 


\begin{DoxyParams}{Parameters}
{\em \doxylink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4\+Payload\+Handler}} & The payload handler to connect. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00342}{342}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00343\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af250ac9a1c0a0cb1ad9db7f2f750d588}{IPV4PayloadHandlers}}.insert(\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4PayloadHandler}}\ -\/>\ ipProtocol,\ \mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4PayloadHandler}});}
\DoxyCodeLine{00344\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ipv4_8h_source_l00087}{IPV4\+Payload\+Handlers}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00054}{Max\+OS\+::net\+::\+IPV4\+Payload\+Handler\+::\+IPV4\+Payload\+Handler()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a3f7fcfa4bd0b8ea9dcc76d987affd875}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a3f7fcfa4bd0b8ea9dcc76d987affd875} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!CreateInternetProtocolAddress@{CreateInternetProtocolAddress}}
\index{CreateInternetProtocolAddress@{CreateInternetProtocolAddress}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{CreateInternetProtocolAddress()}{CreateInternetProtocolAddress()}}
{\footnotesize\ttfamily Internet\+Protocol\+Address Internet\+Protocol\+Handler\+::\+Create\+Internet\+Protocol\+Address (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit1,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit2,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit3,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit4 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Creates an IP address from four digits. 


\begin{DoxyParams}{Parameters}
{\em digit1} & The first digit. \\
\hline
{\em digit2} & The second digit. \\
\hline
{\em digit3} & The third digit. \\
\hline
{\em digit4} & The fourth digit.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The created IP address. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00271}{271}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00272\ \ \ \ \ InternetProtocolAddress\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit4}};}
\DoxyCodeLine{00273\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ <<\ 8)\ |\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit3}};}
\DoxyCodeLine{00274\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ <<\ 8)\ |\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit2}};}
\DoxyCodeLine{00275\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ <<\ 8)\ |\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit1}};}
\DoxyCodeLine{00276\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}};}
\DoxyCodeLine{00277\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00315}{Create\+Subnet\+Mask()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00285}{Parse()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a381d0d9daecb7fd7118125cb1e083cd4}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a381d0d9daecb7fd7118125cb1e083cd4} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!CreateSubnetMask@{CreateSubnetMask}}
\index{CreateSubnetMask@{CreateSubnetMask}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{CreateSubnetMask()}{CreateSubnetMask()}}
{\footnotesize\ttfamily Subnet\+Mask Internet\+Protocol\+Handler\+::\+Create\+Subnet\+Mask (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit1,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit2,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit3,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{digit4 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Creates a subnet mask from four digits. 


\begin{DoxyParams}{Parameters}
{\em digit1} & The first digit. \\
\hline
{\em digit2} & The second digit. \\
\hline
{\em digit3} & The third digit. \\
\hline
{\em digit4} & The fourth digit.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The created subnet mask. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00315}{315}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keywordflow}{return}\ (SubnetMask)\mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a3f7fcfa4bd0b8ea9dcc76d987affd875}{CreateInternetProtocolAddress}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit1}},\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit2}},\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit3}},\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit4}});}
\DoxyCodeLine{00317\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ipv4_8cpp_source_l00271}{Create\+Internet\+Protocol\+Address()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a1b07ff5f95fac500efa2c2ba0e661324}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a1b07ff5f95fac500efa2c2ba0e661324} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!GetInternetProtocolAddress@{GetInternetProtocolAddress}}
\index{GetInternetProtocolAddress@{GetInternetProtocolAddress}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{GetInternetProtocolAddress()}{GetInternetProtocolAddress()}}
{\footnotesize\ttfamily Internet\+Protocol\+Address Internet\+Protocol\+Handler\+::\+Get\+Internet\+Protocol\+Address (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Gets the IP address of this device. 

\begin{DoxyReturn}{Returns}
The IP address. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00324}{324}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}{ownInternetProtocolAddress}};}
\DoxyCodeLine{00326\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ipv4_8h_source_l00092}{own\+Internet\+Protocol\+Address}}.



Referenced by \mbox{\hyperlink{tcp_8cpp_source_l00449}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::\+Connect()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00128}{handle\+Ethernetframe\+Payload()}}, \mbox{\hyperlink{tcp_8cpp_source_l00516}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::\+Listen()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00185}{send\+Internet\+Protocol\+Packet()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a19e57b1275f830876149c174d7cba632}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a19e57b1275f830876149c174d7cba632} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!GetMediaAccessControlAddress@{GetMediaAccessControlAddress}}
\index{GetMediaAccessControlAddress@{GetMediaAccessControlAddress}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{GetMediaAccessControlAddress()}{GetMediaAccessControlAddress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{Media\+Access\+Control\+Address}} Internet\+Protocol\+Handler\+::\+Get\+Media\+Access\+Control\+Address (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the MAC address of this device. 

\begin{DoxyReturn}{Returns}
The MAC address. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00333}{333}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_ac54f71ce7d512ba22a6f3306ad459a70}{frameHandler}}\ -\/>\ getMAC();}
\DoxyCodeLine{00335\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ethernetframe_8h_source_l00054}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Payload\+Handler\+::frame\+Handler}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_ad3d1bb7473fe8b1c77a25ed14316d4b6}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_ad3d1bb7473fe8b1c77a25ed14316d4b6} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!handleEthernetframePayload@{handleEthernetframePayload}}
\index{handleEthernetframePayload@{handleEthernetframePayload}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{handleEthernetframePayload()}{handleEthernetframePayload()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{bool}} Internet\+Protocol\+Handler\+::handle\+Ethernetframe\+Payload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{ethernetframe\+Payload,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Called when an IP packet is received. 


\begin{DoxyParams}{Parameters}
{\em ethernetframe\+Payload} & The payload of the IP packet. \\
\hline
{\em size} & The size of the IP packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the packet is to be sent back, false otherwise.
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000066}{Todo}}]Set the identifier when sending packets back \end{DoxyRefDesc}


Reimplemented from \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a29c306ed3013ac7860f9facc04cb5a17}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Payload\+Handler}}.



Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00128}{128}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}{errorMessages}}\ -\/>\mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream_acd9ebbe1729dded0d4156f32ae77da95}{write}}(\textcolor{stringliteral}{"{}IP:\ Handling\ packet\(\backslash\)n"{}});}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{comment}{//Check\ if\ the\ size\ is\ big\ enough\ to\ contain\ an\ ethernet\ frame}}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ <\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}))}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{comment}{//Convert\ to\ struct\ for\ easier\ use}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ =\ (\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}*)\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ethernetframePayload}};}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sendBack}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{comment}{//Only\ handle\ if\ it\ is\ for\ this\ device}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_afcc7048c1d9643cebaf1806fa4de390e}{destinationIP}}\ ==\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a1b07ff5f95fac500efa2c2ba0e661324}{GetInternetProtocolAddress}}())}
\DoxyCodeLine{00142\ \ \ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{intel__i217_8h_aebb70c2aab3407a9f05334c47131a43b}{length}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a46d6b08cf598408355fa1fc5c1de902a}{totalLength}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Get\ length\ of\ the\ message}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{intel__i217_8h_aebb70c2aab3407a9f05334c47131a43b}{length}}\ >\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Check\ if\ the\ length\ is\ bigger\ than\ the\ size\ of\ the\ message}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{intel__i217_8h_aebb70c2aab3407a9f05334c47131a43b}{length}}\ =\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//If\ so,\ set\ length\ to\ size\ (this\ stops\ heartbleed\ attacks\ as\ it\ will\ not\ read\ past\ the\ end\ of\ the\ message,\ which\ the\ attacker\ could\ have\ filled\ with\ data)}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Get\ the\ handler\ for\ the\ protocol}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Pair}{Map<uint8\_t,\ IPV4PayloadHandler*>::iterator}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{handlerIterator}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af250ac9a1c0a0cb1ad9db7f2f750d588}{IPV4PayloadHandlers}}.find(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{arp_8h_ab551400c74271f35d0c79f81d29cffbb}{protocol}});}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{handlerIterator}}\ !=\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af250ac9a1c0a0cb1ad9db7f2f750d588}{IPV4PayloadHandlers}}.end())\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4PayloadHandler}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{handler}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{handlerIterator}}\ -\/>\ second;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{handler}}\ !=\ \textcolor{keyword}{nullptr})\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sendBack}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{handler}}\ -\/>\ handleInternetProtocolPayload(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_aed74aa5789cabec794d6961455e80db3}{sourceIP}},\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_afcc7048c1d9643cebaf1806fa4de390e}{destinationIP}},\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ethernetframePayload}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}),\ \mbox{\hyperlink{intel__i217_8h_aebb70c2aab3407a9f05334c47131a43b}{length}}\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}));}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//If\ the\ data\ is\ to\ be\ sent\ back\ again}}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sendBack}})\{}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Swap\ source\ and\ destination}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_afcc7048c1d9643cebaf1806fa4de390e}{destinationIP}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Store\ destination\ IP}}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_afcc7048c1d9643cebaf1806fa4de390e}{destinationIP}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_aed74aa5789cabec794d6961455e80db3}{sourceIP}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ destination\ IP\ to\ source\ IP}}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_aed74aa5789cabec794d6961455e80db3}{sourceIP}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{temp}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ source\ IP\ to\ destination\ IP}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a1c954c79d7e772d87d708498a586f206}{timeToLive}}\ =\ 0x40;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Reset\ TTL}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{intel__i217_8h_a59eac9627282a484fbaf0aa7aa3b8a9a}{checksum}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a95cad129c9c0a16f40334bc373586412}{Checksum}}((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\_t}}*)\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}},\ 4\ *\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{ipMessage}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_abf2b1d816d4e2e459b2ed1bda26cb904}{headerLength}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Reset\ checksum\ as\ the\ source\ and\ destination\ IP\ have\ changed\ so\ has\ the\ time\ to\ live\ and\ therefore\ there\ is\ a\ different\ header}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}{errorMessages}}\ -\/>\mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream_acd9ebbe1729dded0d4156f32ae77da95}{write}}(\textcolor{stringliteral}{"{}IP:\ Handled\ packet\(\backslash\)n"{}});}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sendBack}};}
\DoxyCodeLine{00174\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{intel__i217_8h_source_l00002}{checksum}}, \mbox{\hyperlink{ipv4_8cpp_source_l00234}{Checksum()}}, \mbox{\hyperlink{ipv4_8h_source_l00013}{destination\+IP}}, \mbox{\hyperlink{ipv4_8h_source_l00090}{error\+Messages}}, \mbox{\hyperlink{ipv4_8cpp_source_l00324}{Get\+Internet\+Protocol\+Address()}}, \mbox{\hyperlink{ipv4_8h_source_l00000}{header\+Length}}, \mbox{\hyperlink{ipv4_8h_source_l00087}{IPV4\+Payload\+Handlers}}, \mbox{\hyperlink{intel__i217_8h_source_l00001}{length}}, \mbox{\hyperlink{arp_8h_source_l00002}{protocol}}, \mbox{\hyperlink{ext2_8h_source_l00001}{size}}, \mbox{\hyperlink{ipv4_8h_source_l00012}{source\+IP}}, \mbox{\hyperlink{ipv4_8h_source_l00008}{time\+To\+Live}}, \mbox{\hyperlink{ipv4_8h_source_l00003}{total\+Length}}, and \mbox{\hyperlink{outputStream_8cpp_source_l00053}{Max\+OS\+::common\+::\+Output\+Stream\+::write()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_afe355c241075103457e041325d9b86c0}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_afe355c241075103457e041325d9b86c0} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!Parse@{Parse}}
\index{Parse@{Parse}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{Parse()}{Parse()}}
{\footnotesize\ttfamily Internet\+Protocol\+Address Internet\+Protocol\+Handler\+::\+Parse (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}}}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Parses a string representation of an IP address. 


\begin{DoxyParams}{Parameters}
{\em address} & The string representation of the IP address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The parsed IP address. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00285}{285}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00286\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[4];}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{currentDigit}}\ =\ 0;}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \&\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit}}\ :\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}})}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digit}}\ =\ 0;}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ address.length();\ i++)\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(address[i]\ ==\ \textcolor{charliteral}{'.'})\ \{}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{currentDigit}}++;}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{currentDigit}}]\ *=\ 10;}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{currentDigit}}]\ +=\ address[i]\ -\/\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{00300\ \ \ \ \ \}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a3f7fcfa4bd0b8ea9dcc76d987affd875}{CreateInternetProtocolAddress}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[0],\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[1],\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[2],\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{digits}}[3]);}
\DoxyCodeLine{00303\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ipv4_8cpp_source_l00271}{Create\+Internet\+Protocol\+Address()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a90fee0461e08b49e85dfc8fc3c617fd2}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a90fee0461e08b49e85dfc8fc3c617fd2} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!RegisterIPV4AddressResolver@{RegisterIPV4AddressResolver}}
\index{RegisterIPV4AddressResolver@{RegisterIPV4AddressResolver}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{RegisterIPV4AddressResolver()}{RegisterIPV4AddressResolver()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Internet\+Protocol\+Handler\+::\+Register\+IPV4\+Address\+Resolver (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4AddressResolver}{IPV4\+Address\+Resolver}} \texorpdfstring{$\ast$}{*}}]{resolver }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Registers an IP address resolver. 


\begin{DoxyParams}{Parameters}
{\em resolver} & The resolver to register. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00255}{255}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keyword}{this}\ -\/>\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9}{resolver}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9}{resolver}};}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ipv4_8h_source_l00089}{resolver}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a55f21552e4dcf3b2256e24f97db84142}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a55f21552e4dcf3b2256e24f97db84142} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!sendInternetProtocolPacket@{sendInternetProtocolPacket}}
\index{sendInternetProtocolPacket@{sendInternetProtocolPacket}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{sendInternetProtocolPacket()}{sendInternetProtocolPacket()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Internet\+Protocol\+Handler\+::send\+Internet\+Protocol\+Packet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{dst\+IP\+\_\+\+BE,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}}}]{protocol,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{data,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{size }\end{DoxyParamCaption})}



Sends an IP packet. 


\begin{DoxyParams}{Parameters}
{\em dst\+IP\+\_\+\+BE} & The destination IP address. \\
\hline
{\em protocol} & The protocol of the IP packet. \\
\hline
{\em data} & The payload of the IP packet. \\
\hline
{\em size} & The size of the IP packet. \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ipv4_8cpp_source_l00185}{185}} of file \mbox{\hyperlink{ipv4_8cpp_source}{ipv4.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keyword}{auto}*\ buffer\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\_t}}*)\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}{MemoryManager::kmalloc}}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}})\ +\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Allocate\ memory\ for\ the\ message}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ =\ (\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}*)buffer;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Convert\ to\ struct\ for\ easier\ use}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_ab22abc2906422da61885ac6c8e6a1a59}{version}}\ =\ 4;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ version}}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_abf2b1d816d4e2e459b2ed1bda26cb904}{headerLength}}\ =\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}})/4;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ header\ length}}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_ab0548e81efcf280a5ae280858e578cde}{typeOfService}}\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ type\ of\ service\ (not\ private)}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a46d6b08cf598408355fa1fc5c1de902a}{totalLength}}\ =\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ total\ length}}
\DoxyCodeLine{00195\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a46d6b08cf598408355fa1fc5c1de902a}{totalLength}}\ =\ ((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a46d6b08cf598408355fa1fc5c1de902a}{totalLength}}\ \&\ 0xFF00)\ >>\ 8)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ to\ big\ endian\ (Swap\ bytes)}}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ ((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a46d6b08cf598408355fa1fc5c1de902a}{totalLength}}\ \&\ 0x00FF)\ <<\ 8);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Convert\ to\ big\ endian\ (Swap\ bytes)}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a5868ad3e30cea561af39afae3efa4a7a}{identifier}}\ =\ 0x100;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ identification\ TODO:\ do\ properly}}
\DoxyCodeLine{00199\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_ae5fbba8e197a2e68174867191be7ddac}{flagsAndOffset}}\ =\ 0x0040;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ flags/offset,\ 0x40\ because\ we\ are\ not\ fragmenting\ (TODO:\ doesnt\ work\ for\ packets\ bigger\ than\ 1500\ bytes)}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_a1c954c79d7e772d87d708498a586f206}{timeToLive}}\ =\ 0x40;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ time\ to\ live}}
\DoxyCodeLine{00202\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{arp_8h_ab551400c74271f35d0c79f81d29cffbb}{protocol}}\ =\ \mbox{\hyperlink{arp_8h_ab551400c74271f35d0c79f81d29cffbb}{protocol}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ protocol}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_afcc7048c1d9643cebaf1806fa4de390e}{destinationIP}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{dstIP\_BE}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ destination\ IP}}
\DoxyCodeLine{00205\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{ipv4_8h_aed74aa5789cabec794d6961455e80db3}{sourceIP}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a1b07ff5f95fac500efa2c2ba0e661324}{GetInternetProtocolAddress}}();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ source\ IP}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{intel__i217_8h_a59eac9627282a484fbaf0aa7aa3b8a9a}{checksum}}\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ checksum\ to\ 0,\ init\ with\ 0\ as\ checksum\ funct\ will\ also\ add\ this\ value}}
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}}\ -\/>\ \mbox{\hyperlink{intel__i217_8h_a59eac9627282a484fbaf0aa7aa3b8a9a}{checksum}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a95cad129c9c0a16f40334bc373586412}{Checksum}}((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint16\_t}}*)\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{message}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}));\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Calculate\ checksum}}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{comment}{//Copy\ data}}
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint8\_t}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{data\_buffer}}\ =\ buffer\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Get\ pointer\ to\ the\ data}}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}};\ i++)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Loop\ through\ data}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{data\_buffer}}[i]\ =\ \mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}[i];\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Copy\ data}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{comment}{//Check\ if\ the\ destination\ is\ on\ the\ same\ subnet,\ The\ if\ condition\ determines\ if\ the\ destination\ device\ is\ on\ the\ same\ Local\ network\ as\ the\ source\ device\ .\ and\ if\ they\ are\ not\ on\ the\ same\ local\ network\ then\ we\ resolve\ the\ ip\ address\ of\ the\ gateway\ .}}
\DoxyCodeLine{00216\ \ \ \ \ InternetProtocolAddress\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{route}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{dstIP\_BE}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Set\ route\ to\ destination\ IP\ by\ default}}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordflow}{if}((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{dstIP\_BE}}\ \&\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}{subnetMask}})\ !=\ (\mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}{ownInternetProtocolAddress}}\ \&\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}{subnetMask}}))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Check\ if\ the\ destination\ is\ on\ the\ same\ subnet}}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{route}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f}{defaultGatewayInternetProtocolAddress}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//If\ not,\ set\ route\ to\ gateway\ IP}}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Print\ debug\ info}}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{MAC}}\ =\ \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9}{resolver}}\ -\/>\mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4AddressResolver_a788d824dc4bb0f42b97043e6b7cb0607}{Resolve}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{route}});}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{comment}{//Send\ message}}
\DoxyCodeLine{00223\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_ac54f71ce7d512ba22a6f3306ad459a70}{frameHandler}}\ -\/>\ sendEthernetFrame(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{MAC}},\ \textcolor{keyword}{this}\ -\/>\ \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a902f9382cf1085858a123e304550ad80}{handledType}},\ buffer,\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1IPV4Header}{IPV4Header}}));\ \ \ \ \ \ \textcolor{comment}{//Send\ message}}
\DoxyCodeLine{00224\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}{MemoryManager::kfree}}(buffer);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//Free\ memory}}
\DoxyCodeLine{00225\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{intel__i217_8h_source_l00002}{checksum}}, \mbox{\hyperlink{ipv4_8cpp_source_l00234}{Checksum()}}, \mbox{\hyperlink{icmp_8h_source_l00004}{data}}, \mbox{\hyperlink{ipv4_8h_source_l00093}{default\+Gateway\+Internet\+Protocol\+Address}}, \mbox{\hyperlink{ipv4_8h_source_l00013}{destination\+IP}}, \mbox{\hyperlink{ipv4_8h_source_l00006}{flags\+And\+Offset}}, \mbox{\hyperlink{ethernetframe_8h_source_l00054}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Payload\+Handler\+::frame\+Handler}}, \mbox{\hyperlink{ipv4_8cpp_source_l00324}{Get\+Internet\+Protocol\+Address()}}, \mbox{\hyperlink{ethernetframe_8h_source_l00055}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Payload\+Handler\+::handled\+Type}}, \mbox{\hyperlink{ipv4_8h_source_l00000}{header\+Length}}, \mbox{\hyperlink{ipv4_8h_source_l00005}{identifier}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00170}{Max\+OS\+::memory\+::\+Memory\+Manager\+::kfree()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00083}{Max\+OS\+::memory\+::\+Memory\+Manager\+::kmalloc()}}, \mbox{\hyperlink{ipv4_8h_source_l00092}{own\+Internet\+Protocol\+Address}}, \mbox{\hyperlink{arp_8h_source_l00002}{protocol}}, \mbox{\hyperlink{ipv4_8cpp_source_l00038}{Max\+OS\+::net\+::\+IPV4\+Address\+Resolver\+::\+Resolve()}}, \mbox{\hyperlink{ipv4_8h_source_l00089}{resolver}}, \mbox{\hyperlink{ext2_8h_source_l00001}{size}}, \mbox{\hyperlink{ipv4_8h_source_l00012}{source\+IP}}, \mbox{\hyperlink{ipv4_8h_source_l00094}{subnet\+Mask}}, \mbox{\hyperlink{ipv4_8h_source_l00008}{time\+To\+Live}}, \mbox{\hyperlink{ipv4_8h_source_l00003}{total\+Length}}, \mbox{\hyperlink{ipv4_8h_source_l00002}{type\+Of\+Service}}, and \mbox{\hyperlink{ipv4_8h_source_l00001}{version}}.



\doxysubsection{Friends And Related Symbol Documentation}
\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_ae29860c45eab8c53070bc8abae3f9e6d}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_ae29860c45eab8c53070bc8abae3f9e6d} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!IPV4AddressResolver@{IPV4AddressResolver}}
\index{IPV4AddressResolver@{IPV4AddressResolver}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{IPV4AddressResolver}{IPV4AddressResolver}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4AddressResolver}{IPV4\+Address\+Resolver}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00083}{83}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_aedf2d70f9d2b9ff838e31917b093499f} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!defaultGatewayInternetProtocolAddress@{defaultGatewayInternetProtocolAddress}}
\index{defaultGatewayInternetProtocolAddress@{defaultGatewayInternetProtocolAddress}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{defaultGatewayInternetProtocolAddress}{defaultGatewayInternetProtocolAddress}}
{\footnotesize\ttfamily Internet\+Protocol\+Address Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::default\+Gateway\+Internet\+Protocol\+Address\hspace{0.3cm}{\ttfamily [protected]}}



The IP address of the default gateway. 



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00093}{93}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00107}{Internet\+Protocol\+Handler()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00185}{send\+Internet\+Protocol\+Packet()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a25f68427ce3892eb029d819c96eae55e} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!errorMessages@{errorMessages}}
\index{errorMessages@{errorMessages}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{errorMessages}{errorMessages}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream}{common\+::\+Output\+Stream}}\texorpdfstring{$\ast$}{*} Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::error\+Messages\hspace{0.3cm}{\ttfamily [protected]}}



Stream to output error messages to. 



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00090}{90}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00128}{handle\+Ethernetframe\+Payload()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00107}{Internet\+Protocol\+Handler()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_af250ac9a1c0a0cb1ad9db7f2f750d588}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_af250ac9a1c0a0cb1ad9db7f2f750d588} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!IPV4PayloadHandlers@{IPV4PayloadHandlers}}
\index{IPV4PayloadHandlers@{IPV4PayloadHandlers}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{IPV4PayloadHandlers}{IPV4PayloadHandlers}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Map}{common\+::\+Map}}$<$uint8\+\_\+t, \mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4PayloadHandler}{IPV4\+Payload\+Handler}}\texorpdfstring{$\ast$}{*}$>$ Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::\+IPV4\+Payload\+Handlers\hspace{0.3cm}{\ttfamily [protected]}}



Map of IP protocol numbers to their payload handlers. 



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00087}{87}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00342}{connect\+IPV4\+Payload\+Handler()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00128}{handle\+Ethernetframe\+Payload()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_aa0f90002940b50c7ad0d433a4cf0e01e} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!ownInternetProtocolAddress@{ownInternetProtocolAddress}}
\index{ownInternetProtocolAddress@{ownInternetProtocolAddress}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{ownInternetProtocolAddress}{ownInternetProtocolAddress}}
{\footnotesize\ttfamily Internet\+Protocol\+Address Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::own\+Internet\+Protocol\+Address\hspace{0.3cm}{\ttfamily [protected]}}



The IP address of this device. 



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00092}{92}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00324}{Get\+Internet\+Protocol\+Address()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00107}{Internet\+Protocol\+Handler()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00185}{send\+Internet\+Protocol\+Packet()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_a5a1696bf5e661719d4d65b42736717f9} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!resolver@{resolver}}
\index{resolver@{resolver}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{resolver}{resolver}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1net_1_1IPV4AddressResolver}{IPV4\+Address\+Resolver}}\texorpdfstring{$\ast$}{*} Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::resolver = nullptr\hspace{0.3cm}{\ttfamily [protected]}}



The IP address resolver. 



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00089}{89}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00255}{Register\+IPV4\+Address\+Resolver()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00185}{send\+Internet\+Protocol\+Packet()}}.

\Hypertarget{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7}\label{classMaxOS_1_1net_1_1InternetProtocolHandler_af447a51eb097abba8be48fdb18eae6a7} 
\index{MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}!subnetMask@{subnetMask}}
\index{subnetMask@{subnetMask}!MaxOS::net::InternetProtocolHandler@{MaxOS::net::InternetProtocolHandler}}
\doxysubsubsection{\texorpdfstring{subnetMask}{subnetMask}}
{\footnotesize\ttfamily Subnet\+Mask Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::subnet\+Mask\hspace{0.3cm}{\ttfamily [protected]}}



The subnet mask. 



Definition at line \mbox{\hyperlink{ipv4_8h_source_l00094}{94}} of file \mbox{\hyperlink{ipv4_8h_source}{ipv4.\+h}}.



Referenced by \mbox{\hyperlink{ipv4_8cpp_source_l00107}{Internet\+Protocol\+Handler()}}, and \mbox{\hyperlink{ipv4_8cpp_source_l00185}{send\+Internet\+Protocol\+Packet()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/net/\mbox{\hyperlink{ipv4_8h}{ipv4.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/net/\mbox{\hyperlink{ipv4_8cpp}{ipv4.\+cpp}}\end{DoxyCompactItemize}
