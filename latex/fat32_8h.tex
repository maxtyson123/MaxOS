\doxysection{/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/filesystem/format/fat32.h File Reference}
\hypertarget{fat32_8h}{}\label{fat32_8h}\index{/home/runner/work/MaxOS/MaxOS/kernel/include/filesystem/format/fat32.h@{/home/runner/work/MaxOS/MaxOS/kernel/include/filesystem/format/fat32.h}}


Defines structures and constants for the File Allocation Table 32 (FAT32) filesystem format and the relevant Filesystem, Directory and File classes.  


{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include $<$common/macros.\+h$>$}\newline
{\ttfamily \#include $<$drivers/disk/disk.\+h$>$}\newline
{\ttfamily \#include $<$filesystem/filesystem.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1BiosParameterBlock32}{Max\+OS\+::filesystem\+::format\+::\+Bios\+Parameter\+Block32}}
\begin{DoxyCompactList}\small\item\em Stores information about the FAT32 filesystem. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{Max\+OS\+::filesystem\+::format\+::\+FSInfo}}
\begin{DoxyCompactList}\small\item\em Stores extra information about the FAT32 filesystem. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1DirectoryEntry}{Max\+OS\+::filesystem\+::format\+::\+Directory\+Entry}}
\begin{DoxyCompactList}\small\item\em Stores information about a file or directory. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1LongFileNameEntry}{Max\+OS\+::filesystem\+::format\+::\+Long\+File\+Name\+Entry}}
\begin{DoxyCompactList}\small\item\em \doxylink{classMaxOS_1_1filesystem_1_1Directory}{Directory} entry for a long file name. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume}}
\begin{DoxyCompactList}\small\item\em Handles the FAT table that stores the information about the files on the disk and operations on the disk. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32File}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File}}
\begin{DoxyCompactList}\small\item\em Handles the file operations on the FAT32 filesystem. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Directory}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory}}
\begin{DoxyCompactList}\small\item\em Handles the directory operations on the FAT32 filesystem. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32FileSystem}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+System}}
\begin{DoxyCompactList}\small\item\em Handles the FAT32 filesystem operations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{fat32_8h_a2ba33b609f3c70c779f813652c043f0c}\label{fat32_8h_a2ba33b609f3c70c779f813652c043f0c} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1BiosParameterBlock32}{Max\+OS\+::filesystem\+::format\+::\+Bios\+Parameter\+Block32}} {\bfseries Max\+OS\+::filesystem\+::format\+::bpb32\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1filesystem_1_1format_1_1BiosParameterBlock32}{Bios\+Parameter\+Block32} struct. \end{DoxyCompactList}\item 
\Hypertarget{fat32_8h_a7e9030d3efceeca587938b5402643423}\label{fat32_8h_a7e9030d3efceeca587938b5402643423} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{Max\+OS\+::filesystem\+::format\+::\+FSInfo}} {\bfseries Max\+OS\+::filesystem\+::format\+::fs\+\_\+info\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{FSInfo} struct. \end{DoxyCompactList}\item 
\Hypertarget{fat32_8h_abfb5b0d8f0d8f55352e5a36ace46c5e6}\label{fat32_8h_abfb5b0d8f0d8f55352e5a36ace46c5e6} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1DirectoryEntry}{Max\+OS\+::filesystem\+::format\+::\+Directory\+Entry}} {\bfseries Max\+OS\+::filesystem\+::format\+::dir\+\_\+entry\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1filesystem_1_1format_1_1DirectoryEntry}{Directory\+Entry} struct. \end{DoxyCompactList}\item 
\Hypertarget{fat32_8h_a3e1b4e115bd8dc4671015a632a5b4da4}\label{fat32_8h_a3e1b4e115bd8dc4671015a632a5b4da4} 
typedef struct PACKED \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1format_1_1LongFileNameEntry}{Max\+OS\+::filesystem\+::format\+::\+Long\+File\+Name\+Entry}} {\bfseries Max\+OS\+::filesystem\+::format\+::long\+\_\+file\+\_\+name\+\_\+entry\+\_\+t}
\begin{DoxyCompactList}\small\item\em Alias for \doxylink{structMaxOS_1_1filesystem_1_1format_1_1LongFileNameEntry}{Long\+File\+Name\+Entry} struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{fat32_8h_a7507baa8014895f34c2e559bb7ab38eb}{Max\+OS\+::filesystem\+::format\+::\+Directory\+Entry\+Attributes}} \{ \newline
{\bfseries FREE} = 0x00
, {\bfseries READ\+\_\+\+ONLY} = 0x01
, {\bfseries HIDDEN} = 0x02
, {\bfseries SYSTEM} = 0x04
, \newline
{\bfseries VOLUME\+\_\+\+ID} = 0x08
, {\bfseries DIRECTORY} = 0x10
, {\bfseries ARCHIVE} = 0x20
, {\bfseries LONG\+\_\+\+NAME} = READ\+\_\+\+ONLY \texorpdfstring{$\vert$}{|} HIDDEN \texorpdfstring{$\vert$}{|} SYSTEM \texorpdfstring{$\vert$}{|} VOLUME\+\_\+\+ID
 \}
\begin{DoxyCompactList}\small\item\em Flags for a directory entry in a FAT32 System. \end{DoxyCompactList}\item 
enum class \mbox{\hyperlink{fat32_8h_ada91f9a29bc3902c44576cc1e84a4b53}{Max\+OS\+::filesystem\+::format\+::\+Directory\+Entry\+Type}} \{ {\bfseries LAST} = 0x00
, {\bfseries FREE} = 0x\+E5
 \}
\begin{DoxyCompactList}\small\item\em The type of a directory entry. \end{DoxyCompactList}\item 
enum class \mbox{\hyperlink{fat32_8h_a21e185e98587cd02f56fcd5b93cafe64}{Max\+OS\+::filesystem\+::format\+::\+Cluster\+State}} \+: uint32\+\_\+t \{ {\bfseries FREE} = 0x00000000
, {\bfseries BAD} = 0x0\+FFFFFF7
, {\bfseries END\+\_\+\+OF\+\_\+\+CHAIN} = 0x\+FFFFFFFF
 \}
\begin{DoxyCompactList}\small\item\em The state of a cluster in the FAT32 filesystem. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr uint16\+\_\+t \mbox{\hyperlink{fat32_8h_a9baeecdd87b0c5c2ef2bc02bb838307d}{Max\+OS\+::filesystem\+::format\+::\+MAX\+\_\+\+NAME\+\_\+\+LENGTH}} = 255
\begin{DoxyCompactList}\small\item\em Highest number of characters in a file/directory name. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Defines structures and constants for the File Allocation Table 32 (FAT32) filesystem format and the relevant Filesystem, Directory and File classes. 

\begin{DoxyDate}{Date}
1st January 2023 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Max Tyson
\end{DoxyAuthor}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000016}{Todo}}]BUG\+: Subdirectory seems to write to the disk this end but tools like fatcat complain the that the EOC isn\textquotesingle{}t written (cluster 3037) 

Implment\+: create/delete/rename files \& directories \end{DoxyRefDesc}


Definition in file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{fat32_8h_a21e185e98587cd02f56fcd5b93cafe64}\label{fat32_8h_a21e185e98587cd02f56fcd5b93cafe64} 
\index{fat32.h@{fat32.h}!ClusterState@{ClusterState}}
\index{ClusterState@{ClusterState}!fat32.h@{fat32.h}}
\doxysubsubsection{\texorpdfstring{ClusterState}{ClusterState}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{fat32_8h_a21e185e98587cd02f56fcd5b93cafe64}{Max\+OS\+::filesystem\+::format\+::\+Cluster\+State}} \+: uint32\+\_\+t\hspace{0.3cm}{\ttfamily [strong]}}



The state of a cluster in the FAT32 filesystem. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00158}{158}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ uint32\_t\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ FREE\ =\ 0x00000000,}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ BAD\ =\ 0x0FFFFFF7,}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ END\_OF\_CHAIN\ =\ 0xFFFFFFFF,}
\DoxyCodeLine{00162\ \ \ \ \ \};}

\end{DoxyCode}
\Hypertarget{fat32_8h_a7507baa8014895f34c2e559bb7ab38eb}\label{fat32_8h_a7507baa8014895f34c2e559bb7ab38eb} 
\index{fat32.h@{fat32.h}!DirectoryEntryAttributes@{DirectoryEntryAttributes}}
\index{DirectoryEntryAttributes@{DirectoryEntryAttributes}!fat32.h@{fat32.h}}
\doxysubsubsection{\texorpdfstring{DirectoryEntryAttributes}{DirectoryEntryAttributes}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{fat32_8h_a7507baa8014895f34c2e559bb7ab38eb}{Max\+OS\+::filesystem\+::format\+::\+Directory\+Entry\+Attributes}}\hspace{0.3cm}{\ttfamily [strong]}}



Flags for a directory entry in a FAT32 System. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00115}{115}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ FREE\ =\ 0x00,}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ READ\_ONLY\ =\ 0x01,}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ HIDDEN\ =\ 0x02,}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ SYSTEM\ =\ 0x04,}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ VOLUME\_ID\ =\ 0x08,}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ DIRECTORY\ =\ 0x10,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ ARCHIVE\ =\ 0x20,}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ LONG\_NAME\ =\ READ\_ONLY\ |\ HIDDEN\ |\ SYSTEM\ |\ VOLUME\_ID,}
\DoxyCodeLine{00124\ \ \ \ \ \};}

\end{DoxyCode}
\Hypertarget{fat32_8h_ada91f9a29bc3902c44576cc1e84a4b53}\label{fat32_8h_ada91f9a29bc3902c44576cc1e84a4b53} 
\index{fat32.h@{fat32.h}!DirectoryEntryType@{DirectoryEntryType}}
\index{DirectoryEntryType@{DirectoryEntryType}!fat32.h@{fat32.h}}
\doxysubsubsection{\texorpdfstring{DirectoryEntryType}{DirectoryEntryType}}
{\footnotesize\ttfamily enum class \mbox{\hyperlink{fat32_8h_ada91f9a29bc3902c44576cc1e84a4b53}{Max\+OS\+::filesystem\+::format\+::\+Directory\+Entry\+Type}}\hspace{0.3cm}{\ttfamily [strong]}}



The type of a directory entry. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00130}{130}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ LAST\ =\ 0x00,}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ FREE\ =\ 0xE5,}
\DoxyCodeLine{00133\ \ \ \ \ \};}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{fat32_8h_a9baeecdd87b0c5c2ef2bc02bb838307d}\label{fat32_8h_a9baeecdd87b0c5c2ef2bc02bb838307d} 
\index{fat32.h@{fat32.h}!MAX\_NAME\_LENGTH@{MAX\_NAME\_LENGTH}}
\index{MAX\_NAME\_LENGTH@{MAX\_NAME\_LENGTH}!fat32.h@{fat32.h}}
\doxysubsubsection{\texorpdfstring{MAX\_NAME\_LENGTH}{MAX\_NAME\_LENGTH}}
{\footnotesize\ttfamily constexpr uint16\+\_\+t Max\+OS\+::filesystem\+::format\+::\+MAX\+\_\+\+NAME\+\_\+\+LENGTH = 255\hspace{0.3cm}{\ttfamily [constexpr]}}



Highest number of characters in a file/directory name. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00165}{165}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00890}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory\+::create\+\_\+file()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00933}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory\+::create\+\_\+subdirectory()}}.

