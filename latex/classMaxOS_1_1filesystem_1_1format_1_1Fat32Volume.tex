\doxysection{Max\+OS\+::filesystem\+::format\+::Fat32\+Volume Class Reference}
\hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume}{}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume}\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}


Handles the FAT table that stores the information about the files on the disk and operations on the disk.  




{\ttfamily \#include $<$fat32.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37d49499071a45b3148a4f2f5b7bc85b}{Fat32\+Volume}} (\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk}{drivers\+::disk\+::\+Disk}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}, \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} partition\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Construct a new Fat32 Volume object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\+\_\+cluster}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}) \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}}
\begin{DoxyCompactList}\small\item\em Take the cluster and gets the next cluster in the chain. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219}{set\+\_\+next\+\_\+cluster}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\+\_\+cluster}}) \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}}
\begin{DoxyCompactList}\small\item\em Sets the next cluster in the chain (where the base cluster should point) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a190ff7a36a0d036c81d6f098538a06c0}{find\+\_\+free\+\_\+cluster}} () \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}}
\begin{DoxyCompactList}\small\item\em Searches the fat table for a free cluster starting from the first free cluster in the fsinfo, will then wrap around. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2ad6d0cd23155bcee69a6c712edd3d5e}{allocate\+\_\+cluster}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}})
\begin{DoxyCompactList}\small\item\em Allocate a cluster in the FAT table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a4b6b16063eca806447da97bc16d5e5e3}{allocate\+\_\+cluster}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}})
\begin{DoxyCompactList}\small\item\em Allocate a number of clusters in the FAT table, updates the fsinfo and the chain. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37ab9f38bf0e1aeed0968dbffa9dccec}{free\+\_\+cluster}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}})
\begin{DoxyCompactList}\small\item\em Free a cluster in the FAT table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a15dc2308b11f88e74f3a7ec8c997fffc}{free\+\_\+cluster}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}})
\begin{DoxyCompactList}\small\item\em Free a number of clusters in the FAT table. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{fat32_8h_a2ba33b609f3c70c779f813652c043f0c}{bpb32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}} = \{ \}
\begin{DoxyCompactList}\small\item\em The BIOS Parameter Block for the FAT32 volume. \end{DoxyCompactList}\item 
\mbox{\hyperlink{fat32_8h_a7e9030d3efceeca587938b5402643423}{fs\+\_\+info\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}} = \{ \}
\begin{DoxyCompactList}\small\item\em The \doxylink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{FSInfo} structure for the FAT32 volume. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\+\_\+total\+\_\+clusters}}
\begin{DoxyCompactList}\small\item\em How many clusters are in the FAT table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1}{fat\+\_\+lba}}
\begin{DoxyCompactList}\small\item\em The starting LBA of the FAT table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8}{fat\+\_\+info\+\_\+lba}}
\begin{DoxyCompactList}\small\item\em The LBA of the \doxylink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{FSInfo} structure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ab7d0b75ebd4c8e9a4f9cb698b31bae21}{fat\+\_\+copies}}
\begin{DoxyCompactList}\small\item\em How many FAT tables are present. \end{DoxyCompactList}\item 
\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aba48c72b1770313b4b4a9a01af962008}{data\+\_\+lba}}
\begin{DoxyCompactList}\small\item\em The starting LBA of the data region. \end{DoxyCompactList}\item 
\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aa8e35edc75d20219e76ac30b5e4fa56f}{root\+\_\+lba}}
\begin{DoxyCompactList}\small\item\em The starting LBA of the root directory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk}{drivers\+::disk\+::\+Disk}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}
\begin{DoxyCompactList}\small\item\em The disk that this volume is on. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles the FAT table that stores the information about the files on the disk and operations on the disk. 

Definition at line \mbox{\hyperlink{fat32_8h_source_l00171}{171}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37d49499071a45b3148a4f2f5b7bc85b}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37d49499071a45b3148a4f2f5b7bc85b} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!Fat32Volume@{Fat32Volume}}
\index{Fat32Volume@{Fat32Volume}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{Fat32Volume()}{Fat32Volume()}}
{\footnotesize\ttfamily Fat32\+Volume\+::\+Fat32\+Volume (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk}{drivers\+::disk\+::\+Disk}} \texorpdfstring{$\ast$}{*}}]{disk,  }\item[{\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}}}]{partition\+\_\+offset }\end{DoxyParamCaption})}



Construct a new Fat32 Volume object. 


\begin{DoxyParams}{Parameters}
{\em disk} & The disk to read from \\
\hline
{\em partition\+\_\+offset} & The offset of the partition on the disk \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00026}{26}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}})\ \{}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ BIOS\ parameter\ block}}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{bpb\_buffer}}(\&\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{fat32_8h_a2ba33b609f3c70c779f813652c043f0c}{bpb32\_t}}));}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a9fa1c1952cece4f322ba0f2552f16c24}{read}}(partition\_offset,\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{bpb\_buffer}});}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{comment}{//\ Parse\ the\ FAT\ info}}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{total\_data\_sectors}}\ =}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.total\_sectors\_32\ -\/\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.reserved\_sectors\ +\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.table\_copies\ *\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.table\_size\_32));}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\_total\_clusters}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{total\_data\_sectors}}\ /\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.sectors\_per\_cluster;}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1}{fat\_lba}}\ =\ partition\_offset\ +\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.reserved\_sectors;}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ab7d0b75ebd4c8e9a4f9cb698b31bae21}{fat\_copies}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.table\_copies;}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8}{fat\_info\_lba}}\ =\ partition\_offset\ +\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.fat\_info;}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aba48c72b1770313b4b4a9a01af962008}{data\_lba}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1}{fat\_lba}}\ +\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.table\_copies\ *\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.table\_size\_32);}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aa8e35edc75d20219e76ac30b5e4fa56f}{root\_lba}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aba48c72b1770313b4b4a9a01af962008}{data\_lba}}\ +\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.sectors\_per\_cluster\ *\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.root\_cluster\ -\/\ 2);}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ fs\ info}}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fs\_buffer}}(\&\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{fat32_8h_a7e9030d3efceeca587938b5402643423}{fs\_info\_t}}));}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a9fa1c1952cece4f322ba0f2552f16c24}{read}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8}{fat\_info\_lba}},\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fs\_buffer}});}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ Validate\ the\ fat\ information}}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.lead\_signature\ !=\ 0x41615252\ ||\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.structure\_signature\ !=\ 0x61417272\ ||}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.trail\_signature\ !=\ 0xAA550000)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1Logger_a9d5741991cc756d6abb2ca80b019e137}{Logger::ERROR}}()\ <<\ \textcolor{stringliteral}{"{}Invalid\ FAT32\ filesystem\ information\ TODO:\ Handle\ this\(\backslash\)n"{}};}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00052\ \ \ \ \ \}}
\DoxyCodeLine{00053\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8h_source_l00176}{bpb}}, \mbox{\hyperlink{fat32_8h_source_l00184}{data\+\_\+lba}}, \mbox{\hyperlink{fat32_8h_source_l00187}{disk}}, \mbox{\hyperlink{logger_8cpp_source_l00216}{Max\+OS\+::\+Logger\+::\+ERROR()}}, \mbox{\hyperlink{fat32_8h_source_l00182}{fat\+\_\+copies}}, \mbox{\hyperlink{fat32_8h_source_l00181}{fat\+\_\+info\+\_\+lba}}, \mbox{\hyperlink{fat32_8h_source_l00180}{fat\+\_\+lba}}, \mbox{\hyperlink{fat32_8h_source_l00179}{fat\+\_\+total\+\_\+clusters}}, \mbox{\hyperlink{fat32_8h_source_l00177}{fsinfo}}, \mbox{\hyperlink{disk_8cpp_source_l00026}{Max\+OS\+::drivers\+::disk\+::\+Disk\+::read()}}, and \mbox{\hyperlink{fat32_8h_source_l00185}{root\+\_\+lba}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2ad6d0cd23155bcee69a6c712edd3d5e}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2ad6d0cd23155bcee69a6c712edd3d5e} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!allocate\_cluster@{allocate\_cluster}}
\index{allocate\_cluster@{allocate\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{allocate\_cluster()}{allocate\_cluster()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} Fat32\+Volume\+::allocate\+\_\+cluster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{cluster }\end{DoxyParamCaption})}



Allocate a cluster in the FAT table. 


\begin{DoxyParams}{Parameters}
{\em cluster} & The base cluster to start from or 0 if this is a new chain \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next cluster in the chain 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00141}{141}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{comment}{//\ Allocate\ 1\ cluster}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2ad6d0cd23155bcee69a6c712edd3d5e}{allocate\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}},\ 1);}
\DoxyCodeLine{00145\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8cpp_source_l00141}{allocate\+\_\+cluster()}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00141}{allocate\+\_\+cluster()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00260}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a4b6b16063eca806447da97bc16d5e5e3}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a4b6b16063eca806447da97bc16d5e5e3} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!allocate\_cluster@{allocate\_cluster}}
\index{allocate\_cluster@{allocate\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{allocate\_cluster()}{allocate\_cluster()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} Fat32\+Volume\+::allocate\+\_\+cluster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{cluster,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{amount }\end{DoxyParamCaption})}



Allocate a number of clusters in the FAT table, updates the fsinfo and the chain. 


\begin{DoxyParams}{Parameters}
{\em cluster} & The base cluster to start from or 0 if this is a new chain \\
\hline
{\em amount} & The number of clusters to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next cluster in the chain 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00154}{154}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ within\ bounds}}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ >\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\_total\_clusters}}\ ||\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ +\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}}\ >\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\_total\_clusters}})}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ Go\ through\ allocating\ the\ clusters}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}};\ i++)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a190ff7a36a0d036c81d6f098538a06c0}{find\_free\_cluster}}();}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ fsinfo}}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.next\_free\_cluster\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}}\ +\ 1;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.free\_cluster\_count\ -\/=\ 1;}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ an\ existing\ chain\ it\ needs\ to\ be\ updated}}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ !=\ 0)}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219}{set\_next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}},\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}});}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}};}
\DoxyCodeLine{00173\ \ \ \ \ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{comment}{//\ Once\ all\ the\ updates\ are\ done\ flush\ the\ changes\ to\ the\ disk}}
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fs\_info\_buffer}}(\&\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{fat32_8h_a7e9030d3efceeca587938b5402643423}{fs\_info\_t}}));}
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a849c586fbc52b1994c282492addc4772}{write}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8}{fat\_info\_lba}},\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fs\_info\_buffer}});}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ Finish\ the\ chain}}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219}{set\_next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}},\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}})\ ClusterState::END\_OF\_CHAIN);}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}};}
\DoxyCodeLine{00182\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8h_source_l00187}{disk}}, \mbox{\hyperlink{fat32_8h_source_l00181}{fat\+\_\+info\+\_\+lba}}, \mbox{\hyperlink{fat32_8h_source_l00179}{fat\+\_\+total\+\_\+clusters}}, \mbox{\hyperlink{fat32_8cpp_source_l00119}{find\+\_\+free\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8h_source_l00177}{fsinfo}}, \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}, and \mbox{\hyperlink{disk_8cpp_source_l00050}{Max\+OS\+::drivers\+::disk\+::\+Disk\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a190ff7a36a0d036c81d6f098538a06c0}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a190ff7a36a0d036c81d6f098538a06c0} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!find\_free\_cluster@{find\_free\_cluster}}
\index{find\_free\_cluster@{find\_free\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{find\_free\_cluster()}{find\_free\_cluster()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} Fat32\+Volume\+::find\+\_\+free\+\_\+cluster (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Searches the fat table for a free cluster starting from the first free cluster in the fsinfo, will then wrap around. 

\begin{DoxyReturn}{Returns}
The first free cluster in the FAT table 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00119}{119}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ first\ free\ cluster}}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.next\_free\_cluster;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}}\ <\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\_total\_clusters}}\ +\ 1;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}}++)}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}})\ ==\ 0)}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ Check\ any\ clusters\ before\ the\ first\ free\ cluster}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}}\ =\ 2;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}}\ <\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.next\_free\_cluster;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}}++)}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}})\ ==\ 0)}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{start}};}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{logger_8h_adf7b5d69e4c25995b3211b91b27f33b6}{ASSERT}}(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}No\ free\ clusters\ found\ in\ the\ FAT\ table"{}});}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00133\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{logger_8h_source_l00100}{ASSERT}}, \mbox{\hyperlink{fat32_8h_source_l00179}{fat\+\_\+total\+\_\+clusters}}, \mbox{\hyperlink{fat32_8h_source_l00177}{fsinfo}}, and \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37ab9f38bf0e1aeed0968dbffa9dccec}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37ab9f38bf0e1aeed0968dbffa9dccec} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!free\_cluster@{free\_cluster}}
\index{free\_cluster@{free\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{free\_cluster()}{free\_cluster()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Fat32\+Volume\+::free\+\_\+cluster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{cluster }\end{DoxyParamCaption})}



Free a cluster in the FAT table. 


\begin{DoxyParams}{Parameters}
{\em cluster} & The base cluster to start from \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00189}{189}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{comment}{//\ Free\ 1\ cluster}}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a37ab9f38bf0e1aeed0968dbffa9dccec}{free\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}},\ 1);}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8cpp_source_l00189}{free\+\_\+cluster()}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00189}{free\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a15dc2308b11f88e74f3a7ec8c997fffc}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a15dc2308b11f88e74f3a7ec8c997fffc} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!free\_cluster@{free\_cluster}}
\index{free\_cluster@{free\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{free\_cluster()}{free\_cluster()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Fat32\+Volume\+::free\+\_\+cluster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{cluster,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{amount }\end{DoxyParamCaption})}



Free a number of clusters in the FAT table. 


\begin{DoxyParams}{Parameters}
{\em cluster} & The base cluster to start from \\
\hline
{\em amount} & The number of clusters to free \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00202}{202}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ within\ bounds}}
\DoxyCodeLine{00205\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster\ <\ 2\ ||\ cluster\ >}}\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\_total\_clusters}}\ ||\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ +\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}}\ >\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}{fat\_total\_clusters}})}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{comment}{//\ Go\ through\ freeing\ the\ clusters}}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}};\ i++)\ \{}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Find\ the\ next\ cluster\ before\ it\ is\ removed\ from\ the\ chain}}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{next\_in\_chain}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}});}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ fsinfo}}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.next\_free\_cluster\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}};}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}}.free\_cluster\_count\ +=\ 1;}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ the\ chain}}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219}{set\_next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}},\ (\mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\_t}})\ ClusterState::FREE);}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{next\_in\_chain}};}
\DoxyCodeLine{00221\ \ \ \ \ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{comment}{//\ Save\ the\ fsinfo}}
\DoxyCodeLine{00224\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fs\_info\_buffer}}(\&\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}{fsinfo}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{fat32_8h_a7e9030d3efceeca587938b5402643423}{fs\_info\_t}}));}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a849c586fbc52b1994c282492addc4772}{write}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8}{fat\_info\_lba}},\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fs\_info\_buffer}});}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{comment}{//\ Mark\ the\ end\ of\ the\ chain}}
\DoxyCodeLine{00228\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219}{set\_next\_cluster}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}},\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}})\ ClusterState::END\_OF\_CHAIN);}
\DoxyCodeLine{00229\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8h_source_l00187}{disk}}, \mbox{\hyperlink{fat32_8h_source_l00181}{fat\+\_\+info\+\_\+lba}}, \mbox{\hyperlink{fat32_8h_source_l00179}{fat\+\_\+total\+\_\+clusters}}, \mbox{\hyperlink{fat32_8h_source_l00177}{fsinfo}}, \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}, and \mbox{\hyperlink{disk_8cpp_source_l00050}{Max\+OS\+::drivers\+::disk\+::\+Disk\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!next\_cluster@{next\_cluster}}
\index{next\_cluster@{next\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{next\_cluster()}{next\_cluster()}}
{\footnotesize\ttfamily \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} Fat32\+Volume\+::next\+\_\+cluster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{cluster }\end{DoxyParamCaption}) const}



Take the cluster and gets the next cluster in the chain. 


\begin{DoxyParams}{Parameters}
{\em cluster} & The base cluster to start from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next cluster in the chain
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000059}{Todo}}]The auto entry = uint32\+\_\+t\texorpdfstring{$\ast$}{*} \textquotesingle{}\&\textquotesingle{} is weird, fix it \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00065}{65}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ location\ in\ the\ FAT\ table}}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\_t}}\ offset\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}});}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sector}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1}{fat\_lba}}\ +\ (offset\ /\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.bytes\_per\_sector);}
\DoxyCodeLine{00070\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ entry\_index\ =\ offset\ \%\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.bytes\_per\_sector;}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ FAT\ entry}}
\DoxyCodeLine{00073\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.bytes\_per\_sector);}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a9fa1c1952cece4f322ba0f2552f16c24}{read}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sector}},\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}});}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ next\ cluster\ info\ (mask\ the\ upper\ 4\ bits)}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keyword}{auto}\ entry\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}*)\ (\&(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}}.raw()[entry\_index]));}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{return}\ *entry\ \&\ 0x0FFFFFFF;}
\DoxyCodeLine{00079\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8h_source_l00176}{bpb}}, \mbox{\hyperlink{fat32_8h_source_l00187}{disk}}, \mbox{\hyperlink{fat32_8h_source_l00180}{fat\+\_\+lba}}, and \mbox{\hyperlink{disk_8cpp_source_l00026}{Max\+OS\+::drivers\+::disk\+::\+Disk\+::read()}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00119}{find\+\_\+free\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00202}{free\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00361}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::read()}}, \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00605}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory\+::update\+\_\+entry\+\_\+on\+\_\+disk()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00260}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aed33d28b4d41d55aa2914f4e7656d219} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!set\_next\_cluster@{set\_next\_cluster}}
\index{set\_next\_cluster@{set\_next\_cluster}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{set\_next\_cluster()}{set\_next\_cluster()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} Fat32\+Volume\+::set\+\_\+next\+\_\+cluster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{cluster,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{next\+\_\+cluster }\end{DoxyParamCaption}) const}



Sets the next cluster in the chain (where the base cluster should point) 


\begin{DoxyParams}{Parameters}
{\em cluster} & The base cluster to start from \\
\hline
{\em next\+\_\+cluster} & The next cluster in the chain \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The next cluster in the chain
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000060}{Todo}}]when in userspace\+: For performance cache fat entirely, cache file data, cache cluster chains \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{fat32_8cpp_source_l00090}{90}} of file \mbox{\hyperlink{fat32_8cpp_source}{fat32.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ location\ in\ the\ FAT\ table}}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\_t}}\ offset\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{cluster}}\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}});}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ab7d0b75ebd4c8e9a4f9cb698b31bae21}{fat\_copies}};\ ++i)\ \{}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sector}}\ =\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1}{fat\_lba}}\ +\ i\ *\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.table\_size\_32)\ +\ (offset\ /\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.bytes\_per\_sector);}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ entry\_index\ =\ offset\ \%\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.bytes\_per\_sector;}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Read\ the\ FAT\ entry}}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}{bpb}}.bytes\_per\_sector);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a9fa1c1952cece4f322ba0f2552f16c24}{read}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sector}},\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}});}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ next\ cluster\ info\ (mask\ the\ upper\ 4\ bits)}}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ entry\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}*)\ (\&(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}}.raw()[entry\_index]));}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ *entry\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}}\ \&\ 0x0FFFFFFF;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}{disk}}-\/>\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk_a849c586fbc52b1994c282492addc4772}{write}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{sector}},\ \&\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{fat}});}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a12b7e165dde3e75b98bd43835e5cf96a}{next\_cluster}};}
\DoxyCodeLine{00112\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{fat32_8h_source_l00176}{bpb}}, \mbox{\hyperlink{fat32_8h_source_l00187}{disk}}, \mbox{\hyperlink{fat32_8h_source_l00182}{fat\+\_\+copies}}, \mbox{\hyperlink{fat32_8h_source_l00180}{fat\+\_\+lba}}, \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}, \mbox{\hyperlink{disk_8cpp_source_l00026}{Max\+OS\+::drivers\+::disk\+::\+Disk\+::read()}}, and \mbox{\hyperlink{disk_8cpp_source_l00050}{Max\+OS\+::drivers\+::disk\+::\+Disk\+::write()}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00202}{free\+\_\+cluster()}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a88fa8cf8322df1bc922905e66d5569f4} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!bpb@{bpb}}
\index{bpb@{bpb}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{bpb}{bpb}}
{\footnotesize\ttfamily \mbox{\hyperlink{fat32_8h_a2ba33b609f3c70c779f813652c043f0c}{bpb32\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::bpb = \{ \}}



The BIOS Parameter Block for the FAT32 volume. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00176}{176}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00176\ \{\ \};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00989}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+System\+::\+Fat32\+File\+System()}}, \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00361}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::read()}}, \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00605}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory\+::update\+\_\+entry\+\_\+on\+\_\+disk()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00260}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aba48c72b1770313b4b4a9a01af962008}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aba48c72b1770313b4b4a9a01af962008} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!data\_lba@{data\_lba}}
\index{data\_lba@{data\_lba}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{data\_lba}{data\_lba}}
{\footnotesize\ttfamily \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::data\+\_\+lba}



The starting LBA of the data region. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00184}{184}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, \mbox{\hyperlink{fat32_8cpp_source_l00361}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::read()}}, \mbox{\hyperlink{fat32_8cpp_source_l00605}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory\+::update\+\_\+entry\+\_\+on\+\_\+disk()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00260}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5d5ea78e0213ece71259dc171b3bd239} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!disk@{disk}}
\index{disk@{disk}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{disk}{disk}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1Disk}{drivers\+::disk\+::\+Disk}}\texorpdfstring{$\ast$}{*} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::disk}



The disk that this volume is on. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00187}{187}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, \mbox{\hyperlink{fat32_8cpp_source_l00202}{free\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00361}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::read()}}, \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00605}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+Directory\+::update\+\_\+entry\+\_\+on\+\_\+disk()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00260}{Max\+OS\+::filesystem\+::format\+::\+Fat32\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ab7d0b75ebd4c8e9a4f9cb698b31bae21}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ab7d0b75ebd4c8e9a4f9cb698b31bae21} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!fat\_copies@{fat\_copies}}
\index{fat\_copies@{fat\_copies}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{fat\_copies}{fat\_copies}}
{\footnotesize\ttfamily \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::fat\+\_\+copies}



How many FAT tables are present. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00182}{182}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a8c5fdd64bed46dbe38b8f7136b6a91a8} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!fat\_info\_lba@{fat\_info\_lba}}
\index{fat\_info\_lba@{fat\_info\_lba}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{fat\_info\_lba}{fat\_info\_lba}}
{\footnotesize\ttfamily \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::fat\+\_\+info\+\_\+lba}



The LBA of the \doxylink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{FSInfo} structure. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00181}{181}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00202}{free\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a5836d8b8bb40ad92b2ce27acfa523ec1} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!fat\_lba@{fat\_lba}}
\index{fat\_lba@{fat\_lba}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{fat\_lba}{fat\_lba}}
{\footnotesize\ttfamily \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::fat\+\_\+lba}



The starting LBA of the FAT table. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00180}{180}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, \mbox{\hyperlink{fat32_8cpp_source_l00065}{next\+\_\+cluster()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00090}{set\+\_\+next\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_ac1f52f6db41c0111a70b6f1f9c561bf5} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!fat\_total\_clusters@{fat\_total\_clusters}}
\index{fat\_total\_clusters@{fat\_total\_clusters}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{fat\_total\_clusters}{fat\_total\_clusters}}
{\footnotesize\ttfamily size\+\_\+t Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::fat\+\_\+total\+\_\+clusters}



How many clusters are in the FAT table. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00179}{179}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, \mbox{\hyperlink{fat32_8cpp_source_l00119}{find\+\_\+free\+\_\+cluster()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00202}{free\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_a2f24d84d808a398ffa87f8442f23dae5} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!fsinfo@{fsinfo}}
\index{fsinfo@{fsinfo}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{fsinfo}{fsinfo}}
{\footnotesize\ttfamily \mbox{\hyperlink{fat32_8h_a7e9030d3efceeca587938b5402643423}{fs\+\_\+info\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::fsinfo = \{ \}}



The \doxylink{structMaxOS_1_1filesystem_1_1format_1_1FSInfo}{FSInfo} structure for the FAT32 volume. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00177}{177}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00177\ \{\ \};\ \ \ \ \ \ \ \ \ \ \ \ \ \ }

\end{DoxyCode}


Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00154}{allocate\+\_\+cluster()}}, \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}, \mbox{\hyperlink{fat32_8cpp_source_l00119}{find\+\_\+free\+\_\+cluster()}}, and \mbox{\hyperlink{fat32_8cpp_source_l00202}{free\+\_\+cluster()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aa8e35edc75d20219e76ac30b5e4fa56f}\label{classMaxOS_1_1filesystem_1_1format_1_1Fat32Volume_aa8e35edc75d20219e76ac30b5e4fa56f} 
\index{MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}!root\_lba@{root\_lba}}
\index{root\_lba@{root\_lba}!MaxOS::filesystem::format::Fat32Volume@{MaxOS::filesystem::format::Fat32Volume}}
\doxysubsubsection{\texorpdfstring{root\_lba}{root\_lba}}
{\footnotesize\ttfamily \mbox{\hyperlink{filesystem_8h_af466a9d32fd2bf17acb2efa91031ded0}{lba\+\_\+t}} Max\+OS\+::filesystem\+::format\+::\+Fat32\+Volume\+::root\+\_\+lba}



The starting LBA of the root directory. 



Definition at line \mbox{\hyperlink{fat32_8h_source_l00185}{185}} of file \mbox{\hyperlink{fat32_8h_source}{fat32.\+h}}.



Referenced by \mbox{\hyperlink{fat32_8cpp_source_l00026}{Fat32\+Volume()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/filesystem/format/\mbox{\hyperlink{fat32_8h}{fat32.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/filesystem/format/\mbox{\hyperlink{fat32_8cpp}{fat32.\+cpp}}\end{DoxyCompactItemize}
