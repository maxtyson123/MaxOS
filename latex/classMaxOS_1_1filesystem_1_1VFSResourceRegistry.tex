\doxysection{Max\+OS\+::filesystem\+::VFSResource\+Registry Class Reference}
\hypertarget{classMaxOS_1_1filesystem_1_1VFSResourceRegistry}{}\label{classMaxOS_1_1filesystem_1_1VFSResourceRegistry}\index{MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}}


A resource registry for both Files \& Directories.  




{\ttfamily \#include $<$vfsresource.\+h$>$}

Inheritance diagram for Max\+OS\+::filesystem\+::VFSResource\+Registry\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classMaxOS_1_1filesystem_1_1VFSResourceRegistry}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_af07951efb88fe9c58385be256106d4bf}{VFSResource\+Registry}} (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VirtualFileSystem}{Virtual\+File\+System}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{vfs}})
\begin{DoxyCompactList}\small\item\em Construct a new VFS Resource Registry object. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{processes\+::\+Resource}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a158840f689afffc36a1036d3fad11d47}{get\+\_\+resource}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&name) \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{final}}
\begin{DoxyCompactList}\small\item\em Gets a resource from the registry by name. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{processes\+::\+Resource}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a27959c0f8a80073b5753fb0d3b75d97f}{create\+\_\+resource}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&name, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} flags) \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{final}}
\begin{DoxyCompactList}\small\item\em Try to create a new resource with the specified name, will fail if the name is in use. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A resource registry for both Files \& Directories. 

Definition at line \mbox{\hyperlink{vfsresource_8h_source_l00072}{72}} of file \mbox{\hyperlink{vfsresource_8h_source}{vfsresource.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_af07951efb88fe9c58385be256106d4bf}\label{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_af07951efb88fe9c58385be256106d4bf} 
\index{MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}!VFSResourceRegistry@{VFSResourceRegistry}}
\index{VFSResourceRegistry@{VFSResourceRegistry}!MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}}
\doxysubsubsection{\texorpdfstring{VFSResourceRegistry()}{VFSResourceRegistry()}}
{\footnotesize\ttfamily VFSResource\+Registry\+::\+VFSResource\+Registry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VirtualFileSystem}{Virtual\+File\+System}} \texorpdfstring{$\ast$}{*}}]{vfs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Construct a new VFS Resource Registry object. 


\begin{DoxyParams}{Parameters}
{\em vfs} & The virtual file system to use \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{vfsresource_8cpp_source_l00324}{324}} of file \mbox{\hyperlink{vfsresource_8cpp_source}{vfsresource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00325\ :\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry}{BaseResourceRegistry}}(resource\_type\_t::FILESYSTEM),}
\DoxyCodeLine{00326\ \ \ m\_vfs(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{vfs}})}
\DoxyCodeLine{00327\ \{}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a27959c0f8a80073b5753fb0d3b75d97f}\label{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a27959c0f8a80073b5753fb0d3b75d97f} 
\index{MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}!create\_resource@{create\_resource}}
\index{create\_resource@{create\_resource}!MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}}
\doxysubsubsection{\texorpdfstring{create\_resource()}{create\_resource()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} VFSResource\+Registry\+::create\+\_\+resource (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&}]{name,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{flags }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Try to create a new resource with the specified name, will fail if the name is in use. 


\begin{DoxyParams}{Parameters}
{\em name} & The name of the resource to create \\
\hline
{\em flags} & Optional flags to pass (unused by default but registry type specific) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resource created or nullptr if failed to create the resource 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ae483012d308290bd22760cb63b1c9ee9}{Max\+OS\+::processes\+::\+Base\+Resource\+Registry}}.



Definition at line \mbox{\hyperlink{vfsresource_8cpp_source_l00394}{394}} of file \mbox{\hyperlink{vfsresource_8cpp_source}{vfsresource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1Path_ae0ef3623bb78b5a42d9cf1baed20d3f8}{Path::absolute\_path}}(name);}
\DoxyCodeLine{00397\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1Path_aaff89023bdbf21b43c76583e7370265d}{Path::join\_path}}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1GlobalScheduler_aa070d442d88c4e6adee1c57772c5be34}{GlobalScheduler::current\_process}}()-\/>working\_directory,\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}});}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{comment}{//\ Resource\ already\ opened}}
\DoxyCodeLine{00400\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{resource}}\ =\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a723b49dd3279da0802f7161475338b44}{BaseResourceRegistry::get\_resource}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}});}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{resource}}\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{resource}};}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{comment}{//\ Open\ the\ resource}}
\DoxyCodeLine{00405\ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_file\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1Path_a5d85aff52a590e97a5c54c4a2d178d16}{Path::is\_file}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}});}
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{keywordflow}{if}(is\_file)}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_as\_resource(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}},\ m\_vfs-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VirtualFileSystem_ad3f7dbfbd99ea30b5dc879bef308bbbf}{create\_file}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}));}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_as\_resource(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}},\ m\_vfs-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VirtualFileSystem_a75ac07b8f87ec1c20be8d4002699602e}{create\_directory}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}));}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{path_8cpp_source_l00170}{Max\+OS\+::filesystem\+::\+Path\+::absolute\+\_\+path()}}, \mbox{\hyperlink{vfs_8cpp_source_l00293}{Max\+OS\+::filesystem\+::\+Virtual\+File\+System\+::create\+\_\+directory()}}, \mbox{\hyperlink{vfs_8cpp_source_l00425}{Max\+OS\+::filesystem\+::\+Virtual\+File\+System\+::create\+\_\+file()}}, \mbox{\hyperlink{scheduler_8cpp_source_l00280}{Max\+OS\+::processes\+::\+Global\+Scheduler\+::current\+\_\+process()}}, \mbox{\hyperlink{resource_8cpp_source_l00128}{Max\+OS\+::processes\+::\+Base\+Resource\+Registry\+::get\+\_\+resource()}}, \mbox{\hyperlink{path_8cpp_source_l00042}{Max\+OS\+::filesystem\+::\+Path\+::is\+\_\+file()}}, and \mbox{\hyperlink{path_8cpp_source_l00208}{Max\+OS\+::filesystem\+::\+Path\+::join\+\_\+path()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a158840f689afffc36a1036d3fad11d47}\label{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a158840f689afffc36a1036d3fad11d47} 
\index{MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}!get\_resource@{get\_resource}}
\index{get\_resource@{get\_resource}!MaxOS::filesystem::VFSResourceRegistry@{MaxOS::filesystem::VFSResourceRegistry}}
\doxysubsubsection{\texorpdfstring{get\_resource()}{get\_resource()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} VFSResource\+Registry\+::get\+\_\+resource (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}} \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Gets a resource from the registry by name. 


\begin{DoxyParams}{Parameters}
{\em name} & The name of the resource to find \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resource or nullptr if the resource was not found 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a723b49dd3279da0802f7161475338b44}{Max\+OS\+::processes\+::\+Base\+Resource\+Registry}}.



Definition at line \mbox{\hyperlink{vfsresource_8cpp_source_l00376}{376}} of file \mbox{\hyperlink{vfsresource_8cpp_source}{vfsresource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1Path_ae0ef3623bb78b5a42d9cf1baed20d3f8}{Path::absolute\_path}}(name);}
\DoxyCodeLine{00379\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1Path_aaff89023bdbf21b43c76583e7370265d}{Path::join\_path}}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1GlobalScheduler_aa070d442d88c4e6adee1c57772c5be34}{GlobalScheduler::current\_process}}()-\/>working\_directory,\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}});}
\DoxyCodeLine{00380\ }
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{comment}{//\ Resource\ already\ opened}}
\DoxyCodeLine{00382\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{resource}}\ =\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a723b49dd3279da0802f7161475338b44}{BaseResourceRegistry::get\_resource}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}});}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{resource}}\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{resource}};}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{comment}{//\ Open\ the\ resource}}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_file\ =\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1Path_a5d85aff52a590e97a5c54c4a2d178d16}{Path::is\_file}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}});}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordflow}{if}(is\_file)}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_as\_resource(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}},\ m\_vfs-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VirtualFileSystem_a72b4ebe40a9371b2058a2dc1765830fb}{open\_file}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}));}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ open\_as\_resource(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}},\ m\_vfs-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VirtualFileSystem_a350e2317adc6a9f8557f544ce1f6e158}{open\_directory}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{path}}));}
\DoxyCodeLine{00392\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{path_8cpp_source_l00170}{Max\+OS\+::filesystem\+::\+Path\+::absolute\+\_\+path()}}, \mbox{\hyperlink{scheduler_8cpp_source_l00280}{Max\+OS\+::processes\+::\+Global\+Scheduler\+::current\+\_\+process()}}, \mbox{\hyperlink{resource_8cpp_source_l00128}{Max\+OS\+::processes\+::\+Base\+Resource\+Registry\+::get\+\_\+resource()}}, \mbox{\hyperlink{path_8cpp_source_l00042}{Max\+OS\+::filesystem\+::\+Path\+::is\+\_\+file()}}, \mbox{\hyperlink{path_8cpp_source_l00208}{Max\+OS\+::filesystem\+::\+Path\+::join\+\_\+path()}}, \mbox{\hyperlink{vfs_8cpp_source_l00245}{Max\+OS\+::filesystem\+::\+Virtual\+File\+System\+::open\+\_\+directory()}}, and \mbox{\hyperlink{vfs_8cpp_source_l00459}{Max\+OS\+::filesystem\+::\+Virtual\+File\+System\+::open\+\_\+file()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/filesystem/\mbox{\hyperlink{vfsresource_8h}{vfsresource.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/filesystem/\mbox{\hyperlink{vfsresource_8cpp}{vfsresource.\+cpp}}\end{DoxyCompactItemize}
