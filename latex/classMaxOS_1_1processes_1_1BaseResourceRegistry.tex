\doxysection{Max\+OS\+::processes\+::Base\+Resource\+Registry Class Reference}
\hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry}{}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry}\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}


Manages the creation, retention and destruction of resources of a certain type. Should be subclassed for each resource type.  




{\ttfamily \#include $<$resource.\+h$>$}

Inheritance diagram for Max\+OS\+::processes\+::Base\+Resource\+Registry\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=0.550098cm]{classMaxOS_1_1processes_1_1BaseResourceRegistry}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ad568ef43e2b5567459600934d11a3076}{Base\+Resource\+Registry}} (\mbox{\hyperlink{resource_8h_a9ac9ad12caad00b9d7eb53504318c263}{resource\+\_\+type\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a635fdfd3fac43ee968b530a4b076d89c}{type}})
\begin{DoxyCompactList}\small\item\em Constructs a new \doxylink{classMaxOS_1_1processes_1_1BaseResourceRegistry}{Base\+Resource\+Registry} object and registers it globally. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab7c3f284930089defa53bc1b0b83d26e}{\texorpdfstring{$\sim$}{\string~}\+Base\+Resource\+Registry}} ()
\begin{DoxyCompactList}\small\item\em Destructor for \doxylink{classMaxOS_1_1processes_1_1BaseResourceRegistry}{Base\+Resource\+Registry}, removes it from the global list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{resource_8h_a9ac9ad12caad00b9d7eb53504318c263}{resource\+\_\+type\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a635fdfd3fac43ee968b530a4b076d89c}{type}} ()
\begin{DoxyCompactList}\small\item\em Gets the type of resources this registry handles. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a723b49dd3279da0802f7161475338b44}{get\+\_\+resource}} (const \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&name)
\begin{DoxyCompactList}\small\item\em Gets a resource from the registry by name. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_adf883ee5cd7054893878ce76f2c9a5fc}{register\+\_\+resource}} (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*}resource)
\begin{DoxyCompactList}\small\item\em Registers a resource in the registry. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a774571ac301f9ae5800c6d186630ab1b}{close\+\_\+resource}} (\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*}resource, size\+\_\+t flags)
\begin{DoxyCompactList}\small\item\em Close the resource provided, if it exists in this registry. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ae483012d308290bd22760cb63b1c9ee9}{create\+\_\+resource}} (const \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&name, size\+\_\+t flags)
\begin{DoxyCompactList}\small\item\em Try to create a new resource with the specified name, will fail if the name is in use. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Map}{common\+::\+Map}}$<$ \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}}, \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} $>$ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\+\_\+resources}}
\begin{DoxyCompactList}\small\item\em The map of resource names to resource instances. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Map}{common\+::\+Map}}$<$ \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}}, uint64\+\_\+t $>$ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}{m\+\_\+resource\+\_\+uses}}
\begin{DoxyCompactList}\small\item\em The map of resource names to how many processes are using them. \end{DoxyCompactList}\item 
\mbox{\hyperlink{resource_8h_a9ac9ad12caad00b9d7eb53504318c263}{resource\+\_\+type\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a1fd92d347a652e32ad3f66b9080ea384}{m\+\_\+type}}
\begin{DoxyCompactList}\small\item\em The resource type that this registry manages. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the creation, retention and destruction of resources of a certain type. Should be subclassed for each resource type. 

Definition at line \mbox{\hyperlink{resource_8h_source_l00054}{54}} of file \mbox{\hyperlink{resource_8h_source}{resource.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_ad568ef43e2b5567459600934d11a3076}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_ad568ef43e2b5567459600934d11a3076} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!BaseResourceRegistry@{BaseResourceRegistry}}
\index{BaseResourceRegistry@{BaseResourceRegistry}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{BaseResourceRegistry()}{BaseResourceRegistry()}}
{\footnotesize\ttfamily Base\+Resource\+Registry\+::\+Base\+Resource\+Registry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{resource_8h_a9ac9ad12caad00b9d7eb53504318c263}{resource\+\_\+type\+\_\+t}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructs a new \doxylink{classMaxOS_1_1processes_1_1BaseResourceRegistry}{Base\+Resource\+Registry} object and registers it globally. 


\begin{DoxyParams}{Parameters}
{\em type} & The type of resources this registry will handle \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{resource_8cpp_source_l00098}{98}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00099\ :\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a1fd92d347a652e32ad3f66b9080ea384}{m\_type}}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a635fdfd3fac43ee968b530a4b076d89c}{type}})}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1GlobalResourceRegistry_a01786b291d7d68334f9cd6d15582a1ec}{GlobalResourceRegistry::add\_registry}}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a635fdfd3fac43ee968b530a4b076d89c}{type}},\ \textcolor{keyword}{this});}
\DoxyCodeLine{00102\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{resource_8cpp_source_l00232}{Max\+OS\+::processes\+::\+Global\+Resource\+Registry\+::add\+\_\+registry()}}, and \mbox{\hyperlink{resource_8cpp_source_l00117}{type()}}.

\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab7c3f284930089defa53bc1b0b83d26e}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab7c3f284930089defa53bc1b0b83d26e} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!````~BaseResourceRegistry@{\texorpdfstring{$\sim$}{\string~}BaseResourceRegistry}}
\index{````~BaseResourceRegistry@{\texorpdfstring{$\sim$}{\string~}BaseResourceRegistry}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}BaseResourceRegistry()}{\string~BaseResourceRegistry()}}
{\footnotesize\ttfamily Base\+Resource\+Registry\+::\texorpdfstring{$\sim$}{\string~}\+Base\+Resource\+Registry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor for \doxylink{classMaxOS_1_1processes_1_1BaseResourceRegistry}{Base\+Resource\+Registry}, removes it from the global list. 



Definition at line \mbox{\hyperlink{resource_8cpp_source_l00107}{107}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1GlobalResourceRegistry_a4be2b444b2961502d660fd8a9ac2b269}{GlobalResourceRegistry::remove\_registry}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00110\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{resource_8cpp_source_l00246}{Max\+OS\+::processes\+::\+Global\+Resource\+Registry\+::remove\+\_\+registry()}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_a774571ac301f9ae5800c6d186630ab1b}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_a774571ac301f9ae5800c6d186630ab1b} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!close\_resource@{close\_resource}}
\index{close\_resource@{close\_resource}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{close\_resource()}{close\_resource()}}
{\footnotesize\ttfamily void Base\+Resource\+Registry\+::close\+\_\+resource (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*}}]{resource,  }\item[{size\+\_\+t}]{flags }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Close the resource provided, if it exists in this registry. 


\begin{DoxyParams}{Parameters}
{\em resource} & The resource to close \\
\hline
{\em flags} & Optional flags to pass (unused by default but registry type specific) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{resource_8cpp_source_l00164}{164}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{comment}{//\ Resource\ isn't\ stored\ in\ this\ registry}}
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.find(resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}())\ ==\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.end())}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}{m\_resource\_uses}}[resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}()]-\/-\/;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{//\ Don't\ close\ a\ resource\ that\ has\ more\ processes\ using\ it}}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}{m\_resource\_uses}}[resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}()])}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ Can\ safely\ close\ the\ resource}}
\DoxyCodeLine{00177\ \ \ \ \ resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a6b3338b5fba95173feaf3cf759efba0f}{close}}(flags);}
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.erase(resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}());}
\DoxyCodeLine{00179\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}{m\_resource\_uses}}.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_aaae4dcaac8b7542465d25471562d0f32}{erase}}(resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}());}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keyword}{delete}\ resource;}
\DoxyCodeLine{00181\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{resource_8cpp_source_l00045}{Max\+OS\+::processes\+::\+Resource\+::close()}}, \mbox{\hyperlink{map_8h_source_l00274}{Max\+OS\+::common\+::\+Map$<$ Key, Value $>$\+::erase()}}, \mbox{\hyperlink{resource_8h_source_l00058}{m\+\_\+resource\+\_\+uses}}, \mbox{\hyperlink{resource_8h_source_l00057}{m\+\_\+resources}}, and \mbox{\hyperlink{resource_8cpp_source_l00079}{Max\+OS\+::processes\+::\+Resource\+::name()}}.

\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_ae483012d308290bd22760cb63b1c9ee9}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_ae483012d308290bd22760cb63b1c9ee9} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!create\_resource@{create\_resource}}
\index{create\_resource@{create\_resource}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{create\_resource()}{create\_resource()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} Base\+Resource\+Registry\+::create\+\_\+resource (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&}]{name,  }\item[{size\+\_\+t}]{flags }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Try to create a new resource with the specified name, will fail if the name is in use. 


\begin{DoxyParams}{Parameters}
{\em name} & The name of the resource to create \\
\hline
{\em flags} & Optional flags to pass (unused by default but registry type specific) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resource created or nullptr if failed to create the resource 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a27959c0f8a80073b5753fb0d3b75d97f}{Max\+OS\+::filesystem\+::\+VFSResource\+Registry}}, \mbox{\hyperlink{classMaxOS_1_1processes_1_1ResourceRegistry_a1d7f9b03adec43bd52713ffec960da4e}{Max\+OS\+::processes\+::\+Resource\+Registry$<$ Type $>$}}, \mbox{\hyperlink{classMaxOS_1_1processes_1_1ResourceRegistry_a1d7f9b03adec43bd52713ffec960da4e}{Max\+OS\+::processes\+::\+Resource\+Registry$<$ Max\+OS\+::processes\+::\+Shared\+Memory $>$}}, and \mbox{\hyperlink{classMaxOS_1_1processes_1_1ResourceRegistry_a1d7f9b03adec43bd52713ffec960da4e}{Max\+OS\+::processes\+::\+Resource\+Registry$<$ Max\+OS\+::processes\+::\+Shared\+Message\+Endpoint $>$}}.



Definition at line \mbox{\hyperlink{resource_8cpp_source_l00190}{190}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00192\ \}}

\end{DoxyCode}
\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_a723b49dd3279da0802f7161475338b44}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_a723b49dd3279da0802f7161475338b44} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!get\_resource@{get\_resource}}
\index{get\_resource@{get\_resource}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{get\_resource()}{get\_resource()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*} Base\+Resource\+Registry\+::get\+\_\+resource (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}} \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Gets a resource from the registry by name. 


\begin{DoxyParams}{Parameters}
{\em name} & The name of the resource to find \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The resource or nullptr if the resource was not found 
\end{DoxyReturn}


Reimplemented in \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1VFSResourceRegistry_a158840f689afffc36a1036d3fad11d47}{Max\+OS\+::filesystem\+::\+VFSResource\+Registry}}.



Definition at line \mbox{\hyperlink{resource_8cpp_source_l00128}{128}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{comment}{//\ Resource\ isn't\ stored\ in\ this\ registry}}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.find(name)\ ==\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.end())}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{comment}{//\ Increment\ the\ use\ count\ of\ the\ resource\ and\ return\ it}}
\DoxyCodeLine{00135\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}{m\_resource\_uses}}[name]++;}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}[name];}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{resource_8h_source_l00058}{m\+\_\+resource\+\_\+uses}}, and \mbox{\hyperlink{resource_8h_source_l00057}{m\+\_\+resources}}.



Referenced by \mbox{\hyperlink{vfsresource_8cpp_source_l00394}{Max\+OS\+::filesystem\+::\+VFSResource\+Registry\+::create\+\_\+resource()}}, and \mbox{\hyperlink{vfsresource_8cpp_source_l00376}{Max\+OS\+::filesystem\+::\+VFSResource\+Registry\+::get\+\_\+resource()}}.

\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_adf883ee5cd7054893878ce76f2c9a5fc}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_adf883ee5cd7054893878ce76f2c9a5fc} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!register\_resource@{register\_resource}}
\index{register\_resource@{register\_resource}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{register\_resource()}{register\_resource()}}
{\footnotesize\ttfamily bool Base\+Resource\+Registry\+::register\+\_\+resource (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}} \texorpdfstring{$\ast$}{*}}]{resource }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Registers a resource in the registry. 


\begin{DoxyParams}{Parameters}
{\em resource} & The resource to store \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the register was successful, false if not 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{resource_8cpp_source_l00146}{146}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{comment}{//\ Resource\ name\ is\ already\ stored\ in\ this\ registry}}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.find(resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}())\ !=\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.end())}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}{m\_resources}}.insert(resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}(),\ resource);}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}{m\_resource\_uses}}.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a81607647ee83176c5cf53462f99583e0}{insert}}(resource-\/>\mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource_a78265383b9068d644a5d45b854a5c49c}{name}}(),\ 0);}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00155\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{map_8h_source_l00253}{Max\+OS\+::common\+::\+Map$<$ Key, Value $>$\+::insert()}}, \mbox{\hyperlink{resource_8h_source_l00058}{m\+\_\+resource\+\_\+uses}}, \mbox{\hyperlink{resource_8h_source_l00057}{m\+\_\+resources}}, and \mbox{\hyperlink{resource_8cpp_source_l00079}{Max\+OS\+::processes\+::\+Resource\+::name()}}.



Referenced by \mbox{\hyperlink{resource_8h_source_l00094}{Max\+OS\+::processes\+::\+Resource\+Registry$<$ Type $>$\+::create\+\_\+resource()}}.

\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_a635fdfd3fac43ee968b530a4b076d89c}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_a635fdfd3fac43ee968b530a4b076d89c} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!type@{type}}
\index{type@{type}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{type()}{type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{resource_8h_a9ac9ad12caad00b9d7eb53504318c263}{resource\+\_\+type\+\_\+t}} Base\+Resource\+Registry\+::type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the type of resources this registry handles. 

\begin{DoxyReturn}{Returns}
The type 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{resource_8cpp_source_l00117}{117}} of file \mbox{\hyperlink{resource_8cpp_source}{resource.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1processes_1_1BaseResourceRegistry_a1fd92d347a652e32ad3f66b9080ea384}{m\_type}};}
\DoxyCodeLine{00120\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{resource_8h_source_l00060}{m\+\_\+type}}.



Referenced by \mbox{\hyperlink{resource_8cpp_source_l00098}{Base\+Resource\+Registry()}}, \mbox{\hyperlink{resource_8h_source_l00094}{Max\+OS\+::processes\+::\+Resource\+Registry$<$ Type $>$\+::create\+\_\+resource()}}, and \mbox{\hyperlink{resource_8cpp_source_l00246}{Max\+OS\+::processes\+::\+Global\+Resource\+Registry\+::remove\+\_\+registry()}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_a9b50dfa4771a817813fe634902c58ae4} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!m\_resource\_uses@{m\_resource\_uses}}
\index{m\_resource\_uses@{m\_resource\_uses}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{m\_resource\_uses}{m\_resource\_uses}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Map}{common\+::\+Map}}$<$\mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}}, uint64\+\_\+t$>$ Max\+OS\+::processes\+::\+Base\+Resource\+Registry\+::m\+\_\+resource\+\_\+uses\hspace{0.3cm}{\ttfamily [protected]}}



The map of resource names to how many processes are using them. 



Definition at line \mbox{\hyperlink{resource_8h_source_l00058}{58}} of file \mbox{\hyperlink{resource_8h_source}{resource.\+h}}.



Referenced by \mbox{\hyperlink{resource_8cpp_source_l00164}{close\+\_\+resource()}}, \mbox{\hyperlink{resource_8cpp_source_l00128}{get\+\_\+resource()}}, and \mbox{\hyperlink{resource_8cpp_source_l00146}{register\+\_\+resource()}}.

\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_ab108511323ba2644e56f32ce8e4f4a47} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!m\_resources@{m\_resources}}
\index{m\_resources@{m\_resources}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{m\_resources}{m\_resources}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Map}{common\+::\+Map}}$<$\mbox{\hyperlink{string_8h_a4a6e5834af96b66d8015f5a24c09e1b3}{string}}, \mbox{\hyperlink{classMaxOS_1_1processes_1_1Resource}{Resource}}\texorpdfstring{$\ast$}{*}$>$ Max\+OS\+::processes\+::\+Base\+Resource\+Registry\+::m\+\_\+resources\hspace{0.3cm}{\ttfamily [protected]}}



The map of resource names to resource instances. 



Definition at line \mbox{\hyperlink{resource_8h_source_l00057}{57}} of file \mbox{\hyperlink{resource_8h_source}{resource.\+h}}.



Referenced by \mbox{\hyperlink{resource_8cpp_source_l00164}{close\+\_\+resource()}}, \mbox{\hyperlink{resource_8cpp_source_l00128}{get\+\_\+resource()}}, and \mbox{\hyperlink{resource_8cpp_source_l00146}{register\+\_\+resource()}}.

\Hypertarget{classMaxOS_1_1processes_1_1BaseResourceRegistry_a1fd92d347a652e32ad3f66b9080ea384}\label{classMaxOS_1_1processes_1_1BaseResourceRegistry_a1fd92d347a652e32ad3f66b9080ea384} 
\index{MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}!m\_type@{m\_type}}
\index{m\_type@{m\_type}!MaxOS::processes::BaseResourceRegistry@{MaxOS::processes::BaseResourceRegistry}}
\doxysubsubsection{\texorpdfstring{m\_type}{m\_type}}
{\footnotesize\ttfamily \mbox{\hyperlink{resource_8h_a9ac9ad12caad00b9d7eb53504318c263}{resource\+\_\+type\+\_\+t}} Max\+OS\+::processes\+::\+Base\+Resource\+Registry\+::m\+\_\+type\hspace{0.3cm}{\ttfamily [protected]}}



The resource type that this registry manages. 



Definition at line \mbox{\hyperlink{resource_8h_source_l00060}{60}} of file \mbox{\hyperlink{resource_8h_source}{resource.\+h}}.



Referenced by \mbox{\hyperlink{resource_8cpp_source_l00117}{type()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/processes/\mbox{\hyperlink{resource_8h}{resource.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/processes/\mbox{\hyperlink{resource_8cpp}{resource.\+cpp}}\end{DoxyCompactItemize}
