\doxysection{Max\+OS\+::memory\+::Memory\+Manager Class Reference}
\hypertarget{classMaxOS_1_1memory_1_1MemoryManager}{}\label{classMaxOS_1_1memory_1_1MemoryManager}\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}


Handles memory allocation and deallocation.  




{\ttfamily \#include $<$memorymanagement.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ad4ecc5162e3381090d9ba930e40afacb}{Memory\+Manager}} (\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{virtual\+\_\+memory\+\_\+manager}}=\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{nullptr}})
\begin{DoxyCompactList}\small\item\em Construct a new Memory Manager object. Will switch the pml4 to use the calling process\textquotesingle{}s page tables. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48}{\texorpdfstring{$\sim$}{\string~}\+Memory\+Manager}} ()
\begin{DoxyCompactList}\small\item\em Destroy the Memory Manager object, frees the VMM if not the kernel memory manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}{handle\+\_\+malloc}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} size)
\begin{DoxyCompactList}\small\item\em Allocates a block of memory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}{handle\+\_\+free}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe}{vmm}} ()
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_aa7a99915dbb2352e42198289c9f5032a}{memory\+\_\+used}} ()
\begin{DoxyCompactList}\small\item\em Returns the amount of memory used. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}{malloc}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} size)
\begin{DoxyCompactList}\small\item\em Allocates a block of memory in the current USERSPACE heap. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}{free}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory using the current memory manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}{kmalloc}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} size)
\begin{DoxyCompactList}\small\item\em Allocates a block of memory in the KERNEL space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}{kfree}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory using the kernel memory manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}{align}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} size)
\begin{DoxyCompactList}\small\item\em Aligns the size to the chunk alignment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}{switch\+\_\+active\+\_\+memory\+\_\+manager}} (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}})
\begin{DoxyCompactList}\small\item\em Switches the active memory manager. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\+\_\+current\+\_\+memory\+\_\+manager}} = nullptr
\begin{DoxyCompactList}\small\item\em The memory manager for the current process. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\+\_\+kernel\+\_\+memory\+\_\+manager}} = nullptr
\begin{DoxyCompactList}\small\item\em The memory manager for any kernel processes and all kernel allocations. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles memory allocation and deallocation. 

Definition at line \mbox{\hyperlink{memorymanagement_8h_source_l00040}{40}} of file \mbox{\hyperlink{memorymanagement_8h_source}{memorymanagement.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ad4ecc5162e3381090d9ba930e40afacb}\label{classMaxOS_1_1memory_1_1MemoryManager_ad4ecc5162e3381090d9ba930e40afacb} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!MemoryManager@{MemoryManager}}
\index{MemoryManager@{MemoryManager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{MemoryManager()}{MemoryManager()}}
{\footnotesize\ttfamily Memory\+Manager\+::\+Memory\+Manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*}}]{vmm = {\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{nullptr}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Construct a new Memory Manager object. Will switch the pml4 to use the calling process\textquotesingle{}s page tables. 


\begin{DoxyParams}{Parameters}
{\em vmm} & The virtual memory manager to use, if nullptr a new one will be created \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00022}{22}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ :\ m\_virtual\_memory\_manager(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe}{vmm}})\ \{}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{comment}{//\ Create\ the\ VMM\ if\ not\ provided}}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{if}(m\_virtual\_memory\_manager\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ m\_virtual\_memory\_manager\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{VirtualMemoryManager}}();}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ memory\ manager}}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}{switch\_active\_memory\_manager}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{comment}{//\ Set\ up\ the\ first\ chunk\ of\ memory}}
\DoxyCodeLine{00033\ \ \ \ \ this-\/>m\_first\_memory\_chunk\ =\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)\ m\_virtual\_memory\_manager-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager_a433396979e1b088454eefbce0964b709}{allocate}}(PAGE\_SIZE\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}),\ 0);}
\DoxyCodeLine{00034\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aeb2ac8030a7130c9e046c07c4cd4cfbb}{allocated}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00035\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a2165cec76c0674f5180990e65160a862}{prev}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00036\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a9b94dfe2f922882b76c7e592673a5a26}{next}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00037\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aa61f41e5ca407c31027431719bb3695f}{size}}\ =\ \mbox{\hyperlink{physical_8h_acbb7ce85d6b04d80fa29a7292d4bc3ed}{PAGE\_SIZE}}\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00038\ \ \ \ \ m\_last\_memory\_chunk\ =\ m\_first\_memory\_chunk;}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{comment}{//\ First\ memory\ manager\ is\ the\ kernel\ memory\ manager}}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{virtual_8cpp_source_l00119}{Max\+OS\+::memory\+::\+Virtual\+Memory\+Manager\+::allocate()}}, \mbox{\hyperlink{memorymanagement_8h_source_l00029}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::allocated}}, \mbox{\hyperlink{memorymanagement_8h_source_l00026}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::next}}, \mbox{\hyperlink{physical_8h_source_l00091}{Max\+OS\+::memory\+::\+PAGE\+\_\+\+SIZE}}, \mbox{\hyperlink{memorymanagement_8h_source_l00027}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::prev}}, \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}, \mbox{\hyperlink{memorymanagement_8h_source_l00030}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::size}}, and \mbox{\hyperlink{memorymanagement_8cpp_source_l00299}{switch\+\_\+active\+\_\+memory\+\_\+manager()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48}\label{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!````~MemoryManager@{\texorpdfstring{$\sim$}{\string~}MemoryManager}}
\index{````~MemoryManager@{\texorpdfstring{$\sim$}{\string~}MemoryManager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MemoryManager()}{\string~MemoryManager()}}
{\footnotesize\ttfamily Memory\+Manager\+::\texorpdfstring{$\sim$}{\string~}\+Memory\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destroy the Memory Manager object, frees the VMM if not the kernel memory manager. 



Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00049}{49}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ Free\ the\ VMM\ (if\ this\ is\ not\ the\ kernel\ memory\ manager)}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}(m\_virtual\_memory\_manager\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ !=\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}})}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ m\_virtual\_memory\_manager;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ kernel\ reference\ to\ this}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{this})}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ active\ reference\ to\ this}}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ ==\ \textcolor{keyword}{this})}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00062\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00051}{s\+\_\+current\+\_\+memory\+\_\+manager}}, and \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}\label{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!align@{align}}
\index{align@{align}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{align()}{align()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} Memory\+Manager\+::align (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Aligns the size to the chunk alignment. 


\begin{DoxyParams}{Parameters}
{\em size} & The size to align \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The aligned size 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00288}{288}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{keywordflow}{return}\ (size\ /\ CHUNK\_ALIGNMENT\ +\ 1)\ *\ \mbox{\hyperlink{memorymanagement_8h_a61108789ebdcfe7fa66d8a20826fec14}{CHUNK\_ALIGNMENT}};}
\DoxyCodeLine{00291\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00034}{Max\+OS\+::memory\+::\+CHUNK\+\_\+\+ALIGNMENT}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00100}{handle\+\_\+malloc()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}\label{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!free@{free}}
\index{free@{free}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{free()}{free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Frees a block of memory using the current memory manager. 


\begin{DoxyParams}{Parameters}
{\em pointer} & The pointer to the block \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00158}{158}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ memory\ manager}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}-\/>handle\_free(pointer);}
\DoxyCodeLine{00165\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00051}{s\+\_\+current\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{syscalls_8cpp_source_l00186}{Max\+OS\+::system\+::\+Syscall\+Manager\+::syscall\+\_\+free\+\_\+memory()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}\label{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!handle\_free@{handle\_free}}
\index{handle\_free@{handle\_free}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{handle\_free()}{handle\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::handle\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}}]{pointer }\end{DoxyParamCaption})}



Frees a block of memory. 


\begin{DoxyParams}{Parameters}
{\em pointer} & A pointer to the block \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00186}{186}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ Cant\ free\ unallocated\ memory}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordflow}{if}(pointer\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{comment}{//\ Check\ bounds}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{if}((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ pointer\ <\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ m\_first\_memory\_chunk\ ||\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ pointer\ >\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ m\_last\_memory\_chunk)}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ chunk\ information\ from\ the\ pointer}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)\ ((\textcolor{keywordtype}{size\_t})\ pointer\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>allocated\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ a\ free\ chunk\ before\ this\ chunk\ then\ merge\ them}}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ !\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev-\/>allocated)\ \{}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Grow\ the\ chunk\ behind\ this\ one\ so\ that\ it\ now\ contains\ the\ freed\ one}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev-\/>size\ +=\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next;}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ chunk\ in\ front\ of\ the\ freed\ one\ now\ needs\ to\ point\ to\ the\ merged\ chunk}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev;}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Freed\ chunk\ doesn't\ exist\ anymore\ so\ now\ working\ with\ the\ merged\ chunk}}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev;}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ a\ free\ chunk\ after\ this\ chunk\ then\ merge\ them}}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ !\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>allocated)\ \{}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Grow\ this\ chunk\ so\ that\ it\ now\ contains\ the\ free\ chunk\ in\ front\ of\ the\ old\ (now\ freed)\ one}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size\ +=\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>size\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ that\ this\ chunk\ contains\ the\ next\ one,\ it\ has\ to\ point\ to\ the\ one\ in\ front\ of\ what\ has\ just\ been\ merged}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ that\ has\ to\ point\ to\ this}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>next;}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}};}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \}}
\DoxyCodeLine{00229\ \}}

\end{DoxyCode}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}\label{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!handle\_malloc@{handle\_malloc}}
\index{handle\_malloc@{handle\_malloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{handle\_malloc()}{handle\_malloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::handle\+\_\+malloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



Allocates a block of memory. 


\begin{DoxyParams}{Parameters}
{\em size} & The size of the block to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the block, or nullptr if no block is available 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00100}{100}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{comment}{//\ Nothing\ to\ allocate}}
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keywordflow}{if}(size\ ==\ 0)}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ Add\ room\ to\ store\ the\ chunk\ information}}
\DoxyCodeLine{00109\ \ \ \ \ size\ =\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}{align}}(size\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ next\ free\ chunk\ that\ is\ big\ enough}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ m\_first\_memory\_chunk;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ ==\ \textcolor{keyword}{nullptr};\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next)\ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size\ >\ size\ \&\&\ !\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>allocated)}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}};}
\DoxyCodeLine{00115\ \ \ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ no\ free\ chunk\ then\ make\ more\ room}}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ expand\_heap(size);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ not\ left\ over\ space\ to\ store\ extra\ chunks\ there\ is\ no\ need\ to\ split\ the\ chunk}}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>size\ <\ size\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}})\ +\ 1)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>allocated\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ p\ =\ (\textcolor{keywordtype}{void}*)\ (((\textcolor{keywordtype}{size\_t})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}})\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ p;}
\DoxyCodeLine{00126\ \ \ \ \ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{//\ Split\ the\ chunk\ into:\ what\ was\ requested\ +\ free\ overflow\ space\ for\ future\ allocates}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ \ -\/\ This\ prevents\ waste\ in\ the\ event\ that\ a\ big\ free\ chunk\ was\ found\ but\ the\ requested\ size\ would\ only\ use\ a\ portion\ of\ that}}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}\ =\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)\ ((\textcolor{keywordtype}{size\_t})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}})\ +\ size);}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>allocated\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00132\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>size\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>size\ -\/\ size\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{comment}{//\ Add\ to\ the\ linked\ list}}
\DoxyCodeLine{00136\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>next;}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>next\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{comment}{//\ Requested\ chunk\ is\ now\ allocated\ exactly\ to\ the\ size\ requested\ and\ points\ to\ the\ free\ (split)\ block\ of\ memory\ that}}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ it\ did\ not\ use}}
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>size\ =\ size;}
\DoxyCodeLine{00143\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>allocated\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}};}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{comment}{//\ Update\ the\ last\ memory\ chunk\ if\ necessary}}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ ==\ m\_last\_memory\_chunk)}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ m\_last\_memory\_chunk\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{void}*)\ (((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\_t}})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}})\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00151\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8cpp_source_l00288}{align()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}\label{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!kfree@{kfree}}
\index{kfree@{kfree}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{kfree()}{kfree()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::kfree (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Frees a block of memory using the kernel memory manager. 


\begin{DoxyParams}{Parameters}
{\em pointer} & The pointer to the block \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00172}{172}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ kernel\ memory\ manager}}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}-\/>handle\_free(pointer);}
\DoxyCodeLine{00179\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{tcp_8cpp_source_l00143}{Max\+OS\+::net\+::\+TCPSocket\+::connected()}}, \mbox{\hyperlink{udp_8cpp_source_l00248}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::disconnect()}}, \mbox{\hyperlink{tcp_8cpp_source_l00133}{Max\+OS\+::net\+::\+TCPSocket\+::disconnected()}}, \mbox{\hyperlink{tcp_8cpp_source_l00100}{Max\+OS\+::net\+::\+TCPSocket\+::handle\+\_\+transmission\+\_\+control\+\_\+protocol\+\_\+payload()}}, \mbox{\hyperlink{udp_8cpp_source_l00072}{Max\+OS\+::net\+::\+UDPSocket\+::handle\+\_\+user\+\_\+datagram\+\_\+protocol\+\_\+payload()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00379}{operator delete()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00402}{operator delete()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00390}{operator delete\mbox{[}$\,$\mbox{]}()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00414}{operator delete\mbox{[}$\,$\mbox{]}()}}, \mbox{\hyperlink{udp_8cpp_source_l00269}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::send()}}, \mbox{\hyperlink{ethernetframe_8cpp_source_l00182}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Handler\+::send\+\_\+ethernet\+\_\+frame()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00190}{Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::send\+\_\+internet\+\_\+protocol\+\_\+packet()}}, and \mbox{\hyperlink{tcp_8cpp_source_l00420}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::send\+\_\+transmission\+\_\+control\+\_\+protocol\+\_\+packet()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}\label{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!kmalloc@{kmalloc}}
\index{kmalloc@{kmalloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{kmalloc()}{kmalloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::kmalloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Allocates a block of memory in the KERNEL space. 


\begin{DoxyParams}{Parameters}
{\em size} & The size of the block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The pointer to the block, or nullptr if no block is available 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00085}{85}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ kernel\ memory\ manager}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}-\/>handle\_malloc(size);}
\DoxyCodeLine{00092\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{amd__am79c973_8cpp_source_l00026}{Max\+OS\+::drivers\+::ethernet\+::\+AMD\+\_\+\+AM79\+C973\+::\+AMD\+\_\+\+AM79\+C973()}}, \mbox{\hyperlink{tcp_8cpp_source_l00484}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::connect()}}, \mbox{\hyperlink{udp_8cpp_source_l00181}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::connect()}}, \mbox{\hyperlink{tcp_8cpp_source_l00551}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::listen()}}, \mbox{\hyperlink{udp_8cpp_source_l00222}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::listen()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00331}{operator new()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00343}{operator new\mbox{[}$\,$\mbox{]}()}}, \mbox{\hyperlink{udp_8cpp_source_l00269}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::send()}}, \mbox{\hyperlink{ethernetframe_8cpp_source_l00182}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Handler\+::send\+\_\+ethernet\+\_\+frame()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00190}{Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::send\+\_\+internet\+\_\+protocol\+\_\+packet()}}, \mbox{\hyperlink{tcp_8cpp_source_l00420}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::send\+\_\+transmission\+\_\+control\+\_\+protocol\+\_\+packet()}}, \mbox{\hyperlink{process_8cpp_source_l00026}{Max\+OS\+::processes\+::\+Thread\+::\+Thread()}}, \mbox{\hyperlink{vesaboot_8cpp_source_l00025}{Max\+OS\+::drivers\+::console\+::\+VESABoot\+Console\+::\+VESABoot\+Console()}}, and \mbox{\hyperlink{cpu_8cpp_source_l00059}{Max\+OS\+::system\+::\+Core\+::wake\+\_\+up()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}\label{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!malloc@{malloc}}
\index{malloc@{malloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{malloc()}{malloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::malloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Allocates a block of memory in the current USERSPACE heap. 


\begin{DoxyParams}{Parameters}
{\em size} & size of the block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the block, 0 if no block is available or no memory manager is set 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00070}{70}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ somthing\ to\ do\ the\ allocation}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}-\/>handle\_malloc(size);}
\DoxyCodeLine{00077\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00051}{s\+\_\+current\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{syscalls_8cpp_source_l00169}{Max\+OS\+::system\+::\+Syscall\+Manager\+::syscall\+\_\+allocate\+\_\+memory()}}, and \mbox{\hyperlink{process_8cpp_source_l00026}{Max\+OS\+::processes\+::\+Thread\+::\+Thread()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_aa7a99915dbb2352e42198289c9f5032a}\label{classMaxOS_1_1memory_1_1MemoryManager_aa7a99915dbb2352e42198289c9f5032a} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!memory\_used@{memory\_used}}
\index{memory\_used@{memory\_used}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{memory\_used()}{memory\_used()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} Memory\+Manager\+::memory\+\_\+used (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the amount of memory used. 

\begin{DoxyReturn}{Returns}
The amount of memory used 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00270}{270}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ 0;}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{comment}{//\ Loop\ through\ all\ the\ chunks\ and\ add\ up\ the\ size\ of\ the\ allocated\ chunks}}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ m\_first\_memory\_chunk;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ !=\ \textcolor{keyword}{nullptr};\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next)}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>allocated)}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ +=\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size;}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}};}
\DoxyCodeLine{00280\ \}}

\end{DoxyCode}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}\label{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!switch\_active\_memory\_manager@{switch\_active\_memory\_manager}}
\index{switch\_active\_memory\_manager@{switch\_active\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{switch\_active\_memory\_manager()}{switch\_active\_memory\_manager()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::switch\+\_\+active\+\_\+memory\+\_\+manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*}}]{manager }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Switches the active memory manager. 


\begin{DoxyParams}{Parameters}
{\em manager} & The new memory manager \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00299}{299}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ manager}}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{comment}{//\ Switch\ the\ address\ space}}
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}mov\ \%0,\ \%\%cr3"{}}::\textcolor{stringliteral}{"{}r"{}}((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}}-\/>m\_virtual\_memory\_manager-\/>pml4\_root\_address\_physical())\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ active\ memory\ manager}}
\DoxyCodeLine{00309\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}};}
\DoxyCodeLine{00310\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00051}{s\+\_\+current\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00022}{Memory\+Manager()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe}\label{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!vmm@{vmm}}
\index{vmm@{vmm}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{vmm()}{vmm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::vmm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Gets the active virtual memory manager

\begin{DoxyReturn}{Returns}
The active virtual memory manager 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00317}{317}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_virtual\_memory\_manager;}
\DoxyCodeLine{00320\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}\label{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_current\_memory\_manager@{s\_current\_memory\_manager}}
\index{s\_current\_memory\_manager@{s\_current\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_current\_memory\_manager}{s\_current\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}}\texorpdfstring{$\ast$}{*} Max\+OS\+::memory\+::\+Memory\+Manager\+::s\+\_\+current\+\_\+memory\+\_\+manager = nullptr\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



The memory manager for the current process. 



Definition at line \mbox{\hyperlink{memorymanagement_8h_source_l00051}{51}} of file \mbox{\hyperlink{memorymanagement_8h_source}{memorymanagement.\+h}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00158}{free()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00070}{malloc()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00299}{switch\+\_\+active\+\_\+memory\+\_\+manager()}}, and \mbox{\hyperlink{memorymanagement_8cpp_source_l00049}{\texorpdfstring{$\sim$}{\string~}\+Memory\+Manager()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}\label{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_kernel\_memory\_manager@{s\_kernel\_memory\_manager}}
\index{s\_kernel\_memory\_manager@{s\_kernel\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_kernel\_memory\_manager}{s\_kernel\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}}\texorpdfstring{$\ast$}{*} Max\+OS\+::memory\+::\+Memory\+Manager\+::s\+\_\+kernel\+\_\+memory\+\_\+manager = nullptr\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



The memory manager for any kernel processes and all kernel allocations. 



Definition at line \mbox{\hyperlink{memorymanagement_8h_source_l00052}{52}} of file \mbox{\hyperlink{memorymanagement_8h_source}{memorymanagement.\+h}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00172}{kfree()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00085}{kmalloc()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00022}{Memory\+Manager()}}, \mbox{\hyperlink{process_8cpp_source_l00181}{Max\+OS\+::processes\+::\+Process\+::\+Process()}}, \mbox{\hyperlink{scheduler_8cpp_source_l00365}{Max\+OS\+::processes\+::\+Scheduler\+::\+Scheduler()}}, \mbox{\hyperlink{virtual_8cpp_source_l00022}{Max\+OS\+::memory\+::\+Virtual\+Memory\+Manager\+::\+Virtual\+Memory\+Manager()}}, and \mbox{\hyperlink{memorymanagement_8cpp_source_l00049}{\texorpdfstring{$\sim$}{\string~}\+Memory\+Manager()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/memory/\mbox{\hyperlink{memorymanagement_8h}{memorymanagement.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/memory/\mbox{\hyperlink{memorymanagement_8cpp}{memorymanagement.\+cpp}}\end{DoxyCompactItemize}
