\doxysection{Max\+OS\+::memory\+::Memory\+Manager Class Reference}
\hypertarget{classMaxOS_1_1memory_1_1MemoryManager}{}\label{classMaxOS_1_1memory_1_1MemoryManager}\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}


Handles memory allocation and deallocation.  




{\ttfamily \#include $<$memorymanagement.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ad4ecc5162e3381090d9ba930e40afacb}{Memory\+Manager}} (\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{virtual\+\_\+memory\+\_\+manager}}=\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{nullptr}})
\begin{DoxyCompactList}\small\item\em Construct a new Memory Manager object. Will switch the pml4 to use the calling process\textquotesingle{}s page tables. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}{handle\+\_\+malloc}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Allocates a block of memory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}{handle\+\_\+free}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe}{vmm}} ()
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{int}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_aba582f32d87efac7782b6ec2b6faaa03}{memory\+\_\+used}} ()
\begin{DoxyCompactList}\small\item\em Returns the amount of memory used. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}{malloc}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Allocates a block of memory in the current USERSPACE heap. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}{free}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory using the current memory manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}{kmalloc}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Allocates a block of memory in the KERNEL space. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}{kfree}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory using the kernel memory manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}{align}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Aligns the size to the chunk alignment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{static}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}{switch\+\_\+active\+\_\+memory\+\_\+manager}} (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}})
\begin{DoxyCompactList}\small\item\em Switches the active memory manager. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\+\_\+current\+\_\+memory\+\_\+manager}} = nullptr
\begin{DoxyCompactList}\small\item\em The memory manager for the current process. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\+\_\+kernel\+\_\+memory\+\_\+manager}} = nullptr
\begin{DoxyCompactList}\small\item\em The memory manager for any kernel processes and all kernel allocations. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles memory allocation and deallocation. 

Definition at line \mbox{\hyperlink{memorymanagement_8h_source_l00041}{41}} of file \mbox{\hyperlink{memorymanagement_8h_source}{memorymanagement.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ad4ecc5162e3381090d9ba930e40afacb}\label{classMaxOS_1_1memory_1_1MemoryManager_ad4ecc5162e3381090d9ba930e40afacb} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!MemoryManager@{MemoryManager}}
\index{MemoryManager@{MemoryManager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{MemoryManager()}{MemoryManager()}}
{\footnotesize\ttfamily Memory\+Manager\+::\+Memory\+Manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*}}]{vmm = {\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{nullptr}}} }\end{DoxyParamCaption})}



Construct a new Memory Manager object. Will switch the pml4 to use the calling process\textquotesingle{}s page tables. 


\begin{DoxyParams}{Parameters}
{\em vmm} & The virtual memory manager to use, if nullptr a new one will be created \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00022}{22}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00023\ :\ m\_virtual\_memory\_manager(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe}{vmm}})}
\DoxyCodeLine{00024\ \{}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{comment}{//\ Create\ the\ VMM\ if\ not\ provided}}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_virtual\_memory\_manager\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ m\_virtual\_memory\_manager\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{VirtualMemoryManager}}();}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ Enable\ the\ memory\ manager}}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}{switch\_active\_memory\_manager}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{comment}{//\ Setup\ the\ first\ chunk\ of\ memory}}
\DoxyCodeLine{00034\ \ \ \ \ this-\/>m\_first\_memory\_chunk\ =\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)\ m\_virtual\_memory\_manager-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager_a433396979e1b088454eefbce0964b709}{allocate}}(PAGE\_SIZE\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}),\ 0);}
\DoxyCodeLine{00035\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aeb2ac8030a7130c9e046c07c4cd4cfbb}{allocated}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00036\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a2165cec76c0674f5180990e65160a862}{prev}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00037\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a9b94dfe2f922882b76c7e592673a5a26}{next}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00038\ \ \ \ \ m\_first\_memory\_chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aa61f41e5ca407c31027431719bb3695f}{size}}\ =\ \mbox{\hyperlink{physical_8h_acbb7ce85d6b04d80fa29a7292d4bc3ed}{PAGE\_SIZE}}\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00039\ \ \ \ \ m\_last\_memory\_chunk\ =\ m\_first\_memory\_chunk;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ First\ memory\ manager\ is\ the\ kernel\ memory\ manager}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{virtual_8cpp_source_l00115}{Max\+OS\+::memory\+::\+Virtual\+Memory\+Manager\+::allocate()}}, \mbox{\hyperlink{memorymanagement_8h_source_l00030}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::allocated}}, \mbox{\hyperlink{memorymanagement_8h_source_l00027}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::next}}, \mbox{\hyperlink{physical_8h_source_l00081}{Max\+OS\+::memory\+::\+PAGE\+\_\+\+SIZE}}, \mbox{\hyperlink{memorymanagement_8h_source_l00028}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::prev}}, \mbox{\hyperlink{memorymanagement_8h_source_l00053}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}, \mbox{\hyperlink{memorymanagement_8h_source_l00031}{Max\+OS\+::memory\+::\+Memory\+Chunk\+::size}}, and \mbox{\hyperlink{memorymanagement_8cpp_source_l00297}{switch\+\_\+active\+\_\+memory\+\_\+manager()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48}\label{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!````~MemoryManager@{\texorpdfstring{$\sim$}{\string~}MemoryManager}}
\index{````~MemoryManager@{\texorpdfstring{$\sim$}{\string~}MemoryManager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}MemoryManager()}{\string~MemoryManager()}}
{\footnotesize\ttfamily Memory\+Manager\+::\texorpdfstring{$\sim$}{\string~}\+Memory\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00047}{47}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ Free\ the\ VMM\ (if\ this\ is\ not\ the\ kernel\ memory\ manager)}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_virtual\_memory\_manager\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ !=\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}})}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ m\_virtual\_memory\_manager;}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ kernel\ reference\ to\ this}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{this})}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{comment}{//\ Remove\ the\ active\ reference\ to\ this}}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ ==\ \textcolor{keyword}{this})}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00060\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}\label{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!align@{align}}
\index{align@{align}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{align()}{align()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} Memory\+Manager\+::align (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Aligns the size to the chunk alignment. 


\begin{DoxyParams}{Parameters}
{\em size} & The size to align \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The aligned size 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00286}{286}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ /\ CHUNK\_ALIGNMENT\ +\ 1)\ *\ \mbox{\hyperlink{memorymanagement_8h_a61108789ebdcfe7fa66d8a20826fec14}{CHUNK\_ALIGNMENT}};}
\DoxyCodeLine{00289\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00035}{Max\+OS\+::memory\+::\+CHUNK\+\_\+\+ALIGNMENT}}, and \mbox{\hyperlink{ext2_8h_source_l00001}{size}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00098}{handle\+\_\+malloc()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}\label{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!free@{free}}
\index{free@{free}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{free()}{free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Frees a block of memory using the current memory manager. 


\begin{DoxyParams}{Parameters}
{\em pointer} & The pointer to the block \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00156}{156}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ memory\ manager}}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}-\/>handle\_free(pointer);}
\DoxyCodeLine{00163\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+current\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{syscalls_8cpp_source_l00179}{Max\+OS\+::system\+::\+Syscall\+Manager\+::syscall\+\_\+free\+\_\+memory()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}\label{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!handle\_free@{handle\_free}}
\index{handle\_free@{handle\_free}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{handle\_free()}{handle\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::handle\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}}]{pointer }\end{DoxyParamCaption})}



Frees a block of memory. 


\begin{DoxyParams}{Parameters}
{\em pointer} & A pointer to the block \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00184}{184}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{comment}{//\ Cant\ free\ unallocated\ memory}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{if}\ (pointer\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{comment}{//\ Check\ bounds}}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ pointer\ <\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ m\_first\_memory\_chunk\ ||\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ pointer\ >\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ m\_last\_memory\_chunk)}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{comment}{//\ Get\ the\ chunk\ information\ from\ the\ pointer}}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)\ ((\textcolor{keywordtype}{size\_t})\ pointer\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>allocated\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ a\ free\ chunk\ before\ this\ chunk\ then\ merge\ them}}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ !\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev-\/>allocated)\ \{}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Grow\ the\ chunk\ behind\ this\ one\ so\ that\ it\ now\ contains\ the\ freed\ one}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev-\/>size\ +=\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next;}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ chunk\ in\ front\ of\ the\ freed\ one\ now\ needs\ to\ point\ to\ the\ merged\ chunk}}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev;}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Freed\ chunk\ doesn't\ exist\ anymore\ so\ now\ working\ with\ the\ merged\ chunk}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>prev;}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ a\ free\ chunk\ after\ this\ chunk\ then\ merge\ them}}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ !\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>allocated)\ \{}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Grow\ this\ chunk\ so\ that\ it\ now\ contains\ the\ free\ chunk\ in\ front\ of\ the\ old\ (now\ freed)\ one}}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size\ +=\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>size\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ that\ this\ chunk\ contains\ the\ next\ one,\ it\ has\ to\ point\ to\ the\ one\ in\ front\ of\ what\ has\ just\ been\ merged}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ that\ has\ to\ point\ to\ this}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>next;}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}};}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ \}}

\end{DoxyCode}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}\label{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!handle\_malloc@{handle\_malloc}}
\index{handle\_malloc@{handle\_malloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{handle\_malloc()}{handle\_malloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::handle\+\_\+malloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



Allocates a block of memory. 


\begin{DoxyParams}{Parameters}
{\em size} & The size of the block to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the block, or nullptr if no block is available 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00098}{98}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Nothing\ to\ allocate}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ ==\ 0)}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Add\ room\ to\ store\ the\ chunk\ information}}
\DoxyCodeLine{00107\ \ \ \ \ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ =\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}{align}}(\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{comment}{//\ Find\ the\ next\ free\ chunk\ that\ is\ big\ enough}}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ m\_first\_memory\_chunk;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ ==\ \textcolor{keyword}{nullptr};\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next)\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size\ >\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ \&\&\ !\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>allocated)}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}};}
\DoxyCodeLine{00113\ \ \ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ no\ free\ chunk\ then\ make\ more\ room}}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ expand\_heap(\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}});}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{comment}{//\ If\ there\ is\ not\ left\ over\ space\ to\ store\ extra\ chunks\ there\ is\ no\ need\ to\ split\ the\ chunk}}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>size\ <\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}})\ +\ 1)\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>allocated\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ p\ =\ (\textcolor{keywordtype}{void}*)\ (((\textcolor{keywordtype}{size\_t})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}})\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ p;}
\DoxyCodeLine{00124\ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{comment}{//\ Split\ the\ chunk\ into:\ what\ was\ requested\ +\ free\ overflow\ space\ for\ future\ allocates}}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{comment}{//\ \ -\/\ This\ prevents\ waste\ in\ the\ event\ that\ a\ big\ free\ chunk\ was\ found\ but\ the\ requested\ size\ would\ only\ use\ a\ portion\ of\ that}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{auto}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}\ =\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)\ ((\textcolor{keywordtype}{size\_t})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}})\ +\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}});}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>allocated\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>size\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>size\ -\/\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}}\ -\/\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{00131\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}};}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{comment}{//\ Add\ to\ the\ linked\ list}}
\DoxyCodeLine{00134\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>next;}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>next\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}}-\/>next-\/>prev\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}};}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{comment}{//\ Requested\ chunk\ is\ now\ allocated\ exactly\ to\ the\ size\ requested\ and\ points\ to\ the\ free\ (split)\ block\ of\ memory\ that}}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{comment}{//\ it\ did\ not\ use}}
\DoxyCodeLine{00140\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>size\ =\ \mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}};}
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>allocated\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}-\/>next\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//\ Update\ the\ last\ memory\ chunk\ if\ necessary}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ ==\ m\_last\_memory\_chunk)}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ m\_last\_memory\_chunk\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{extra}};}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{void}*)\ (((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\_t}})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}})\ +\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{00149\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8cpp_source_l00286}{align()}}, and \mbox{\hyperlink{ext2_8h_source_l00001}{size}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}\label{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!kfree@{kfree}}
\index{kfree@{kfree}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{kfree()}{kfree()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::kfree (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*}}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Frees a block of memory using the kernel memory manager. 


\begin{DoxyParams}{Parameters}
{\em pointer} & The pointer to the block \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00170}{170}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ kernel\ memory\ manager}}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}-\/>handle\_free(pointer);}
\DoxyCodeLine{00177\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00053}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{tcp_8cpp_source_l00121}{Max\+OS\+::net\+::\+TCPSocket\+::\+Connected()}}, \mbox{\hyperlink{udp_8cpp_source_l00245}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::\+Disconnect()}}, \mbox{\hyperlink{tcp_8cpp_source_l00111}{Max\+OS\+::net\+::\+TCPSocket\+::\+Disconnected()}}, \mbox{\hyperlink{tcp_8cpp_source_l00078}{Max\+OS\+::net\+::\+TCPSocket\+::handle\+Transmission\+Control\+Protocol\+Payload()}}, \mbox{\hyperlink{udp_8cpp_source_l00070}{Max\+OS\+::net\+::\+UDPSocket\+::handle\+User\+Datagram\+Protocol\+Payload()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00377}{operator delete()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00400}{operator delete()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00388}{operator delete\mbox{[}$\,$\mbox{]}()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00412}{operator delete\mbox{[}$\,$\mbox{]}()}}, \mbox{\hyperlink{udp_8cpp_source_l00266}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::\+Send()}}, \mbox{\hyperlink{ethernetframe_8cpp_source_l00181}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Handler\+::send\+Ethernet\+Frame()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00185}{Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::send\+Internet\+Protocol\+Packet()}}, and \mbox{\hyperlink{tcp_8cpp_source_l00385}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::send\+Transmission\+Control\+Protocol\+Packet()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}\label{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!kmalloc@{kmalloc}}
\index{kmalloc@{kmalloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{kmalloc()}{kmalloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::kmalloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Allocates a block of memory in the KERNEL space. 


\begin{DoxyParams}{Parameters}
{\em size} & The size of the block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The pointer to the block, or nullptr if no block is available 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00083}{83}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ kernel\ memory\ manager}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}{s\_kernel\_memory\_manager}}-\/>handle\_malloc(\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}});}
\DoxyCodeLine{00090\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00053}{s\+\_\+kernel\+\_\+memory\+\_\+manager}}, and \mbox{\hyperlink{ext2_8h_source_l00001}{size}}.



Referenced by \mbox{\hyperlink{amd__am79c973_8cpp_source_l00022}{Max\+OS\+::drivers\+::ethernet\+::\+AMD\+\_\+\+AM79\+C973\+::\+AMD\+\_\+\+AM79\+C973()}}, \mbox{\hyperlink{tcp_8cpp_source_l00449}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::\+Connect()}}, \mbox{\hyperlink{udp_8cpp_source_l00178}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::\+Connect()}}, \mbox{\hyperlink{tcp_8cpp_source_l00516}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::\+Listen()}}, \mbox{\hyperlink{udp_8cpp_source_l00219}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::\+Listen()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00329}{operator new()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00341}{operator new\mbox{[}$\,$\mbox{]}()}}, \mbox{\hyperlink{udp_8cpp_source_l00266}{Max\+OS\+::net\+::\+User\+Datagram\+Protocol\+Handler\+::\+Send()}}, \mbox{\hyperlink{ethernetframe_8cpp_source_l00181}{Max\+OS\+::net\+::\+Ethernet\+Frame\+Handler\+::send\+Ethernet\+Frame()}}, \mbox{\hyperlink{ipv4_8cpp_source_l00185}{Max\+OS\+::net\+::\+Internet\+Protocol\+Handler\+::send\+Internet\+Protocol\+Packet()}}, \mbox{\hyperlink{tcp_8cpp_source_l00385}{Max\+OS\+::net\+::\+Transmission\+Control\+Protocol\+Handler\+::send\+Transmission\+Control\+Protocol\+Packet()}}, \mbox{\hyperlink{process_8cpp_source_l00021}{Max\+OS\+::processes\+::\+Thread\+::\+Thread()}}, \mbox{\hyperlink{vesaboot_8cpp_source_l00025}{Max\+OS\+::drivers\+::console\+::\+VESABoot\+Console\+::\+VESABoot\+Console()}}, and \mbox{\hyperlink{cpu_8cpp_source_l00059}{Max\+OS\+::system\+::\+Core\+::wake\+\_\+up()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}\label{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!malloc@{malloc}}
\index{malloc@{malloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{malloc()}{malloc()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::malloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Allocates a block of memory in the current USERSPACE heap. 


\begin{DoxyParams}{Parameters}
{\em size} & size of the block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the block, 0 if no block is available or no memory manager is set 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00068}{68}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ somthing\ to\ do\ the\ allocation}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}-\/>handle\_malloc(\mbox{\hyperlink{ext2_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}});}
\DoxyCodeLine{00075\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+current\+\_\+memory\+\_\+manager}}, and \mbox{\hyperlink{ext2_8h_source_l00001}{size}}.



Referenced by \mbox{\hyperlink{syscalls_8cpp_source_l00162}{Max\+OS\+::system\+::\+Syscall\+Manager\+::syscall\+\_\+allocate\+\_\+memory()}}, and \mbox{\hyperlink{process_8cpp_source_l00021}{Max\+OS\+::processes\+::\+Thread\+::\+Thread()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_aba582f32d87efac7782b6ec2b6faaa03}\label{classMaxOS_1_1memory_1_1MemoryManager_aba582f32d87efac7782b6ec2b6faaa03} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!memory\_used@{memory\_used}}
\index{memory\_used@{memory\_used}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{memory\_used()}{memory\_used()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{int}} Memory\+Manager\+::memory\+\_\+used (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the amount of memory used. 

\begin{DoxyReturn}{Returns}
The amount of memory used 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00268}{268}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ =\ 0;}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \textcolor{comment}{//\ Loop\ through\ all\ the\ chunks\ and\ add\ up\ the\ size\ of\ the\ allocated\ chunks}}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ m\_first\_memory\_chunk;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ !=\ \textcolor{keyword}{nullptr};\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>next)}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>allocated)}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}}\ +=\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{chunk}}-\/>size;}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{result}};}
\DoxyCodeLine{00278\ \}}

\end{DoxyCode}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}\label{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!switch\_active\_memory\_manager@{switch\_active\_memory\_manager}}
\index{switch\_active\_memory\_manager@{switch\_active\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{switch\_active\_memory\_manager()}{switch\_active\_memory\_manager()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Memory\+Manager\+::switch\+\_\+active\+\_\+memory\+\_\+manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} \texorpdfstring{$\ast$}{*}}]{manager }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Switches the active memory manager. 


\begin{DoxyParams}{Parameters}
{\em manager} & The new memory manager \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00297}{297}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{comment}{//\ Make\ sure\ there\ is\ a\ manager}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{comment}{//\ Switch\ the\ address\ space}}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{keyword}{asm}\ \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}mov\ \%0,\ \%\%cr3"{}}::\textcolor{stringliteral}{"{}r"{}}((\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint64\_t}})\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}}-\/>m\_virtual\_memory\_manager-\/>pml4\_root\_address\_physical())\ :\ \textcolor{stringliteral}{"{}memory"{}});}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{comment}{//\ Set\ the\ active\ memory\ manager}}
\DoxyCodeLine{00307\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}{s\_current\_memory\_manager}}\ =\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{manager}};}
\DoxyCodeLine{00308\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{memorymanagement_8h_source_l00052}{s\+\_\+current\+\_\+memory\+\_\+manager}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00022}{Memory\+Manager()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe}\label{classMaxOS_1_1memory_1_1MemoryManager_afa39a98646615a25a16aab6c62ada9fe} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!vmm@{vmm}}
\index{vmm@{vmm}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{vmm()}{vmm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} \texorpdfstring{$\ast$}{*} Memory\+Manager\+::vmm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Gets the active virtual memory manager

\begin{DoxyReturn}{Returns}
The active virtual memory manager 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{memorymanagement_8cpp_source_l00315}{315}} of file \mbox{\hyperlink{memorymanagement_8cpp_source}{memorymanagement.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_virtual\_memory\_manager;}
\DoxyCodeLine{00318\ \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e}\label{classMaxOS_1_1memory_1_1MemoryManager_a21c9b41d5a57a6a5c22a15e229fd8b7e} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_current\_memory\_manager@{s\_current\_memory\_manager}}
\index{s\_current\_memory\_manager@{s\_current\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_current\_memory\_manager}{s\_current\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}}\texorpdfstring{$\ast$}{*} Max\+OS\+::memory\+::\+Memory\+Manager\+::s\+\_\+current\+\_\+memory\+\_\+manager = nullptr\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



The memory manager for the current process. 



Definition at line \mbox{\hyperlink{memorymanagement_8h_source_l00052}{52}} of file \mbox{\hyperlink{memorymanagement_8h_source}{memorymanagement.\+h}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00156}{free()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00068}{malloc()}}, and \mbox{\hyperlink{memorymanagement_8cpp_source_l00297}{switch\+\_\+active\+\_\+memory\+\_\+manager()}}.

\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48}\label{classMaxOS_1_1memory_1_1MemoryManager_a80d8e713d6ad371a4b564a5202542d48} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_kernel\_memory\_manager@{s\_kernel\_memory\_manager}}
\index{s\_kernel\_memory\_manager@{s\_kernel\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_kernel\_memory\_manager}{s\_kernel\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}}\texorpdfstring{$\ast$}{*} Max\+OS\+::memory\+::\+Memory\+Manager\+::s\+\_\+kernel\+\_\+memory\+\_\+manager = nullptr\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



The memory manager for any kernel processes and all kernel allocations. 



Definition at line \mbox{\hyperlink{memorymanagement_8h_source_l00053}{53}} of file \mbox{\hyperlink{memorymanagement_8h_source}{memorymanagement.\+h}}.



Referenced by \mbox{\hyperlink{memorymanagement_8cpp_source_l00170}{kfree()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00083}{kmalloc()}}, \mbox{\hyperlink{memorymanagement_8cpp_source_l00022}{Memory\+Manager()}}, \mbox{\hyperlink{process_8cpp_source_l00176}{Max\+OS\+::processes\+::\+Process\+::\+Process()}}, and \mbox{\hyperlink{scheduler_8cpp_source_l00362}{Max\+OS\+::processes\+::\+Scheduler\+::\+Scheduler()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/memory/\mbox{\hyperlink{memorymanagement_8h}{memorymanagement.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/memory/\mbox{\hyperlink{memorymanagement_8cpp}{memorymanagement.\+cpp}}\end{DoxyCompactItemize}
