\hypertarget{classMaxOS_1_1memory_1_1MemoryManager}{}\doxysection{Max\+OS\+::memory\+::Memory\+Manager Class Reference}
\label{classMaxOS_1_1memory_1_1MemoryManager}\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}


Handles memory allocation and deallocation.  




{\ttfamily \#include $<$memorymanagement.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a2e50b6925e0a3866bd38b44a84731d83}{Memory\+Manager}} (\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} $\ast$virtual\+\_\+memory\+\_\+manager)
\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48}{$\sim$\+Memory\+Manager}} ()
\item 
void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}{handle\+\_\+malloc}} (size\+\_\+t \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\begin{DoxyCompactList}\small\item\em Allocates a block of memory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}{handle\+\_\+free}} (void $\ast$pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ad475ce47cd311bd63a90e40de3f578ec}{get\+\_\+vmm}} ()
\item 
int \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_aba582f32d87efac7782b6ec2b6faaa03}{memory\+\_\+used}} ()
\begin{DoxyCompactList}\small\item\em Returns the amount of memory used. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}{align}} (size\+\_\+t \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\begin{DoxyCompactList}\small\item\em Aligns the size to the chunk alignment. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}{malloc}} (size\+\_\+t \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\begin{DoxyCompactList}\small\item\em Allocates a block of memory using the current memory manager. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}{free}} (void $\ast$pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory using the current memory manager. \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}{kmalloc}} (size\+\_\+t \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}})
\begin{DoxyCompactList}\small\item\em Allocates a block of memory using the kernel memory manager. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}{kfree}} (void $\ast$pointer)
\begin{DoxyCompactList}\small\item\em Frees a block of memory using the kernel memory manager. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}{switch\+\_\+active\+\_\+memory\+\_\+manager}} (\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$manager)
\begin{DoxyCompactList}\small\item\em Switches the active memory manager. \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a8bd22e2cd53dc920440657d432e3ce67}{to\+\_\+higher\+\_\+region}} (uintptr\+\_\+t \mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\+\_\+address}})
\begin{DoxyCompactList}\small\item\em Converts a physical address to a higher region address if it is in the lower region using the higher half kernel offset. \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a3cd0e4168f302070311c1896f22d08f8}{to\+\_\+lower\+\_\+region}} (uintptr\+\_\+t virtual\+\_\+address)
\begin{DoxyCompactList}\small\item\em Converts a virtual address to a lower region address if it is in the higher region using the higher half kernel offset. \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a41a82e21744cda9eb8675fe2699ea731}{to\+\_\+io\+\_\+region}} (uintptr\+\_\+t \mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\+\_\+address}})
\begin{DoxyCompactList}\small\item\em Converts a physical address to an IO region address if it is in the lower region using the higher half memory offset. \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ab093d27663b4911c7995f36945ccd1e9}{to\+\_\+dm\+\_\+region}} (uintptr\+\_\+t \mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\+\_\+address}})
\begin{DoxyCompactList}\small\item\em Converts a physical address to a direct map region address if it is in the lower region using the higher half direct map offset. \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ab0647fd9b0c504382c6b52117c883fe0}{from\+\_\+dm\+\_\+region}} (uintptr\+\_\+t \mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\+\_\+address}})
\begin{DoxyCompactList}\small\item\em Converts a direct map region address to a physical address if it is in the higher region using the higher half direct map offset. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a7d412394ef0b7e29bbe278406751761b}{in\+\_\+higher\+\_\+region}} (uintptr\+\_\+t virtual\+\_\+address)
\begin{DoxyCompactList}\small\item\em Checks if a virtual address is in the higher region. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a96a625a7e3c47d7b5ee661d8d3a5d005}{previous\+\_\+memory\+\_\+manager}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\+\_\+current\+\_\+memory\+\_\+manager}} = 0
\item 
static \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\+\_\+kernel\+\_\+memory\+\_\+manager}} = 0
\item 
static const uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}{s\+\_\+higher\+\_\+half\+\_\+kernel\+\_\+offset}} \{ 0x\+F\+F\+F\+F\+F\+F\+F\+F80000000 \}
\item 
static const uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}{s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+offset}} \{ 0x\+F\+F\+F\+F800000000000 \}
\item 
static const uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ab4352b72c7406787419dd7bad377629e}{s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+reserved}} \{ 0x280000000 \}
\item 
static const uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a43858e53a4559c6bc0280f429b85c8da}{s\+\_\+higher\+\_\+half\+\_\+offset}} \{ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}{s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+offset}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ab4352b72c7406787419dd7bad377629e}{s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+reserved}}\}
\item 
static const uint64\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a25fe2fa3e01b0a9593cede08126095bf}{s\+\_\+hh\+\_\+direct\+\_\+map\+\_\+offset}} \{ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a43858e53a4559c6bc0280f429b85c8da}{s\+\_\+higher\+\_\+half\+\_\+offset}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1PhysicalMemoryManager_afe7fbedb30365ee050a210d4854a15b8}{Physical\+Memory\+Manager\+::s\+\_\+page\+\_\+size}} \}
\item 
static const size\+\_\+t \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a2cfd48c5dbef5877035e1941154eb121}{s\+\_\+chunk\+\_\+alignment}} \{ 0x10 \}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles memory allocation and deallocation. 

Definition at line 35 of file memorymanagement.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a2e50b6925e0a3866bd38b44a84731d83}\label{classMaxOS_1_1memory_1_1MemoryManager_a2e50b6925e0a3866bd38b44a84731d83}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!MemoryManager@{MemoryManager}}
\index{MemoryManager@{MemoryManager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{MemoryManager()}{MemoryManager()}}
{\footnotesize\ttfamily Memory\+Manager\+::\+Memory\+Manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} $\ast$}]{virtual\+\_\+memory\+\_\+manager }\end{DoxyParamCaption})}



Definition at line 17 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{18 : m\_virtual\_memory\_manager(vmm)}
\DoxyCodeLine{19 \{}
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{comment}{// Enable the memory manager}}
\DoxyCodeLine{22     \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}{switch\_active\_memory\_manager}}(\textcolor{keyword}{this});}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{comment}{// Get the first chunk of memory}}
\DoxyCodeLine{25     \textcolor{keyword}{this} -\/> m\_first\_memory\_chunk = (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)m\_virtual\_memory\_manager-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager_a433396979e1b088454eefbce0964b709}{allocate}}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1PhysicalMemoryManager_afe7fbedb30365ee050a210d4854a15b8}{PhysicalMemoryManager::s\_page\_size}} + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}), 0);}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{comment}{// Set the first chunk's properties}}
\DoxyCodeLine{28     m\_first\_memory\_chunk-\/> allocated = \textcolor{keyword}{false};}
\DoxyCodeLine{29     m\_first\_memory\_chunk-\/> prev = 0;}
\DoxyCodeLine{30     m\_first\_memory\_chunk-\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} = 0;}
\DoxyCodeLine{31     m\_first\_memory\_chunk-\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} = \mbox{\hyperlink{classMaxOS_1_1memory_1_1PhysicalMemoryManager_afe7fbedb30365ee050a210d4854a15b8}{PhysicalMemoryManager::s\_page\_size}} -\/ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{comment}{// Set the last chunk to the first chunk}}
\DoxyCodeLine{34     m\_last\_memory\_chunk = m\_first\_memory\_chunk;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{comment}{// The first chunk is the last chunk}}
\DoxyCodeLine{37     \mbox{\hyperlink{kprint_8h_ad0dbdc0814f8a967875ad592df02a663}{\_kprintf}}(\textcolor{stringliteral}{"First memory chunk: 0x\%x\(\backslash\)n"}, m\_first\_memory\_chunk);}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \}}

\end{DoxyCode}


References \+\_\+kprintf, Max\+O\+S\+::memory\+::\+Virtual\+Memory\+Manager\+::allocate(), next, Max\+O\+S\+::memory\+::\+Physical\+Memory\+Manager\+::s\+\_\+page\+\_\+size, size, and switch\+\_\+active\+\_\+memory\+\_\+manager().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48}\label{classMaxOS_1_1memory_1_1MemoryManager_ad4570910ccfc14b2da679bee58ee8f48}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!````~MemoryManager@{$\sim$MemoryManager}}
\index{````~MemoryManager@{$\sim$MemoryManager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{$\sim$MemoryManager()}{~MemoryManager()}}
{\footnotesize\ttfamily Memory\+Manager\+::$\sim$\+Memory\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 41 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{41                               \{}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{comment}{// Check if the current memory manager is this one}}
\DoxyCodeLine{44     \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\_kernel\_memory\_manager}} == \textcolor{keyword}{this})}
\DoxyCodeLine{45       \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\_kernel\_memory\_manager}} = 0;}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{comment}{// Check if the current memory manager is this one}}
\DoxyCodeLine{48     \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}} == \textcolor{keyword}{this})}
\DoxyCodeLine{49        \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}} = 0;}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \}}

\end{DoxyCode}


References s\+\_\+current\+\_\+memory\+\_\+manager, and s\+\_\+kernel\+\_\+memory\+\_\+manager.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}\label{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!align@{align}}
\index{align@{align}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{align()}{align()}}
{\footnotesize\ttfamily size\+\_\+t Memory\+Manager\+::align (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Aligns the size to the chunk alignment. 


\begin{DoxyParams}{Parameters}
{\em size} & The size to align \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The aligned size 
\end{DoxyReturn}


Definition at line 276 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{276                                        \{}
\DoxyCodeLine{277   \textcolor{keywordflow}{return} (\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} / \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a2cfd48c5dbef5877035e1941154eb121}{s\_chunk\_alignment}} + 1) * \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a2cfd48c5dbef5877035e1941154eb121}{s\_chunk\_alignment}};}
\DoxyCodeLine{278 \}}

\end{DoxyCode}


References s\+\_\+chunk\+\_\+alignment, and size.



Referenced by handle\+\_\+malloc().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}\label{classMaxOS_1_1memory_1_1MemoryManager_a7123a072d7307c6ee61759fa7da6f677}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!free@{free}}
\index{free@{free}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{free()}{free()}}
{\footnotesize\ttfamily void Memory\+Manager\+::free (\begin{DoxyParamCaption}\item[{void $\ast$}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Frees a block of memory using the current memory manager. 


\begin{DoxyParams}{Parameters}
{\em pointer} & The pointer to the block \\
\hline
\end{DoxyParams}


Definition at line 148 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{148                                       \{}
\DoxyCodeLine{149 }
\DoxyCodeLine{150     \textcolor{comment}{// Make sure there is a memory manager}}
\DoxyCodeLine{151     \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}} == 0)}
\DoxyCodeLine{152         \textcolor{keywordflow}{return};}
\DoxyCodeLine{153 }
\DoxyCodeLine{154     \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}}-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}{handle\_free}}(pointer);}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \}}

\end{DoxyCode}


References handle\+\_\+free(), and s\+\_\+current\+\_\+memory\+\_\+manager.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ab0647fd9b0c504382c6b52117c883fe0}\label{classMaxOS_1_1memory_1_1MemoryManager_ab0647fd9b0c504382c6b52117c883fe0}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!from\_dm\_region@{from\_dm\_region}}
\index{from\_dm\_region@{from\_dm\_region}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{from\_dm\_region()}{from\_dm\_region()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::from\+\_\+dm\+\_\+region (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{physical\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts a direct map region address to a physical address if it is in the higher region using the higher half direct map offset. 


\begin{DoxyParams}{Parameters}
{\em physical\+\_\+address} & The physical address in the direct map region \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The physical address 
\end{DoxyReturn}


Definition at line 345 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{345                                                               \{}
\DoxyCodeLine{346 }
\DoxyCodeLine{347   \textcolor{keywordflow}{if}(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} > \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a25fe2fa3e01b0a9593cede08126095bf}{s\_hh\_direct\_map\_offset}})}
\DoxyCodeLine{348     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} -\/ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a25fe2fa3e01b0a9593cede08126095bf}{s\_hh\_direct\_map\_offset}});}
\DoxyCodeLine{349 }
\DoxyCodeLine{350   \textcolor{comment}{// Must be in the lower half}}
\DoxyCodeLine{351   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}};}
\DoxyCodeLine{352 }
\DoxyCodeLine{353 \}}

\end{DoxyCode}


References physical\+\_\+address, and s\+\_\+hh\+\_\+direct\+\_\+map\+\_\+offset.



Referenced by Max\+O\+S\+::memory\+::\+Physical\+Memory\+Manager\+::\+Physical\+Memory\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ad475ce47cd311bd63a90e40de3f578ec}\label{classMaxOS_1_1memory_1_1MemoryManager_ad475ce47cd311bd63a90e40de3f578ec}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!get\_vmm@{get\_vmm}}
\index{get\_vmm@{get\_vmm}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{get\_vmm()}{get\_vmm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager}{Virtual\+Memory\+Manager}} $\ast$ Memory\+Manager\+::get\+\_\+vmm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Gets the active virtual memory manager \begin{DoxyReturn}{Returns}
The active virtual memory manager 
\end{DoxyReturn}


Definition at line 388 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{388                                              \{}
\DoxyCodeLine{389 }
\DoxyCodeLine{390   \textcolor{comment}{// Return the virtual memory manager}}
\DoxyCodeLine{391   \textcolor{keywordflow}{return} m\_virtual\_memory\_manager;}
\DoxyCodeLine{392 }
\DoxyCodeLine{393 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}\label{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!handle\_free@{handle\_free}}
\index{handle\_free@{handle\_free}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{handle\_free()}{handle\_free()}}
{\footnotesize\ttfamily void Memory\+Manager\+::handle\+\_\+free (\begin{DoxyParamCaption}\item[{void $\ast$}]{pointer }\end{DoxyParamCaption})}



Frees a block of memory. 


\begin{DoxyParams}{Parameters}
{\em pointer} & A pointer to the block \\
\hline
\end{DoxyParams}


Definition at line 178 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{178                                              \{}
\DoxyCodeLine{179 }
\DoxyCodeLine{180 }
\DoxyCodeLine{181     \textcolor{comment}{// If nothing to free then return}}
\DoxyCodeLine{182     \textcolor{keywordflow}{if}(pointer == 0)}
\DoxyCodeLine{183           \textcolor{keywordflow}{return};}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{comment}{// If block is not in the memory manager's range then return}}
\DoxyCodeLine{186     \textcolor{keywordflow}{if}((uint64\_t ) pointer < (uint64\_t ) m\_first\_memory\_chunk || (uint64\_t ) pointer > (uint64\_t ) m\_last\_memory\_chunk)}
\DoxyCodeLine{187         \textcolor{keywordflow}{return};}
\DoxyCodeLine{188 }
\DoxyCodeLine{189     \textcolor{comment}{// Create a new free chunk}}
\DoxyCodeLine{190     \mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}* chunk = (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)((\textcolor{keywordtype}{size\_t})pointer -\/ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{191     chunk -\/> allocated = \textcolor{keyword}{false};}
\DoxyCodeLine{192 }
\DoxyCodeLine{193     \textcolor{comment}{// If there is a free chunk before this chunk then merge them}}
\DoxyCodeLine{194     \textcolor{keywordflow}{if}(chunk -\/> prev != 0 \&\& !chunk -\/> prev -\/> allocated)\{}
\DoxyCodeLine{195 }
\DoxyCodeLine{196         \textcolor{comment}{// Increase the previous chunk's size and remove the current chunk from the linked list}}
\DoxyCodeLine{197         chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a2165cec76c0674f5180990e65160a862}{prev}}-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aa61f41e5ca407c31027431719bb3695f}{size}} += chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aa61f41e5ca407c31027431719bb3695f}{size}} + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{198         chunk -\/> prev -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} = chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}};}
\DoxyCodeLine{199 }
\DoxyCodeLine{200         \textcolor{comment}{// If there is a next chunk then ensure this chunk is removed from its linked list}}
\DoxyCodeLine{201         \textcolor{keywordflow}{if}(chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} != 0)}
\DoxyCodeLine{202             chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} -\/> prev = chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a2165cec76c0674f5180990e65160a862}{prev}};}
\DoxyCodeLine{203 }
\DoxyCodeLine{204         \textcolor{comment}{// Chunk is now the previous chunk}}
\DoxyCodeLine{205         chunk = chunk -\/> prev;}
\DoxyCodeLine{206 }
\DoxyCodeLine{207     \}}
\DoxyCodeLine{208 }
\DoxyCodeLine{209     \textcolor{comment}{// If there is a free chunk after this chunk then merge them}}
\DoxyCodeLine{210     \textcolor{keywordflow}{if}(chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} != 0 \&\& !chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} -\/> allocated)\{}
\DoxyCodeLine{211 }
\DoxyCodeLine{212         \textcolor{comment}{// Increase the current chunk's size and remove the next chunk from the linked list}}
\DoxyCodeLine{213         chunk -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} += chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{214         chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} = chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}};}
\DoxyCodeLine{215 }
\DoxyCodeLine{216         \textcolor{comment}{// Remove the just merged chunk from the linked list}}
\DoxyCodeLine{217         \textcolor{keywordflow}{if}(chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} != 0)}
\DoxyCodeLine{218             chunk -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} -\/> prev = chunk;}
\DoxyCodeLine{219 }
\DoxyCodeLine{220     \}}
\DoxyCodeLine{221 \}}

\end{DoxyCode}


References next, Max\+O\+S\+::memory\+::\+Memory\+Chunk\+::prev, size, and Max\+O\+S\+::memory\+::\+Memory\+Chunk\+::size.



Referenced by free(), and kfree().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}\label{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!handle\_malloc@{handle\_malloc}}
\index{handle\_malloc@{handle\_malloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{handle\_malloc()}{handle\_malloc()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::handle\+\_\+malloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Allocates a block of memory. 


\begin{DoxyParams}{Parameters}
{\em size} & The size of the block to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the block, or nullptr if no block is available 
\end{DoxyReturn}


Definition at line 92 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{92                                               \{}
\DoxyCodeLine{93   \mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}* result = 0;}
\DoxyCodeLine{94 }
\DoxyCodeLine{95   \textcolor{comment}{// Don't allocate a block of size 0}}
\DoxyCodeLine{96   \textcolor{keywordflow}{if}(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} == 0)}
\DoxyCodeLine{97     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{98 }
\DoxyCodeLine{99   \textcolor{comment}{// Size must include the size of the chunk and be aligned}}
\DoxyCodeLine{100   \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} = \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a36af3a4224c45dd0d3f285e3d5545d95}{align}}(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{101 }
\DoxyCodeLine{102   \textcolor{comment}{// Find the next free chunk that is big enough}}
\DoxyCodeLine{103   \textcolor{keywordflow}{for} (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}* chunk = m\_first\_memory\_chunk; chunk != 0 \&\& result == 0; chunk = chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a9b94dfe2f922882b76c7e592673a5a26}{next}}) \{}
\DoxyCodeLine{104     \textcolor{keywordflow}{if}(chunk -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} > \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} \&\& !chunk -\/> allocated)}
\DoxyCodeLine{105       result = chunk;}
\DoxyCodeLine{106   \}}
\DoxyCodeLine{107 }
\DoxyCodeLine{108   \textcolor{comment}{// If there is no free chunk then expand the heap}}
\DoxyCodeLine{109   \textcolor{keywordflow}{if}(result == 0)}
\DoxyCodeLine{110     result = expand\_heap(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{111 }
\DoxyCodeLine{112   \textcolor{comment}{// If there is not enough space to create a new chunk then just allocate the current chunk}}
\DoxyCodeLine{113   \textcolor{keywordflow}{if}(result -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} < \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}) + 1) \{}
\DoxyCodeLine{114     result-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aeb2ac8030a7130c9e046c07c4cd4cfbb}{allocated}} = \textcolor{keyword}{true};}
\DoxyCodeLine{115     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void} *)(((size\_t)result) + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{116   \}}
\DoxyCodeLine{117 }
\DoxyCodeLine{118   \textcolor{comment}{// Create a new chunk after the current one}}
\DoxyCodeLine{119   \mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}* temp = (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}*)((\textcolor{keywordtype}{size\_t})result + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}) + \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{comment}{// Set the new chunk's properties and insert it into the linked list}}
\DoxyCodeLine{122   temp -\/> allocated = \textcolor{keyword}{false};}
\DoxyCodeLine{123   temp -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} =  result-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aa61f41e5ca407c31027431719bb3695f}{size}} -\/ \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} -\/ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}});}
\DoxyCodeLine{124   temp -\/> prev = result;}
\DoxyCodeLine{125   temp -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} = result -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}};}
\DoxyCodeLine{126 }
\DoxyCodeLine{127   \textcolor{comment}{// If there is a chunk after the current one then set its previous to the new chunk}}
\DoxyCodeLine{128   \textcolor{keywordflow}{if}(temp -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} != 0)}
\DoxyCodeLine{129     temp -\/> \mbox{\hyperlink{virtual_8h_a20e8ff4d4c943d29eee7cfd80a5ff0f3}{next}} -\/> prev = temp;}
\DoxyCodeLine{130 }
\DoxyCodeLine{131   \textcolor{comment}{// Current chunk is now allocated and is pointing to the new chunk}}
\DoxyCodeLine{132   result-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_aa61f41e5ca407c31027431719bb3695f}{size}} = \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}};}
\DoxyCodeLine{133   result -\/> allocated = \textcolor{keyword}{true};}
\DoxyCodeLine{134   result-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a9b94dfe2f922882b76c7e592673a5a26}{next}} = temp;}
\DoxyCodeLine{135 }
\DoxyCodeLine{136   \textcolor{comment}{// Update the last memory chunk if necessary}}
\DoxyCodeLine{137   \textcolor{keywordflow}{if}(result == m\_last\_memory\_chunk)}
\DoxyCodeLine{138     m\_last\_memory\_chunk = temp;}
\DoxyCodeLine{139 }
\DoxyCodeLine{140   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)(((size\_t)result) + \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}));}
\DoxyCodeLine{141 \}}

\end{DoxyCode}


References align(), Max\+O\+S\+::memory\+::\+Memory\+Chunk\+::allocated, next, Max\+O\+S\+::memory\+::\+Memory\+Chunk\+::next, size, and Max\+O\+S\+::memory\+::\+Memory\+Chunk\+::size.



Referenced by kmalloc(), and malloc().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a7d412394ef0b7e29bbe278406751761b}\label{classMaxOS_1_1memory_1_1MemoryManager_a7d412394ef0b7e29bbe278406751761b}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!in\_higher\_region@{in\_higher\_region}}
\index{in\_higher\_region@{in\_higher\_region}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{in\_higher\_region()}{in\_higher\_region()}}
{\footnotesize\ttfamily bool Memory\+Manager\+::in\+\_\+higher\+\_\+region (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{virtual\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Checks if a virtual address is in the higher region. 


\begin{DoxyParams}{Parameters}
{\em virtual\+\_\+address} & The virtual address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the address is in the higher region, false otherwise 
\end{DoxyReturn}


Definition at line 361 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{361                                                               \{}
\DoxyCodeLine{362   \textcolor{keywordflow}{return} virtual\_address \& (1\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebca9a4f202c896c19c7829a34eef07920c0}{l}} << 62);}
\DoxyCodeLine{363 \}}

\end{DoxyCode}


References Max\+O\+S\+::drivers\+::peripherals\+::l.



Referenced by Max\+O\+S\+::memory\+::\+Physical\+Memory\+Manager\+::map(), and Max\+O\+S\+::system\+::\+C\+P\+U\+::prepare\+\_\+for\+\_\+panic().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}\label{classMaxOS_1_1memory_1_1MemoryManager_abaa5e54c1428654efa1c81b69e12eb20}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!kfree@{kfree}}
\index{kfree@{kfree}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{kfree()}{kfree()}}
{\footnotesize\ttfamily void Memory\+Manager\+::kfree (\begin{DoxyParamCaption}\item[{void $\ast$}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Frees a block of memory using the kernel memory manager. 


\begin{DoxyParams}{Parameters}
{\em pointer} & The pointer to the block \\
\hline
\end{DoxyParams}


Definition at line 163 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{163                                        \{}
\DoxyCodeLine{164 }
\DoxyCodeLine{165     \textcolor{comment}{// Make sure there is a kernel memory manager}}
\DoxyCodeLine{166     \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\_kernel\_memory\_manager}} == 0)}
\DoxyCodeLine{167         \textcolor{keywordflow}{return};}
\DoxyCodeLine{168 }
\DoxyCodeLine{169     \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\_kernel\_memory\_manager}}-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a5fe3eebb4829ba9ff6172ec53b023c92}{handle\_free}}(pointer);}
\DoxyCodeLine{170 }
\DoxyCodeLine{171 \}}

\end{DoxyCode}


References handle\+\_\+free(), and s\+\_\+kernel\+\_\+memory\+\_\+manager.



Referenced by operator delete(), and operator delete\mbox{[}$\,$\mbox{]}().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}\label{classMaxOS_1_1memory_1_1MemoryManager_a983c849ff604367f7c8a0e70172bb331}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!kmalloc@{kmalloc}}
\index{kmalloc@{kmalloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{kmalloc()}{kmalloc()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::kmalloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Allocates a block of memory using the kernel memory manager. 


\begin{DoxyParams}{Parameters}
{\em size} & The size of the block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The pointer to the block, or nullptr if no block is available 
\end{DoxyReturn}


Definition at line 76 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{76                                         \{}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   \textcolor{comment}{// Make sure there is a kernel memory manager}}
\DoxyCodeLine{79   \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\_kernel\_memory\_manager}} == 0)}
\DoxyCodeLine{80     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{81 }
\DoxyCodeLine{82   \textcolor{keywordflow}{return} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}{s\_kernel\_memory\_manager}}-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}{handle\_malloc}}(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \}}

\end{DoxyCode}


References handle\+\_\+malloc(), s\+\_\+kernel\+\_\+memory\+\_\+manager, and size.



Referenced by operator new(), and operator new\mbox{[}$\,$\mbox{]}().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}\label{classMaxOS_1_1memory_1_1MemoryManager_a90f2d5bec98f1e6cdd71c87853baaab9}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!malloc@{malloc}}
\index{malloc@{malloc}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{malloc()}{malloc()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::malloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Allocates a block of memory using the current memory manager. 


\begin{DoxyParams}{Parameters}
{\em size} & size of the block \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the block, 0 if no block is available or no memory manager is set 
\end{DoxyReturn}


Definition at line 60 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{60                                        \{}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \textcolor{comment}{// Make sure there is somthing to do the allocation}}
\DoxyCodeLine{63     \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}} == 0)}
\DoxyCodeLine{64             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keywordflow}{return} \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}}-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a1c24cb5da38bff8a9cb9805bb1e4828a}{handle\_malloc}}(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}});}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \}}

\end{DoxyCode}


References handle\+\_\+malloc(), s\+\_\+current\+\_\+memory\+\_\+manager, and size.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_aba582f32d87efac7782b6ec2b6faaa03}\label{classMaxOS_1_1memory_1_1MemoryManager_aba582f32d87efac7782b6ec2b6faaa03}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!memory\_used@{memory\_used}}
\index{memory\_used@{memory\_used}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{memory\_used()}{memory\_used()}}
{\footnotesize\ttfamily int Memory\+Manager\+::memory\+\_\+used (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the amount of memory used. 

\begin{DoxyReturn}{Returns}
The amount of memory used 
\end{DoxyReturn}


Definition at line 259 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{259                                \{}
\DoxyCodeLine{260 }
\DoxyCodeLine{261         \textcolor{keywordtype}{int} result = 0;}
\DoxyCodeLine{262 }
\DoxyCodeLine{263         \textcolor{comment}{// Loop through all the chunks and add up the size of the allocated chunks}}
\DoxyCodeLine{264         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk}{MemoryChunk}}* chunk = m\_first\_memory\_chunk; chunk != 0; chunk = chunk-\/>\mbox{\hyperlink{structMaxOS_1_1memory_1_1MemoryChunk_a9b94dfe2f922882b76c7e592673a5a26}{next}})}
\DoxyCodeLine{265             \textcolor{keywordflow}{if}(chunk -\/> allocated)}
\DoxyCodeLine{266                 result += chunk -\/> \mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}};}
\DoxyCodeLine{267 }
\DoxyCodeLine{268         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{269 \}}

\end{DoxyCode}


References Max\+O\+S\+::memory\+::\+Memory\+Chunk\+::next, and size.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}\label{classMaxOS_1_1memory_1_1MemoryManager_ae584e29e4d2925e3e30be409af2dc2e5}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!switch\_active\_memory\_manager@{switch\_active\_memory\_manager}}
\index{switch\_active\_memory\_manager@{switch\_active\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{switch\_active\_memory\_manager()}{switch\_active\_memory\_manager()}}
{\footnotesize\ttfamily void Memory\+Manager\+::switch\+\_\+active\+\_\+memory\+\_\+manager (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$}]{manager }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Switches the active memory manager. 


\begin{DoxyParams}{Parameters}
{\em manager} & The new memory manager \\
\hline
\end{DoxyParams}


Definition at line 370 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{370                                                                        \{}
\DoxyCodeLine{371 }
\DoxyCodeLine{372   \textcolor{comment}{// Make sure there is a manager}}
\DoxyCodeLine{373   \textcolor{keywordflow}{if}(manager == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{374     \textcolor{keywordflow}{return};}
\DoxyCodeLine{375 }
\DoxyCodeLine{376   \textcolor{comment}{// Switch the address space}}
\DoxyCodeLine{377   \textcolor{keyword}{asm} \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"mov \%0, \%\%cr3"} :: \textcolor{stringliteral}{"r"}((uint64\_t)manager-\/>m\_virtual\_memory\_manager-\/>\mbox{\hyperlink{classMaxOS_1_1memory_1_1VirtualMemoryManager_ade54deeabc206c039877770118c4288a}{get\_pml4\_root\_address\_physical}}()) : \textcolor{stringliteral}{"memory"});}
\DoxyCodeLine{378 }
\DoxyCodeLine{379   \textcolor{comment}{// Set the active memory manager}}
\DoxyCodeLine{380   \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}{s\_current\_memory\_manager}} = manager;}
\DoxyCodeLine{381 }
\DoxyCodeLine{382 \}}

\end{DoxyCode}


References Max\+O\+S\+::memory\+::\+Virtual\+Memory\+Manager\+::get\+\_\+pml4\+\_\+root\+\_\+address\+\_\+physical(), and s\+\_\+current\+\_\+memory\+\_\+manager.



Referenced by Memory\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ab093d27663b4911c7995f36945ccd1e9}\label{classMaxOS_1_1memory_1_1MemoryManager_ab093d27663b4911c7995f36945ccd1e9}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!to\_dm\_region@{to\_dm\_region}}
\index{to\_dm\_region@{to\_dm\_region}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{to\_dm\_region()}{to\_dm\_region()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::to\+\_\+dm\+\_\+region (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{physical\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts a physical address to a direct map region address if it is in the lower region using the higher half direct map offset. 


\begin{DoxyParams}{Parameters}
{\em physical\+\_\+address} & The physical address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The direct map region address 
\end{DoxyReturn}


Definition at line 330 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{330                                                             \{}
\DoxyCodeLine{331 }
\DoxyCodeLine{332   \textcolor{keywordflow}{if}(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} < \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a43858e53a4559c6bc0280f429b85c8da}{s\_higher\_half\_offset}})}
\DoxyCodeLine{333     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a25fe2fa3e01b0a9593cede08126095bf}{s\_hh\_direct\_map\_offset}});}
\DoxyCodeLine{334 }
\DoxyCodeLine{335   \textcolor{comment}{// Must be in the higher half}}
\DoxyCodeLine{336   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}};}
\DoxyCodeLine{337 }
\DoxyCodeLine{338 \}}

\end{DoxyCode}


References physical\+\_\+address, s\+\_\+hh\+\_\+direct\+\_\+map\+\_\+offset, and s\+\_\+higher\+\_\+half\+\_\+offset.



Referenced by Max\+O\+S\+::memory\+::\+Virtual\+Memory\+Manager\+::\+Virtual\+Memory\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a8bd22e2cd53dc920440657d432e3ce67}\label{classMaxOS_1_1memory_1_1MemoryManager_a8bd22e2cd53dc920440657d432e3ce67}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!to\_higher\_region@{to\_higher\_region}}
\index{to\_higher\_region@{to\_higher\_region}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{to\_higher\_region()}{to\_higher\_region()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::to\+\_\+higher\+\_\+region (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{physical\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts a physical address to a higher region address if it is in the lower region using the higher half kernel offset. 


\begin{DoxyParams}{Parameters}
{\em physical\+\_\+address} & The physical address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The higher region address 
\end{DoxyReturn}


Definition at line 285 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{285                                                                 \{}
\DoxyCodeLine{286 }
\DoxyCodeLine{287   \textcolor{comment}{// If it's in the lower half then add the offset}}
\DoxyCodeLine{288   \textcolor{keywordflow}{if}(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} < \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}{s\_higher\_half\_kernel\_offset}})}
\DoxyCodeLine{289     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}{s\_higher\_half\_kernel\_offset}});}
\DoxyCodeLine{290 }
\DoxyCodeLine{291   \textcolor{comment}{// Must be in the higher half}}
\DoxyCodeLine{292   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}};}
\DoxyCodeLine{293 }
\DoxyCodeLine{294 \}}

\end{DoxyCode}


References physical\+\_\+address, and s\+\_\+higher\+\_\+half\+\_\+kernel\+\_\+offset.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a41a82e21744cda9eb8675fe2699ea731}\label{classMaxOS_1_1memory_1_1MemoryManager_a41a82e21744cda9eb8675fe2699ea731}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!to\_io\_region@{to\_io\_region}}
\index{to\_io\_region@{to\_io\_region}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{to\_io\_region()}{to\_io\_region()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::to\+\_\+io\+\_\+region (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{physical\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts a physical address to an IO region address if it is in the lower region using the higher half memory offset. 


\begin{DoxyParams}{Parameters}
{\em physical\+\_\+address} & The physical address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The IO region address 
\end{DoxyReturn}


Definition at line 315 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{315                                                             \{}
\DoxyCodeLine{316 }
\DoxyCodeLine{317   \textcolor{keywordflow}{if}(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} < \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}{s\_higher\_half\_mem\_offset}})}
\DoxyCodeLine{318     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)(\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}{s\_higher\_half\_mem\_offset}});}
\DoxyCodeLine{319 }
\DoxyCodeLine{320   \textcolor{comment}{// Must be in the higher half}}
\DoxyCodeLine{321   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)\mbox{\hyperlink{physical_8h_a069784144afa0b45c14ce1788adb541a}{physical\_address}};}
\DoxyCodeLine{322 }
\DoxyCodeLine{323 \}}

\end{DoxyCode}


References physical\+\_\+address, and s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+offset.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a3cd0e4168f302070311c1896f22d08f8}\label{classMaxOS_1_1memory_1_1MemoryManager_a3cd0e4168f302070311c1896f22d08f8}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!to\_lower\_region@{to\_lower\_region}}
\index{to\_lower\_region@{to\_lower\_region}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{to\_lower\_region()}{to\_lower\_region()}}
{\footnotesize\ttfamily void $\ast$ Memory\+Manager\+::to\+\_\+lower\+\_\+region (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{virtual\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Converts a virtual address to a lower region address if it is in the higher region using the higher half kernel offset. 


\begin{DoxyParams}{Parameters}
{\em virtual\+\_\+address} & The virtual address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The lower region address 
\end{DoxyReturn}


Definition at line 301 of file memorymanagement.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{301                                                               \{}
\DoxyCodeLine{302   \textcolor{comment}{// If it's in the lower half then add the offset}}
\DoxyCodeLine{303   \textcolor{keywordflow}{if}(virtual\_address > \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}{s\_higher\_half\_kernel\_offset}})}
\DoxyCodeLine{304     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)(virtual\_address -\/ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}{s\_higher\_half\_kernel\_offset}});}
\DoxyCodeLine{305 }
\DoxyCodeLine{306   \textcolor{comment}{// Must be in the lower half}}
\DoxyCodeLine{307   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void}*)virtual\_address;}
\DoxyCodeLine{308 \}}

\end{DoxyCode}


References s\+\_\+higher\+\_\+half\+\_\+kernel\+\_\+offset.



Referenced by Max\+O\+S\+::memory\+::\+Virtual\+Memory\+Manager\+::\+Virtual\+Memory\+Manager().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a96a625a7e3c47d7b5ee661d8d3a5d005}\label{classMaxOS_1_1memory_1_1MemoryManager_a96a625a7e3c47d7b5ee661d8d3a5d005}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!previous\_memory\_manager@{previous\_memory\_manager}}
\index{previous\_memory\_manager@{previous\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{previous\_memory\_manager}{previous\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}}$\ast$ Max\+O\+S\+::memory\+::\+Memory\+Manager\+::previous\+\_\+memory\+\_\+manager}



Definition at line 58 of file memorymanagement.\+h.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a2cfd48c5dbef5877035e1941154eb121}\label{classMaxOS_1_1memory_1_1MemoryManager_a2cfd48c5dbef5877035e1941154eb121}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_chunk\_alignment@{s\_chunk\_alignment}}
\index{s\_chunk\_alignment@{s\_chunk\_alignment}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_chunk\_alignment}{s\_chunk\_alignment}}
{\footnotesize\ttfamily const size\+\_\+t Max\+O\+S\+::memory\+::\+Memory\+Manager\+::s\+\_\+chunk\+\_\+alignment \{ 0x10 \}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 56 of file memorymanagement.\+h.



Referenced by align().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}\label{classMaxOS_1_1memory_1_1MemoryManager_a6df1bd5bef09979bfa3b11adc8f77845}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_current\_memory\_manager@{s\_current\_memory\_manager}}
\index{s\_current\_memory\_manager@{s\_current\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_current\_memory\_manager}{s\_current\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$ Memory\+Manager\+::s\+\_\+current\+\_\+memory\+\_\+manager = 0\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 46 of file memorymanagement.\+h.



Referenced by free(), malloc(), switch\+\_\+active\+\_\+memory\+\_\+manager(), and $\sim$\+Memory\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a25fe2fa3e01b0a9593cede08126095bf}\label{classMaxOS_1_1memory_1_1MemoryManager_a25fe2fa3e01b0a9593cede08126095bf}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_hh\_direct\_map\_offset@{s\_hh\_direct\_map\_offset}}
\index{s\_hh\_direct\_map\_offset@{s\_hh\_direct\_map\_offset}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_hh\_direct\_map\_offset}{s\_hh\_direct\_map\_offset}}
{\footnotesize\ttfamily const uint64\+\_\+t Max\+O\+S\+::memory\+::\+Memory\+Manager\+::s\+\_\+hh\+\_\+direct\+\_\+map\+\_\+offset \{ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a43858e53a4559c6bc0280f429b85c8da}{s\+\_\+higher\+\_\+half\+\_\+offset}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1PhysicalMemoryManager_afe7fbedb30365ee050a210d4854a15b8}{Physical\+Memory\+Manager\+::s\+\_\+page\+\_\+size}} \}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 53 of file memorymanagement.\+h.



Referenced by from\+\_\+dm\+\_\+region(), Max\+O\+S\+::memory\+::\+Physical\+Memory\+Manager\+::\+Physical\+Memory\+Manager(), to\+\_\+dm\+\_\+region(), and Max\+O\+S\+::memory\+::\+Virtual\+Memory\+Manager\+::\+Virtual\+Memory\+Manager().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}\label{classMaxOS_1_1memory_1_1MemoryManager_a92f699a8b8210d56b3c5afa8e5d01e17}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_higher\_half\_kernel\_offset@{s\_higher\_half\_kernel\_offset}}
\index{s\_higher\_half\_kernel\_offset@{s\_higher\_half\_kernel\_offset}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_higher\_half\_kernel\_offset}{s\_higher\_half\_kernel\_offset}}
{\footnotesize\ttfamily const uint64\+\_\+t Max\+O\+S\+::memory\+::\+Memory\+Manager\+::s\+\_\+higher\+\_\+half\+\_\+kernel\+\_\+offset \{ 0x\+F\+F\+F\+F\+F\+F\+F\+F80000000 \}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 49 of file memorymanagement.\+h.



Referenced by to\+\_\+higher\+\_\+region(), and to\+\_\+lower\+\_\+region().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}\label{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_higher\_half\_mem\_offset@{s\_higher\_half\_mem\_offset}}
\index{s\_higher\_half\_mem\_offset@{s\_higher\_half\_mem\_offset}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_higher\_half\_mem\_offset}{s\_higher\_half\_mem\_offset}}
{\footnotesize\ttfamily const uint64\+\_\+t Max\+O\+S\+::memory\+::\+Memory\+Manager\+::s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+offset \{ 0x\+F\+F\+F\+F800000000000 \}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 50 of file memorymanagement.\+h.



Referenced by to\+\_\+io\+\_\+region().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ab4352b72c7406787419dd7bad377629e}\label{classMaxOS_1_1memory_1_1MemoryManager_ab4352b72c7406787419dd7bad377629e}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_higher\_half\_mem\_reserved@{s\_higher\_half\_mem\_reserved}}
\index{s\_higher\_half\_mem\_reserved@{s\_higher\_half\_mem\_reserved}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_higher\_half\_mem\_reserved}{s\_higher\_half\_mem\_reserved}}
{\footnotesize\ttfamily const uint64\+\_\+t Max\+O\+S\+::memory\+::\+Memory\+Manager\+::s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+reserved \{ 0x280000000 \}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 51 of file memorymanagement.\+h.

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_a43858e53a4559c6bc0280f429b85c8da}\label{classMaxOS_1_1memory_1_1MemoryManager_a43858e53a4559c6bc0280f429b85c8da}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_higher\_half\_offset@{s\_higher\_half\_offset}}
\index{s\_higher\_half\_offset@{s\_higher\_half\_offset}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_higher\_half\_offset}{s\_higher\_half\_offset}}
{\footnotesize\ttfamily const uint64\+\_\+t Max\+O\+S\+::memory\+::\+Memory\+Manager\+::s\+\_\+higher\+\_\+half\+\_\+offset \{ \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_a629b2b383a198c699d1e35f5e524a182}{s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+offset}} + \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager_ab4352b72c7406787419dd7bad377629e}{s\+\_\+higher\+\_\+half\+\_\+mem\+\_\+reserved}}\}\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 52 of file memorymanagement.\+h.



Referenced by to\+\_\+dm\+\_\+region().

\mbox{\Hypertarget{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}\label{classMaxOS_1_1memory_1_1MemoryManager_ac0cebb178597bd1814aff0fbe8b6bebb}} 
\index{MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}!s\_kernel\_memory\_manager@{s\_kernel\_memory\_manager}}
\index{s\_kernel\_memory\_manager@{s\_kernel\_memory\_manager}!MaxOS::memory::MemoryManager@{MaxOS::memory::MemoryManager}}
\doxysubsubsection{\texorpdfstring{s\_kernel\_memory\_manager}{s\_kernel\_memory\_manager}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1memory_1_1MemoryManager}{Memory\+Manager}} $\ast$ Memory\+Manager\+::s\+\_\+kernel\+\_\+memory\+\_\+manager = 0\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 47 of file memorymanagement.\+h.



Referenced by kfree(), kmalloc(), and $\sim$\+Memory\+Manager().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/include/memory/\mbox{\hyperlink{memorymanagement_8h}{memorymanagement.\+h}}\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/src/memory/\mbox{\hyperlink{memorymanagement_8cpp}{memorymanagement.\+cpp}}\end{DoxyCompactItemize}
