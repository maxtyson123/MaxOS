\doxysection{/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/runtime/cplusplus.h File Reference}
\hypertarget{cplusplus_8h}{}\label{cplusplus_8h}\index{/home/runner/work/MaxOS/MaxOS/kernel/include/runtime/cplusplus.h@{/home/runner/work/MaxOS/MaxOS/kernel/include/runtime/cplusplus.h}}


Defines C++ runtime functions and structures needed for linking C++ code in the kernel.  


{\ttfamily \#include $<$cstdint$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structMaxOS_1_1runtime_1_1atexit__func__entry__t}{Max\+OS\+::runtime\+::atexit\+\_\+func\+\_\+entry\+\_\+t}}
\begin{DoxyCompactList}\small\item\em An entry in the list of functions to call at program exit (not used in kernel but needed for linking) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{cplusplus_8h_a5cad572d445e7f8d04383fca6f1c3a99}{Max\+OS\+::runtime\+::constructor}}) ()
\begin{DoxyCompactList}\small\item\em A pointer to a constructor function. \end{DoxyCompactList}\item 
typedef unsigned \mbox{\hyperlink{cplusplus_8h_a1c6d2d7884a777254cd92ef579e16b11}{Max\+OS\+::runtime\+::uarch\+\_\+t}}
\begin{DoxyCompactList}\small\item\em An unsigned architecture specific type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{cplusplus_8h_ac9f3ce0a4eb38a6536288f0283b4ccb7}{Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+atexit}} (void(\texorpdfstring{$\ast$}{*}f)(void \texorpdfstring{$\ast$}{*}), void \texorpdfstring{$\ast$}{*}objptr, void \texorpdfstring{$\ast$}{*}dso)
\begin{DoxyCompactList}\small\item\em Register a function to be called at program exit. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{cplusplus_8h_afe2ada3c06344bff616d3ec0b895683d}{Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+finalize}} (void \texorpdfstring{$\ast$}{*}f)
\begin{DoxyCompactList}\small\item\em Finalise all global objects by calling their destructors. \end{DoxyCompactList}\item 
\Hypertarget{cplusplus_8h_a531e7fed140625a31f2ba94b7223e9ed}\label{cplusplus_8h_a531e7fed140625a31f2ba94b7223e9ed} 
void {\bfseries Max\+OS\+::runtime\+::\+\_\+\+\_\+stack\+\_\+chk\+\_\+fail} (void)
\begin{DoxyCompactList}\small\item\em Called when a stack buffer overflow is detected. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uintptr\+\_\+t \mbox{\hyperlink{cplusplus_8h_abb3081cb189761f95ff9b7c0bb8abf30}{Max\+OS\+::runtime\+::\+\_\+\+\_\+stack\+\_\+chk\+\_\+guard}} = 0x595e9fbd94fda766
\begin{DoxyCompactList}\small\item\em The stack canary value used to detect stack buffer overflows (. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Defines C++ runtime functions and structures needed for linking C++ code in the kernel. 

\begin{DoxySeeAlso}{See also}
\href{https://wiki.osdev.org/C\%2B\%2B}{\texttt{ https\+://wiki.\+osdev.\+org/\+C\%2\+B\%2B}} -\/ code adapted from here
\end{DoxySeeAlso}
\begin{DoxyDate}{Date}
30th March 2025 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Max Tyson 
\end{DoxyAuthor}


Definition in file \mbox{\hyperlink{cplusplus_8h_source}{cplusplus.\+h}}.



\doxysubsection{Typedef Documentation}
\Hypertarget{cplusplus_8h_a5cad572d445e7f8d04383fca6f1c3a99}\label{cplusplus_8h_a5cad572d445e7f8d04383fca6f1c3a99} 
\index{cplusplus.h@{cplusplus.h}!constructor@{constructor}}
\index{constructor@{constructor}!cplusplus.h@{cplusplus.h}}
\doxysubsubsection{\texorpdfstring{constructor}{constructor}}
{\footnotesize\ttfamily typedef void(\texorpdfstring{$\ast$}{*} Max\+OS\+::runtime\+::constructor) ()}



A pointer to a constructor function. 



Definition at line \mbox{\hyperlink{cplusplus_8h_source_l00019}{19}} of file \mbox{\hyperlink{cplusplus_8h_source}{cplusplus.\+h}}.

\Hypertarget{cplusplus_8h_a1c6d2d7884a777254cd92ef579e16b11}\label{cplusplus_8h_a1c6d2d7884a777254cd92ef579e16b11} 
\index{cplusplus.h@{cplusplus.h}!uarch\_t@{uarch\_t}}
\index{uarch\_t@{uarch\_t}!cplusplus.h@{cplusplus.h}}
\doxysubsubsection{\texorpdfstring{uarch\_t}{uarch\_t}}
{\footnotesize\ttfamily typedef unsigned \mbox{\hyperlink{cplusplus_8h_a1c6d2d7884a777254cd92ef579e16b11}{Max\+OS\+::runtime\+::uarch\+\_\+t}}}



An unsigned architecture specific type. 



Definition at line \mbox{\hyperlink{cplusplus_8h_source_l00020}{20}} of file \mbox{\hyperlink{cplusplus_8h_source}{cplusplus.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{cplusplus_8h_ac9f3ce0a4eb38a6536288f0283b4ccb7}\label{cplusplus_8h_ac9f3ce0a4eb38a6536288f0283b4ccb7} 
\index{cplusplus.h@{cplusplus.h}!\_\_cxa\_atexit@{\_\_cxa\_atexit}}
\index{\_\_cxa\_atexit@{\_\_cxa\_atexit}!cplusplus.h@{cplusplus.h}}
\doxysubsubsection{\texorpdfstring{\_\_cxa\_atexit()}{\_\_cxa\_atexit()}}
{\footnotesize\ttfamily int Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+atexit (\begin{DoxyParamCaption}\item[{void(\texorpdfstring{$\ast$}{*})(void \texorpdfstring{$\ast$}{*})}]{f,  }\item[{void \texorpdfstring{$\ast$}{*}}]{objptr,  }\item[{void \texorpdfstring{$\ast$}{*}}]{dso }\end{DoxyParamCaption})}



Register a function to be called at program exit. 


\begin{DoxyParams}{Parameters}
{\em f} & The function to call \\
\hline
{\em objptr} & The object pointer to pass to the function \\
\hline
{\em dso} & The DSO handle (not used) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 on success, non-\/zero on failure 
\end{DoxyReturn}


References \mbox{\hyperlink{cplusplus_8h_ac9f3ce0a4eb38a6536288f0283b4ccb7}{Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+atexit()}}.



Referenced by \mbox{\hyperlink{cplusplus_8h_ac9f3ce0a4eb38a6536288f0283b4ccb7}{Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+atexit()}}.

\Hypertarget{cplusplus_8h_afe2ada3c06344bff616d3ec0b895683d}\label{cplusplus_8h_afe2ada3c06344bff616d3ec0b895683d} 
\index{cplusplus.h@{cplusplus.h}!\_\_cxa\_finalize@{\_\_cxa\_finalize}}
\index{\_\_cxa\_finalize@{\_\_cxa\_finalize}!cplusplus.h@{cplusplus.h}}
\doxysubsubsection{\texorpdfstring{\_\_cxa\_finalize()}{\_\_cxa\_finalize()}}
{\footnotesize\ttfamily void Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+finalize (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{f }\end{DoxyParamCaption})}



Finalise all global objects by calling their destructors. 


\begin{DoxyParams}{Parameters}
{\em f} & The DSO handle to finalise (nullptr for all) \\
\hline
\end{DoxyParams}


References \mbox{\hyperlink{cplusplus_8h_afe2ada3c06344bff616d3ec0b895683d}{Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+finalize()}}.



Referenced by \mbox{\hyperlink{cplusplus_8h_afe2ada3c06344bff616d3ec0b895683d}{Max\+OS\+::runtime\+::\+\_\+\+\_\+cxa\+\_\+finalize()}}.



\doxysubsection{Variable Documentation}
\Hypertarget{cplusplus_8h_abb3081cb189761f95ff9b7c0bb8abf30}\label{cplusplus_8h_abb3081cb189761f95ff9b7c0bb8abf30} 
\index{cplusplus.h@{cplusplus.h}!\_\_stack\_chk\_guard@{\_\_stack\_chk\_guard}}
\index{\_\_stack\_chk\_guard@{\_\_stack\_chk\_guard}!cplusplus.h@{cplusplus.h}}
\doxysubsubsection{\texorpdfstring{\_\_stack\_chk\_guard}{\_\_stack\_chk\_guard}}
{\footnotesize\ttfamily uintptr\+\_\+t Max\+OS\+::runtime\+::\+\_\+\+\_\+stack\+\_\+chk\+\_\+guard = 0x595e9fbd94fda766}



The stack canary value used to detect stack buffer overflows (. 

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000043}{Todo}}]make random at runtime) \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{cplusplus_8h_source_l00052}{52}} of file \mbox{\hyperlink{cplusplus_8h_source}{cplusplus.\+h}}.

