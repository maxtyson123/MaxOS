\hypertarget{classMaxOS_1_1filesystem_1_1MSDOSPartitionTable}{}\doxysection{Max\+OS\+::filesystem\+::M\+S\+D\+O\+S\+Partition\+Table Class Reference}
\label{classMaxOS_1_1filesystem_1_1MSDOSPartitionTable}\index{MaxOS::filesystem::MSDOSPartitionTable@{MaxOS::filesystem::MSDOSPartitionTable}}


Reads the partition table of the hard drive.  




{\ttfamily \#include $<$msdospart.\+h$>$}

\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1MSDOSPartitionTable_afb52b7da9aba7e17037c3e65a48cfd24}{read\+\_\+partitions}} (\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1AdvancedTechnologyAttachment}{drivers\+::disk\+::\+Advanced\+Technology\+Attachment}} $\ast$hd)
\begin{DoxyCompactList}\small\item\em read the partition table of a given hard disk \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Reads the partition table of the hard drive. 

Definition at line 59 of file msdospart.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMaxOS_1_1filesystem_1_1MSDOSPartitionTable_afb52b7da9aba7e17037c3e65a48cfd24}\label{classMaxOS_1_1filesystem_1_1MSDOSPartitionTable_afb52b7da9aba7e17037c3e65a48cfd24}} 
\index{MaxOS::filesystem::MSDOSPartitionTable@{MaxOS::filesystem::MSDOSPartitionTable}!read\_partitions@{read\_partitions}}
\index{read\_partitions@{read\_partitions}!MaxOS::filesystem::MSDOSPartitionTable@{MaxOS::filesystem::MSDOSPartitionTable}}
\doxysubsubsection{\texorpdfstring{read\_partitions()}{read\_partitions()}}
{\footnotesize\ttfamily void M\+S\+D\+O\+S\+Partition\+Table\+::read\+\_\+partitions (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1drivers_1_1disk_1_1AdvancedTechnologyAttachment}{drivers\+::disk\+::\+Advanced\+Technology\+Attachment}} $\ast$}]{hd }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



read the partition table of a given hard disk 


\begin{DoxyParams}{Parameters}
{\em hd} & The hard disk to read the partition table from \\
\hline
\end{DoxyParams}


Definition at line 17 of file msdospart.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{17                                                                           \{}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{comment}{// read the MBR from the hard disk}}
\DoxyCodeLine{20     \mbox{\hyperlink{structMaxOS_1_1filesystem_1_1MasterBootRecord}{MasterBootRecord}} masterBootRecord;}
\DoxyCodeLine{21     hd -\/> read\_28(0, (uint8\_t *)\&masterBootRecord, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1filesystem_1_1MasterBootRecord}{MasterBootRecord}}));}
\DoxyCodeLine{22 }
\DoxyCodeLine{23     \textcolor{comment}{// Check if the magic number is correct}}
\DoxyCodeLine{24     \textcolor{keywordflow}{if}(masterBootRecord.magicNumber != 0xAA55)}
\DoxyCodeLine{25         \textcolor{keywordflow}{return};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{comment}{// Loop through the primary partitions}}
\DoxyCodeLine{29     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}} = 0; \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}} < 4; \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}++)\{}
\DoxyCodeLine{30 }
\DoxyCodeLine{31         \textcolor{keywordflow}{if}(masterBootRecord.primaryPartition[\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1peripherals_a891861cdf457ecedb7e3a5fa56515ebcaf552e09750e0ce71af8fc4fa0b32b8ff}{i}}].partitionId == 0) \textcolor{keywordflow}{continue};                      \textcolor{comment}{// If the partition id is 0, skip it}}
\DoxyCodeLine{32 }
\DoxyCodeLine{33         \textcolor{comment}{//TODO: Add a message stream}}
\DoxyCodeLine{34         \textcolor{comment}{//TODO: Create a new FAT32 object}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \}}
\DoxyCodeLine{37 \}}

\end{DoxyCode}


References Max\+O\+S\+::drivers\+::peripherals\+::i.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/include/filesystem/\mbox{\hyperlink{msdospart_8h}{msdospart.\+h}}\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/src/filesystem/\mbox{\hyperlink{msdospart_8cpp}{msdospart.\+cpp}}\end{DoxyCompactItemize}
