\hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol}{}\doxysection{Max\+OS\+::net\+::Address\+Resolution\+Protocol Class Reference}
\label{classMaxOS_1_1net_1_1AddressResolutionProtocol}\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}


{\ttfamily \#include $<$arp.\+h$>$}

Inheritance diagram for Max\+OS\+::net\+::Address\+Resolution\+Protocol\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classMaxOS_1_1net_1_1AddressResolutionProtocol}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_af89ec96fda818531345f775d6e45fb3a}{Address\+Resolution\+Protocol}} (\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFrameHandler}{Ethernet\+Frame\+Handler}} $\ast$ethernet\+Frame\+Handler, \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler}{Internet\+Protocol\+Handler}} $\ast$internet\+Protocol\+Handler, \mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream}{common\+::\+Output\+Stream}} $\ast$error\+Messages)
\item 
\mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_a7a758dd73520b9498ce5a13a0d906855}{$\sim$\+Address\+Resolution\+Protocol}} ()
\item 
bool \mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_a421fa84d80d81f8a75414aba472d0a09}{handle\+Ethernet\+Frame\+Payload}} (uint8\+\_\+t $\ast$\mbox{\hyperlink{icmp_8h_a1e43bf7d608e87228b625cca2c04d641}{data}}, uint32\+\_\+t \mbox{\hyperlink{interrupts_8h_aaba88b24a21a6c70c895c0d55f4a69a0}{size}})
\begin{DoxyCompactList}\small\item\em Called when an A\+RP packet is received. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_ad84350376c832ffd8519595245eb9f7f}{Request\+M\+A\+C\+Address}} (\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{Internet\+Protocol\+Address}} \mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}})
\begin{DoxyCompactList}\small\item\em Request the M\+AC address of a given IP address. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1ethernet_a65f54d2d9dfdb9eafd1affd62abe8d18}{drivers\+::ethernet\+::\+Media\+Access\+Control\+Address}} \mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_a6b6fc2de577ac511d1b38caa2f470f50}{Resolve}} (\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{Internet\+Protocol\+Address}} \mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}})
\begin{DoxyCompactList}\small\item\em Get the M\+AC address from an IP via A\+RP. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_a05f57eb32a87c30b921b2b069f9bcecc}{Store}} (\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{Internet\+Protocol\+Address}} internet\+Protocol\+Address, \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1ethernet_a65f54d2d9dfdb9eafd1affd62abe8d18}{drivers\+::ethernet\+::\+Media\+Access\+Control\+Address}} media\+Access\+Control\+Address)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 34 of file arp.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol_af89ec96fda818531345f775d6e45fb3a}\label{classMaxOS_1_1net_1_1AddressResolutionProtocol_af89ec96fda818531345f775d6e45fb3a}} 
\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}!AddressResolutionProtocol@{AddressResolutionProtocol}}
\index{AddressResolutionProtocol@{AddressResolutionProtocol}!MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}
\doxysubsubsection{\texorpdfstring{AddressResolutionProtocol()}{AddressResolutionProtocol()}}
{\footnotesize\ttfamily net\+::\+Address\+Resolution\+Protocol\+::\+Address\+Resolution\+Protocol (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFrameHandler}{Ethernet\+Frame\+Handler}} $\ast$}]{ethernet\+Frame\+Handler,  }\item[{\mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolHandler}{Internet\+Protocol\+Handler}} $\ast$}]{internet\+Protocol\+Handler,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1OutputStream}{common\+::\+Output\+Stream}} $\ast$}]{error\+Messages }\end{DoxyParamCaption})}



Definition at line 15 of file arp.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{16 : \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a5898c284c9e748b97254abcbaee68387}{EthernetFramePayloadHandler}}(ethernetFrameHandler, 0x0806),}
\DoxyCodeLine{17   \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolAddressResolver_aa9a233eb567c1e2354c1b18891a46412}{InternetProtocolAddressResolver}}(internetProtocolHandler)}
\DoxyCodeLine{18 \{}
\DoxyCodeLine{19     this-\/>internetProtocolHandler = internetProtocolHandler;}
\DoxyCodeLine{20     this-\/>errorMessages = errorMessages;}
\DoxyCodeLine{21 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol_a7a758dd73520b9498ce5a13a0d906855}\label{classMaxOS_1_1net_1_1AddressResolutionProtocol_a7a758dd73520b9498ce5a13a0d906855}} 
\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}!````~AddressResolutionProtocol@{$\sim$AddressResolutionProtocol}}
\index{````~AddressResolutionProtocol@{$\sim$AddressResolutionProtocol}!MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}
\doxysubsubsection{\texorpdfstring{$\sim$AddressResolutionProtocol()}{~AddressResolutionProtocol()}}
{\footnotesize\ttfamily net\+::\+Address\+Resolution\+Protocol\+::$\sim$\+Address\+Resolution\+Protocol (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 23 of file arp.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{23                                                          \{}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol_a421fa84d80d81f8a75414aba472d0a09}\label{classMaxOS_1_1net_1_1AddressResolutionProtocol_a421fa84d80d81f8a75414aba472d0a09}} 
\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}!handleEthernetFramePayload@{handleEthernetFramePayload}}
\index{handleEthernetFramePayload@{handleEthernetFramePayload}!MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}
\doxysubsubsection{\texorpdfstring{handleEthernetFramePayload()}{handleEthernetFramePayload()}}
{\footnotesize\ttfamily bool Address\+Resolution\+Protocol\+::handle\+Ethernet\+Frame\+Payload (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{etherframe\+Payload,  }\item[{uint32\+\_\+t}]{size }\end{DoxyParamCaption})}



Called when an A\+RP packet is received. 


\begin{DoxyParams}{Parameters}
{\em etherframe\+Payload} & The payload of the A\+RP packet. \\
\hline
{\em size} & The size of the A\+RP packet. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the device should send a response, false otherwise. 
\end{DoxyReturn}


Definition at line 34 of file arp.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                                                                                     \{}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{comment}{//Check if the size is correct}}
\DoxyCodeLine{37     \textcolor{keywordflow}{if}(\mbox{\hyperlink{fat32_8h_ab2c6b258f02add8fdf4cfc7c371dd772}{size}} < \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage}{AddressResolutionProtocolMessage}}))}
\DoxyCodeLine{38         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \textcolor{comment}{//Convert the payload to an ARP message}}
\DoxyCodeLine{41     \mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage}{AddressResolutionProtocolMessage}}* arpMessage = (\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage}{AddressResolutionProtocolMessage}}*)etherframePayload;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{comment}{//Check if the message hardware type is Ethernet (BigEndian)}}
\DoxyCodeLine{44     \textcolor{keywordflow}{if}(arpMessage -\/> \mbox{\hyperlink{arp_8h_a2b086e723a0536605e1efded5c5dc2c5}{hardwareType}} == 0x100)\{}
\DoxyCodeLine{45 }
\DoxyCodeLine{46         \textcolor{keywordflow}{if}(arpMessage -\/> \mbox{\hyperlink{arp_8h_ab551400c74271f35d0c79f81d29cffbb}{protocol}} == 0x0008             \textcolor{comment}{//Check if the protocol is IPv4 (BigEndian)}}
\DoxyCodeLine{47         \&\& arpMessage -\/> \mbox{\hyperlink{arp_8h_aebe62a393e82cc885d20fe573533a97d}{hardwareAddressSize}} == 6}
\DoxyCodeLine{48         \&\& arpMessage -\/> \mbox{\hyperlink{arp_8h_adba723aeb3d5bd07fd84c106a19e5191}{protocolAddressSize}} == 4}
\DoxyCodeLine{49         \&\& arpMessage -\/> \mbox{\hyperlink{arp_8h_a2287eab8c0183320980c7a0addb74a5a}{dstIP}} == internetProtocolHandler -\/> GetInternetProtocolAddress())}
\DoxyCodeLine{50         \{}
\DoxyCodeLine{51 }
\DoxyCodeLine{52             \textcolor{keywordflow}{switch} (arpMessage -\/> \mbox{\hyperlink{arp_8h_a4635796d5c7e7a2639b11dfe83718acc}{command}}) \{}
\DoxyCodeLine{53                 \textcolor{comment}{//Request}}
\DoxyCodeLine{54                 \textcolor{keywordflow}{case} 0x0100:}
\DoxyCodeLine{55                     arpMessage -\/> \mbox{\hyperlink{arp_8h_a4635796d5c7e7a2639b11dfe83718acc}{command}} = 0x0200;                                                                         \textcolor{comment}{//Set the command to reply}}
\DoxyCodeLine{56                     arpMessage -\/> \mbox{\hyperlink{arp_8h_a71289944f99c52386724f566fe9624ce}{dstMAC}} = arpMessage -\/> \mbox{\hyperlink{arp_8h_a46444771ae92e57ee3ad2b3930f6cdaf}{srcMAC}};                                                            \textcolor{comment}{//Set the destination MAC to the source MAC}}
\DoxyCodeLine{57                     arpMessage -\/> \mbox{\hyperlink{arp_8h_a2287eab8c0183320980c7a0addb74a5a}{dstIP}} = arpMessage -\/> \mbox{\hyperlink{arp_8h_a2c21b87d7d19b79e094d74112253a776}{srcIP}};                                                              \textcolor{comment}{//Set the destination IP to the source IP}}
\DoxyCodeLine{58                     arpMessage -\/> \mbox{\hyperlink{arp_8h_a46444771ae92e57ee3ad2b3930f6cdaf}{srcMAC}} = internetProtocolHandler -\/> GetMediaAccessControlAddress();                      \textcolor{comment}{//Set the source MAC to this MAC}}
\DoxyCodeLine{59                     arpMessage -\/> \mbox{\hyperlink{arp_8h_a2c21b87d7d19b79e094d74112253a776}{srcIP}} = internetProtocolHandler -\/> GetInternetProtocolAddress();                         \textcolor{comment}{//Set the source IP to this IP}}
\DoxyCodeLine{60                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{61 }
\DoxyCodeLine{62                 \textcolor{comment}{//Response}}
\DoxyCodeLine{63                 \textcolor{keywordflow}{case} 0x0200:}
\DoxyCodeLine{64                     addressCache.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a81607647ee83176c5cf53462f99583e0}{insert}}((\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{InternetProtocolAddress}})arpMessage -\/> \mbox{\hyperlink{arp_8h_a2c21b87d7d19b79e094d74112253a776}{srcIP}}, (\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1ethernet_a65f54d2d9dfdb9eafd1affd62abe8d18}{MediaAccessControlAddress}})arpMessage -\/> \mbox{\hyperlink{arp_8h_a46444771ae92e57ee3ad2b3930f6cdaf}{srcMAC}});     \textcolor{comment}{//Insert the MAC address into the cache}}
\DoxyCodeLine{65                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{66 }
\DoxyCodeLine{67                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{68                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70             \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72         \}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76     \textcolor{comment}{//By default, don't send anything back}}
\DoxyCodeLine{77     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \}}

\end{DoxyCode}


References command, dst\+IP, dst\+M\+AC, hardware\+Address\+Size, hardware\+Type, Max\+O\+S\+::common\+::\+Map$<$ Key, Value $>$\+::insert(), protocol, protocol\+Address\+Size, size, src\+IP, and src\+M\+AC.

\mbox{\Hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol_ad84350376c832ffd8519595245eb9f7f}\label{classMaxOS_1_1net_1_1AddressResolutionProtocol_ad84350376c832ffd8519595245eb9f7f}} 
\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}!RequestMACAddress@{RequestMACAddress}}
\index{RequestMACAddress@{RequestMACAddress}!MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}
\doxysubsubsection{\texorpdfstring{RequestMACAddress()}{RequestMACAddress()}}
{\footnotesize\ttfamily void Address\+Resolution\+Protocol\+::\+Request\+M\+A\+C\+Address (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{Internet\+Protocol\+Address}}}]{address }\end{DoxyParamCaption})}



Request the M\+AC address of a given IP address. 


\begin{DoxyParams}{Parameters}
{\em I\+P\+\_\+\+BE} & The IP address in Big\+Endian. \\
\hline
\end{DoxyParams}


Definition at line 88 of file arp.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                                                                  \{}
\DoxyCodeLine{89 }
\DoxyCodeLine{90     \textcolor{comment}{//When a MAC adress is requested, instantiate a new ARP message block on the stack}}
\DoxyCodeLine{91     \mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage}{AddressResolutionProtocolMessage}} arpMessage;}
\DoxyCodeLine{92 }
\DoxyCodeLine{93     \textcolor{comment}{//Set the message's values}}
\DoxyCodeLine{94     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a85b40d0625e6b0312fc826dbe686facf}{hardwareType}} = 0x0100;                                                   \textcolor{comment}{//Ethernet, encoded in BigEndian}}
\DoxyCodeLine{95     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a8622711cee3978571f8e5f8576723b5b}{protocol}} = 0x0008;                                                       \textcolor{comment}{//IPv4, encoded in BigEndian}}
\DoxyCodeLine{96     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_abd3ec76a9abf8a4dfde3b6880104f356}{hardwareAddressSize}} = 6;                                                 \textcolor{comment}{//MAC address size}}
\DoxyCodeLine{97     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_aa21d42e21c192abd19478547028e90e4}{protocolAddressSize}} = 4;                                                 \textcolor{comment}{//IPv4 address size}}
\DoxyCodeLine{98     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a57f68fcc83732defe5b696dc3c023e23}{command}} = 0x0100;                                                        \textcolor{comment}{//Request, encoded in BigEndian}}
\DoxyCodeLine{99 }
\DoxyCodeLine{100     \textcolor{comment}{//Set the message's source and destination}}
\DoxyCodeLine{101     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a66b6fdc1d7ed7501d8c5c578412a72a6}{srcMAC}} = \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_ac54f71ce7d512ba22a6f3306ad459a70}{frameHandler}} -\/> getMAC();                                       \textcolor{comment}{//Set the source MAC address to the backend's MAC address}}
\DoxyCodeLine{102     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a5a9d1d8a619f1ffee944e42f2cdc1a76}{srcIP}} = internetProtocolHandler -\/> GetInternetProtocolAddress();        \textcolor{comment}{//Set the source IP address to the backend's IP address}}
\DoxyCodeLine{103     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a72109578d1ad377bed04a1f58743bd7e}{dstMAC}} = 0xFFFFFFFFFFFF;                                                 \textcolor{comment}{//Set the destination MAC address to broadcast}}
\DoxyCodeLine{104     arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a97d4a48b16731c2297624138ff64827c}{dstIP}} = \mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}};                                                           \textcolor{comment}{//Set the destination IP address to the requested IP address}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{comment}{//Send the message}}
\DoxyCodeLine{107     \textcolor{keyword}{this} -\/> \mbox{\hyperlink{classMaxOS_1_1net_1_1EthernetFramePayloadHandler_a739be2fa5af3976cc46a1c6e4705fa43}{Send}}(arpMessage.\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage_a72109578d1ad377bed04a1f58743bd7e}{dstMAC}}, (uint8\_t*)\&arpMessage, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMaxOS_1_1net_1_1AddressResolutionProtocolMessage}{AddressResolutionProtocolMessage}}));}
\DoxyCodeLine{108 }
\DoxyCodeLine{109 }
\DoxyCodeLine{110 \}}

\end{DoxyCode}


References address, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::command, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::dst\+IP, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::dst\+M\+AC, Max\+O\+S\+::net\+::\+Ethernet\+Frame\+Payload\+Handler\+::frame\+Handler, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::hardware\+Address\+Size, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::hardware\+Type, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::protocol, Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::protocol\+Address\+Size, Max\+O\+S\+::net\+::\+Ethernet\+Frame\+Payload\+Handler\+::\+Send(), Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::src\+IP, and Max\+O\+S\+::net\+::\+Address\+Resolution\+Protocol\+Message\+::src\+M\+AC.



Referenced by Resolve().

\mbox{\Hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol_a6b6fc2de577ac511d1b38caa2f470f50}\label{classMaxOS_1_1net_1_1AddressResolutionProtocol_a6b6fc2de577ac511d1b38caa2f470f50}} 
\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}!Resolve@{Resolve}}
\index{Resolve@{Resolve}!MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}
\doxysubsubsection{\texorpdfstring{Resolve()}{Resolve()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1ethernet_a65f54d2d9dfdb9eafd1affd62abe8d18}{Media\+Access\+Control\+Address}} Address\+Resolution\+Protocol\+::\+Resolve (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{Internet\+Protocol\+Address}}}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Get the M\+AC address from an IP via A\+RP. 


\begin{DoxyParams}{Parameters}
{\em I\+P\+\_\+\+BE} & The IP address to get the M\+AC address from. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The M\+AC address of the IP address. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolAddressResolver_aa75e8e59c64acf4f6dabc778f65f2522}{Max\+O\+S\+::net\+::\+Internet\+Protocol\+Address\+Resolver}}.



Definition at line 119 of file arp.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{119                                                                                             \{}
\DoxyCodeLine{120 }
\DoxyCodeLine{121     \textcolor{keyword}{volatile} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{Map<InternetProtocolAddress, MediaAccessControlAddress>::iterator}} cacheIterator = addressCache.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a10698bb31fb97e95c3529256466f6214}{find}}(\mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}}); \textcolor{comment}{//Check if the MAC address is in the cache}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123     \textcolor{comment}{//If not, request it}}
\DoxyCodeLine{124     \textcolor{keywordflow}{if}(addressCache.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a4f3c03e90f4405f8b2841fd09268504d}{end}}() == cacheIterator)\{}
\DoxyCodeLine{125         \mbox{\hyperlink{classMaxOS_1_1net_1_1AddressResolutionProtocol_ad84350376c832ffd8519595245eb9f7f}{RequestMACAddress}}(\mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}});}
\DoxyCodeLine{126     \}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128     \textcolor{comment}{//TODO: Add clock to wait}}
\DoxyCodeLine{129 }
\DoxyCodeLine{130     \textcolor{comment}{//This isnt safe because the MAC address might not be in the cache yet or the machine may not be connected to the network (possible infinite loop) //TODO: TIMEOUT}}
\DoxyCodeLine{131     \textcolor{keywordflow}{while} (cacheIterator == addressCache.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a4f3c03e90f4405f8b2841fd09268504d}{end}}()) \{                         \textcolor{comment}{//Wait until the MAC address is found}}
\DoxyCodeLine{132         cacheIterator = addressCache.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a10698bb31fb97e95c3529256466f6214}{find}}(\mbox{\hyperlink{amd__am79c973_8h_ac0d31ca829f934cccd89f8054e02773e}{address}});}
\DoxyCodeLine{133     \}}
\DoxyCodeLine{134 }
\DoxyCodeLine{135     \textcolor{comment}{//Return the MAC address}}
\DoxyCodeLine{136 }
\DoxyCodeLine{137     \textcolor{keywordflow}{return} cacheIterator -\/> second;}
\DoxyCodeLine{138 }
\DoxyCodeLine{139 \}}

\end{DoxyCode}


References address, Max\+O\+S\+::common\+::\+Map$<$ Key, Value $>$\+::end(), Max\+O\+S\+::common\+::\+Map$<$ Key, Value $>$\+::find(), and Request\+M\+A\+C\+Address().

\mbox{\Hypertarget{classMaxOS_1_1net_1_1AddressResolutionProtocol_a05f57eb32a87c30b921b2b069f9bcecc}\label{classMaxOS_1_1net_1_1AddressResolutionProtocol_a05f57eb32a87c30b921b2b069f9bcecc}} 
\index{MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}!Store@{Store}}
\index{Store@{Store}!MaxOS::net::AddressResolutionProtocol@{MaxOS::net::AddressResolutionProtocol}}
\doxysubsubsection{\texorpdfstring{Store()}{Store()}}
{\footnotesize\ttfamily void Address\+Resolution\+Protocol\+::\+Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceMaxOS_1_1net_af037c025feb88b952b167f4dfa2709a0}{Internet\+Protocol\+Address}}}]{internet\+Protocol\+Address,  }\item[{\mbox{\hyperlink{namespaceMaxOS_1_1drivers_1_1ethernet_a65f54d2d9dfdb9eafd1affd62abe8d18}{drivers\+::ethernet\+::\+Media\+Access\+Control\+Address}}}]{media\+Access\+Control\+Address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classMaxOS_1_1net_1_1InternetProtocolAddressResolver_af587cedecbb5e49acd99e193ccce1e57}{Max\+O\+S\+::net\+::\+Internet\+Protocol\+Address\+Resolver}}.



Definition at line 141 of file arp.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{141                                                                                                                                           \{}
\DoxyCodeLine{142     addressCache.\mbox{\hyperlink{classMaxOS_1_1common_1_1Map_a81607647ee83176c5cf53462f99583e0}{insert}}(internetProtocolAddress, mediaAccessControlAddress);}
\DoxyCodeLine{143 \}}

\end{DoxyCode}


References Max\+O\+S\+::common\+::\+Map$<$ Key, Value $>$\+::insert().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/include/net/\mbox{\hyperlink{arp_8h}{arp.\+h}}\item 
/home/runner/work/\+Max\+O\+S/\+Max\+O\+S/kernel/src/net/\mbox{\hyperlink{arp_8cpp}{arp.\+cpp}}\end{DoxyCompactItemize}
