\doxysection{Max\+OS\+::filesystem\+::format\+::ext2\+::Inode\+Handler Class Reference}
\hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler}{}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler}\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}


Simplfies the management of an inode \& its blocks.  




{\ttfamily \#include $<$ext2.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac29a45d004af57007f4bbad18fc73b05}{Inode\+Handler}} (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume}{Ext2\+Volume}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{volume}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}})
\begin{DoxyCompactList}\small\item\em Construct a new \doxylink{structMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Inode}{Inode} Handler object. Reads the inode and caches the block pointers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}} () \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{const}}
\begin{DoxyCompactList}\small\item\em read the size upper and lower into a single size\+\_\+t \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_adf9adc52bc5a36bfc974c4966a93370b}{set\+\_\+size}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}})
\begin{DoxyCompactList}\small\item\em store the size of the inode data. (does not write to disk) \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4bab1e2c0a08c16d2395cf4d3da64b04}{grow}} (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}}, \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{bool}} flush=\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{true}})
\begin{DoxyCompactList}\small\item\em Increase the size of the inode\textquotesingle{}s storage capacity by allocating new blocks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ae90957a35d01a04fedf9fdbe1a8fbd49}{save}} ()
\begin{DoxyCompactList}\small\item\em Writes the inode meta data to disk. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a16743eec6204b9871d97b80d163449e8}{free}} ()
\begin{DoxyCompactList}\small\item\em Marks this inode\textquotesingle{}s blocks as free and then the inode as free. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa}{inode\+\_\+number}}
\begin{DoxyCompactList}\small\item\em The index of the inode. \end{DoxyCompactList}\item 
\mbox{\hyperlink{ext2_8h_adecfa9c752ab7847b442910a50c2fd66}{inode\+\_\+t}} \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}
\begin{DoxyCompactList}\small\item\em The inode metadata for this file/directory. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMaxOS_1_1common_1_1Vector}{common\+::\+Vector}}$<$ uint32\+\_\+t $>$ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac72b44dc162a6569a49869cc574007fd}{block\+\_\+cache}}
\begin{DoxyCompactList}\small\item\em All the blocks used by this inode. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Simplfies the management of an inode \& its blocks. 

Definition at line \mbox{\hyperlink{ext2_8h_source_l00372}{372}} of file \mbox{\hyperlink{ext2_8h_source}{ext2.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac29a45d004af57007f4bbad18fc73b05}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac29a45d004af57007f4bbad18fc73b05} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!InodeHandler@{InodeHandler}}
\index{InodeHandler@{InodeHandler}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{InodeHandler()}{InodeHandler()}}
{\footnotesize\ttfamily Inode\+Handler\+::\+Inode\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume}{Ext2\+Volume}} \texorpdfstring{$\ast$}{*}}]{volume,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\+\_\+t}}}]{inode\+\_\+index }\end{DoxyParamCaption})}



Construct a new \doxylink{structMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Inode}{Inode} Handler object. Reads the inode and caches the block pointers. 


\begin{DoxyParams}{Parameters}
{\em volume} & The volume the inode belongs to \\
\hline
{\em inode\+\_\+index} & The inode index \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ext2_8cpp_source_l00509}{509}} of file \mbox{\hyperlink{ext2_8cpp_source}{ext2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ :\ m\_volume(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{volume}}),}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa}{inode\_number}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{inode\_index}}),}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}(m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_a3ea16aa4dc886e18b353c1f4a3076100}{read\_inode}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa}{inode\_number}}))\ \{}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ block\ pointers}}
\DoxyCodeLine{00515\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{direct\_pointer}}\ =\ 0;\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{direct\_pointer}}\ <\ 12;\ ++\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{direct\_pointer}})}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.block\_pointers[\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{direct\_pointer}}])}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac72b44dc162a6569a49869cc574007fd}{block\_cache}}.\mbox{\hyperlink{classMaxOS_1_1common_1_1Vector_ac753563317978358eb995f9eea7c1558}{push\_back}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.block\_pointers[\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{direct\_pointer}}]);}
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1common_1_1Buffer}{buffer\_t}}\ buffer(m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_a10014d7b0ae0cc94ea281d0e6ca56500}{block\_size}});}
\DoxyCodeLine{00520\ \ \ \ \ parse\_indirect(1,\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.l1\_indirect,\ \&buffer);}
\DoxyCodeLine{00521\ \ \ \ \ parse\_indirect(2,\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.l2\_indirect,\ \&buffer);}
\DoxyCodeLine{00522\ \ \ \ \ parse\_indirect(3,\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.l3\_indirect,\ \&buffer);}
\DoxyCodeLine{00523\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ext2_8h_source_l00387}{block\+\_\+cache}}, \mbox{\hyperlink{ext2_8h_source_l00342}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::block\+\_\+size}}, \mbox{\hyperlink{ext2_8h_source_l00386}{inode}}, and \mbox{\hyperlink{vector_8h_source_l00333}{Max\+OS\+::common\+::\+Vector$<$ Type $>$\+::push\+\_\+back()}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a16743eec6204b9871d97b80d163449e8}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a16743eec6204b9871d97b80d163449e8} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!free@{free}}
\index{free@{free}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{free()}{free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Inode\+Handler\+::free (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Marks this inode\textquotesingle{}s blocks as free and then the inode as free. 



Definition at line \mbox{\hyperlink{ext2_8cpp_source_l00705}{705}} of file \mbox{\hyperlink{ext2_8cpp_source}{ext2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00707\ \ \ \ \ m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_a07e488e15a650d14870a5d9654b23193}{ext2\_lock}}.\mbox{\hyperlink{classMaxOS_1_1common_1_1Spinlock_a27a03c3d6b4cdd677e7d16e59689e38e}{lock}}();}
\DoxyCodeLine{00708\ }
\DoxyCodeLine{00709\ \ \ \ \ \textcolor{comment}{//\ Free\ the\ inode}}
\DoxyCodeLine{00710\ \ \ \ \ m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_afee2108a1f09f919a3cafff60f3bc5dd}{free\_blocks}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac72b44dc162a6569a49869cc574007fd}{block\_cache}});}
\DoxyCodeLine{00711\ \ \ \ \ m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_a4acd208a882871ef4ce89ab5e297e31c}{free\_inode}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa}{inode\_number}});}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ \ \ \ \ m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_a07e488e15a650d14870a5d9654b23193}{ext2\_lock}}.\mbox{\hyperlink{classMaxOS_1_1common_1_1Spinlock_a7c26334ccfa43ef932ef3c73e2c11492}{unlock}}();}
\DoxyCodeLine{00714\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ext2_8h_source_l00387}{block\+\_\+cache}}, \mbox{\hyperlink{ext2_8h_source_l00350}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::ext2\+\_\+lock}}, \mbox{\hyperlink{ext2_8cpp_source_l00464}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::free\+\_\+blocks()}}, \mbox{\hyperlink{ext2_8cpp_source_l00434}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::free\+\_\+inode()}}, \mbox{\hyperlink{ext2_8h_source_l00385}{inode\+\_\+number}}, \mbox{\hyperlink{spinlock_8cpp_source_l00024}{Max\+OS\+::common\+::\+Spinlock\+::lock()}}, and \mbox{\hyperlink{spinlock_8cpp_source_l00032}{Max\+OS\+::common\+::\+Spinlock\+::unlock()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4bab1e2c0a08c16d2395cf4d3da64b04}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4bab1e2c0a08c16d2395cf4d3da64b04} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!grow@{grow}}
\index{grow@{grow}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{grow()}{grow()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} Inode\+Handler\+::grow (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{amount,  }\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{bool}}}]{flush = {\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{true}}} }\end{DoxyParamCaption})}



Increase the size of the inode\textquotesingle{}s storage capacity by allocating new blocks. 


\begin{DoxyParams}{Parameters}
{\em amount} & The amount to grow to in bytes \\
\hline
{\em flush} & Save the newly allocated chunks to disk, defaults to true \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new toatal size of the file (\doxylink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size()} + amount)
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000058}{Todo}}]Should this return \doxylink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size()} instead? \end{DoxyRefDesc}


Definition at line \mbox{\hyperlink{ext2_8cpp_source_l00675}{675}} of file \mbox{\hyperlink{ext2_8cpp_source}{ext2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00676\ }
\DoxyCodeLine{00677\ \ \ \ \ \textcolor{comment}{//\ Nothing\ to\ grow}}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}}\ <=\ 0)}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}}();}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \ \ \textcolor{comment}{//\ Allocate\ new\ blocks}}
\DoxyCodeLine{00682\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{blocks}}\ =\ m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_acf68810ccb0f9cdb2b9491c077710205}{allocate\_blocks}}(m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_af9769f68d14aa0c2c44b9313c151eafc}{bytes\_to\_blocks}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}}));}
\DoxyCodeLine{00683\ \ \ \ \ \mbox{\hyperlink{logger_8h_adf7b5d69e4c25995b3211b91b27f33b6}{ASSERT}}(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{blocks}}[0]\ !=\ 0,\ \textcolor{stringliteral}{"{}Failed\ to\ allocate\ new\ blocks\ for\ file"{}});}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{comment}{//\ Save\ the\ changes}}
\DoxyCodeLine{00686\ \ \ \ \ store\_blocks(\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{blocks}});}
\DoxyCodeLine{00687\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_adf9adc52bc5a36bfc974c4966a93370b}{set\_size}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}}()\ +\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}});}
\DoxyCodeLine{00688\ \ \ \ \ \textcolor{keywordflow}{if}(flush)}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ae90957a35d01a04fedf9fdbe1a8fbd49}{save}}();}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}}()\ +\ \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{amount}};}
\DoxyCodeLine{00692\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ext2_8cpp_source_l00188}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::allocate\+\_\+blocks()}}, \mbox{\hyperlink{logger_8h_source_l00100}{ASSERT}}, \mbox{\hyperlink{ext2_8cpp_source_l00360}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::bytes\+\_\+to\+\_\+blocks()}}, \mbox{\hyperlink{ext2_8cpp_source_l00697}{save()}}, \mbox{\hyperlink{ext2_8cpp_source_l00537}{set\+\_\+size()}}, and \mbox{\hyperlink{ext2_8cpp_source_l00529}{size()}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l00741}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ae90957a35d01a04fedf9fdbe1a8fbd49}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ae90957a35d01a04fedf9fdbe1a8fbd49} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!save@{save}}
\index{save@{save}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Inode\+Handler\+::save (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Writes the inode meta data to disk. 



Definition at line \mbox{\hyperlink{ext2_8cpp_source_l00697}{697}} of file \mbox{\hyperlink{ext2_8cpp_source}{ext2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00698\ }
\DoxyCodeLine{00699\ \ \ \ \ m\_volume-\/>\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1Ext2Volume_acd1055b2e0fc33cfd7b3ded4dd20c432}{write\_inode}}(\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa}{inode\_number}},\ \&\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}});}
\DoxyCodeLine{00700\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ext2_8h_source_l00386}{inode}}, \mbox{\hyperlink{ext2_8h_source_l00385}{inode\+\_\+number}}, and \mbox{\hyperlink{ext2_8cpp_source_l00102}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Volume\+::write\+\_\+inode()}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l00675}{grow()}}, and \mbox{\hyperlink{ext2_8cpp_source_l00741}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_adf9adc52bc5a36bfc974c4966a93370b}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_adf9adc52bc5a36bfc974c4966a93370b} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!set\_size@{set\_size}}
\index{set\_size@{set\_size}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{set\_size()}{set\_size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{void}} Inode\+Handler\+::set\+\_\+size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



store the size of the inode data. (does not write to disk) 


\begin{DoxyParams}{Parameters}
{\em size} & The new size \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{ext2_8cpp_source_l00537}{537}} of file \mbox{\hyperlink{ext2_8cpp_source}{ext2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00539\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.size\_lower\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}})\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}}\ \&\ 0xFFFFFFFFULL);}
\DoxyCodeLine{00540\ \ \ \ \ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.size\_upper\ =\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{uint32\_t}})\ (\mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}{size}}\ >>\ 32);}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ext2_8h_source_l00386}{inode}}, and \mbox{\hyperlink{ext2_8cpp_source_l00529}{size()}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l00675}{grow()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a8c54bf75f58ffc8c570c6d292f4f9168} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!size@{size}}
\index{size@{size}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\+\_\+t}} Inode\+Handler\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



read the size upper and lower into a single size\+\_\+t 

\begin{DoxyReturn}{Returns}
The size of the inode data (not the inode itself) 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{ext2_8cpp_source_l00529}{529}} of file \mbox{\hyperlink{ext2_8cpp_source}{ext2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{keywordflow}{return}\ ((\textcolor{keywordtype}{size\_t})\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.size\_upper\ <<\ 32)\ |\ (\mbox{\hyperlink{classMaxOS_1_1common_1_1Rectangle}{size\_t}})\ \mbox{\hyperlink{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}{inode}}.size\_lower;}
\DoxyCodeLine{00531\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{ext2_8h_source_l00386}{inode}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l00725}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+File\+::\+Ext2\+File()}}, \mbox{\hyperlink{ext2_8cpp_source_l00675}{grow()}}, and \mbox{\hyperlink{ext2_8cpp_source_l00537}{set\+\_\+size()}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac72b44dc162a6569a49869cc574007fd}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_ac72b44dc162a6569a49869cc574007fd} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!block\_cache@{block\_cache}}
\index{block\_cache@{block\_cache}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{block\_cache}{block\_cache}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMaxOS_1_1common_1_1Vector}{common\+::\+Vector}}$<$uint32\+\_\+t$>$ Max\+OS\+::filesystem\+::format\+::ext2\+::\+Inode\+Handler\+::block\+\_\+cache}



All the blocks used by this inode. 



Definition at line \mbox{\hyperlink{ext2_8h_source_l00387}{387}} of file \mbox{\hyperlink{ext2_8h_source}{ext2.\+h}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l00705}{free()}}, \mbox{\hyperlink{ext2_8cpp_source_l00509}{Inode\+Handler()}}, \mbox{\hyperlink{ext2_8cpp_source_l00795}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+File\+::read()}}, \mbox{\hyperlink{ext2_8cpp_source_l00959}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Directory\+::read\+\_\+from\+\_\+disk()}}, and \mbox{\hyperlink{ext2_8cpp_source_l00741}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a4b3d8a3e59ad907e9117dcd68da4db23} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!inode@{inode}}
\index{inode@{inode}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{inode}{inode}}
{\footnotesize\ttfamily \mbox{\hyperlink{ext2_8h_adecfa9c752ab7847b442910a50c2fd66}{inode\+\_\+t}} Max\+OS\+::filesystem\+::format\+::ext2\+::\+Inode\+Handler\+::inode}



The inode metadata for this file/directory. 



Definition at line \mbox{\hyperlink{ext2_8h_source_l00386}{386}} of file \mbox{\hyperlink{ext2_8h_source}{ext2.\+h}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l00509}{Inode\+Handler()}}, \mbox{\hyperlink{ext2_8cpp_source_l00697}{save()}}, \mbox{\hyperlink{ext2_8cpp_source_l00537}{set\+\_\+size()}}, \mbox{\hyperlink{ext2_8cpp_source_l00529}{size()}}, and \mbox{\hyperlink{ext2_8cpp_source_l00741}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+File\+::write()}}.

\Hypertarget{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa}\label{classMaxOS_1_1filesystem_1_1format_1_1ext2_1_1InodeHandler_a1243bf317b75eccc9fae0c42c2a472fa} 
\index{MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}!inode\_number@{inode\_number}}
\index{inode\_number@{inode\_number}!MaxOS::filesystem::format::ext2::InodeHandler@{MaxOS::filesystem::format::ext2::InodeHandler}}
\doxysubsubsection{\texorpdfstring{inode\_number}{inode\_number}}
{\footnotesize\ttfamily uint32\+\_\+t Max\+OS\+::filesystem\+::format\+::ext2\+::\+Inode\+Handler\+::inode\+\_\+number}



The index of the inode. 



Definition at line \mbox{\hyperlink{ext2_8h_source_l00385}{385}} of file \mbox{\hyperlink{ext2_8h_source}{ext2.\+h}}.



Referenced by \mbox{\hyperlink{ext2_8cpp_source_l01128}{Max\+OS\+::filesystem\+::format\+::ext2\+::\+Ext2\+Directory\+::create\+\_\+subdirectory()}}, \mbox{\hyperlink{ext2_8cpp_source_l00705}{free()}}, and \mbox{\hyperlink{ext2_8cpp_source_l00697}{save()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/include/filesystem/format/\mbox{\hyperlink{ext2_8h}{ext2.\+h}}\item 
/home/runner/work/\+Max\+OS/\+Max\+OS/kernel/src/filesystem/format/\mbox{\hyperlink{ext2_8cpp}{ext2.\+cpp}}\end{DoxyCompactItemize}
