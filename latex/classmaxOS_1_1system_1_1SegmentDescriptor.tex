\hypertarget{classmaxOS_1_1system_1_1SegmentDescriptor}{}\doxysection{max\+OS\+::system\+::Segment\+Descriptor Class Reference}
\label{classmaxOS_1_1system_1_1SegmentDescriptor}\index{maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}}


Stores data for the segment descriptors in the G\+DT.  




{\ttfamily \#include $<$gdt.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_aeeec96b4737c9630a40538ce4b32313f}{Segment\+Descriptor}} (uint32\+\_\+t \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}{base}}, uint32\+\_\+t \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}}, uint8\+\_\+t \mbox{\hyperlink{multiboot_8h_a8da1a8c7127a0371eec0810a29e30f3c}{type}})
\begin{DoxyCompactList}\small\item\em Constructor for Segment Selector. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}{base}} ()
\begin{DoxyCompactList}\small\item\em Look up the pointer. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} ()
\begin{DoxyCompactList}\small\item\em Look up the limit. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Stores data for the segment descriptors in the G\+DT. 

Definition at line 18 of file gdt.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classmaxOS_1_1system_1_1SegmentDescriptor_aeeec96b4737c9630a40538ce4b32313f}\label{classmaxOS_1_1system_1_1SegmentDescriptor_aeeec96b4737c9630a40538ce4b32313f}} 
\index{maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}!SegmentDescriptor@{SegmentDescriptor}}
\index{SegmentDescriptor@{SegmentDescriptor}!maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}}
\doxysubsubsection{\texorpdfstring{SegmentDescriptor()}{SegmentDescriptor()}}
{\footnotesize\ttfamily Segment\+Descriptor\+::\+Segment\+Descriptor (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{base,  }\item[{uint32\+\_\+t}]{limit,  }\item[{uint8\+\_\+t}]{type }\end{DoxyParamCaption})}



Constructor for Segment Selector. 


\begin{DoxyParams}{Parameters}
{\em base} & base address \\
\hline
{\em limit} & limit \\
\hline
{\em flags} & Flags \\
\hline
\end{DoxyParams}


Definition at line 18 of file gdt.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{19 \{}
\DoxyCodeLine{20   uint8\_t* target = (uint8\_t*)\textcolor{keyword}{this};       \textcolor{comment}{//segment entry in GDT.}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} <= 65536)}
\DoxyCodeLine{23   \{}
\DoxyCodeLine{24     \textcolor{comment}{// 16-\/bit address space}}
\DoxyCodeLine{25     target[6] = 0x40;}
\DoxyCodeLine{26   \}}
\DoxyCodeLine{27   \textcolor{keywordflow}{else}}
\DoxyCodeLine{28   \{}
\DoxyCodeLine{29     \textcolor{comment}{// 32-\/bit address space}}
\DoxyCodeLine{30     \textcolor{keywordflow}{if}((\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} \& 0xFFF) != 0xFFF)}
\DoxyCodeLine{31       \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} = (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} >> 12)-\/1;}
\DoxyCodeLine{32     \textcolor{keywordflow}{else}}
\DoxyCodeLine{33       \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} = \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} >> 12;}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     target[6] = 0xC0;}
\DoxyCodeLine{36   \}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38   \textcolor{comment}{// Encode the limit}}
\DoxyCodeLine{39   target[0] = \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} \& 0xFF;}
\DoxyCodeLine{40   target[1] = (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} >> 8) \& 0xFF;}
\DoxyCodeLine{41   target[6] |= (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}{limit}} >> 16) \& 0xF;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43   \textcolor{comment}{// Encode the base}}
\DoxyCodeLine{44   target[2] = \mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}{base}} \& 0xFF;}
\DoxyCodeLine{45   target[3] = (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}{base}} >> 8) \& 0xFF;}
\DoxyCodeLine{46   target[4] = (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}{base}} >> 16) \& 0xFF;}
\DoxyCodeLine{47   target[7] = (\mbox{\hyperlink{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}{base}} >> 24) \& 0xFF;}
\DoxyCodeLine{48 }
\DoxyCodeLine{49   \textcolor{comment}{// Type / Access Rights}}
\DoxyCodeLine{50   target[5] = \mbox{\hyperlink{ethernetframe_8h_acb5cfd209ba75c853d03f701e7f91679}{type}};}
\DoxyCodeLine{51 \}}

\end{DoxyCode}


References base(), limit(), and type.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}\label{classmaxOS_1_1system_1_1SegmentDescriptor_afe7e9a59e9deb2a4b1defa685db1992e}} 
\index{maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}!base@{base}}
\index{base@{base}!maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}}
\doxysubsubsection{\texorpdfstring{base()}{base()}}
{\footnotesize\ttfamily uint32\+\_\+t Segment\+Descriptor\+::base (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Look up the pointer. 

\begin{DoxyReturn}{Returns}
The pointer 
\end{DoxyReturn}


Definition at line 57 of file gdt.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59   uint8\_t* target = (uint8\_t*)\textcolor{keyword}{this};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61   uint32\_t result = target[7];}
\DoxyCodeLine{62   result = (result << 8) + target[4];}
\DoxyCodeLine{63   result = (result << 8) + target[3];}
\DoxyCodeLine{64   result = (result << 8) + target[2];}
\DoxyCodeLine{65 }
\DoxyCodeLine{66   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{67 \}}

\end{DoxyCode}


Referenced by Segment\+Descriptor().

\mbox{\Hypertarget{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}\label{classmaxOS_1_1system_1_1SegmentDescriptor_a3bb099b10cef1c4fab8734af2bf67c15}} 
\index{maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}!limit@{limit}}
\index{limit@{limit}!maxOS::system::SegmentDescriptor@{maxOS::system::SegmentDescriptor}}
\doxysubsubsection{\texorpdfstring{limit()}{limit()}}
{\footnotesize\ttfamily uint32\+\_\+t Segment\+Descriptor\+::limit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Look up the limit. 

\begin{DoxyReturn}{Returns}
The limit 
\end{DoxyReturn}


Definition at line 74 of file gdt.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{75 \{}
\DoxyCodeLine{76   uint8\_t* target = (uint8\_t*)\textcolor{keyword}{this};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   uint32\_t result = target[6] \& 0xF;}
\DoxyCodeLine{79   result = (result << 8) + target[1];}
\DoxyCodeLine{80   result = (result << 8) + target[0];}
\DoxyCodeLine{81 }
\DoxyCodeLine{82   \textcolor{keywordflow}{if}((target[6] \& 0xC0) == 0xC0)}
\DoxyCodeLine{83     result = (result << 12) | 0xFFF;}
\DoxyCodeLine{84 }
\DoxyCodeLine{85   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{86 \}}

\end{DoxyCode}


Referenced by Segment\+Descriptor().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/max-\/os/max-\/os/kernel/include/system/\mbox{\hyperlink{gdt_8h}{gdt.\+h}}\item 
/home/runner/work/max-\/os/max-\/os/kernel/src/system/\mbox{\hyperlink{gdt_8cpp}{gdt.\+cpp}}\end{DoxyCompactItemize}
